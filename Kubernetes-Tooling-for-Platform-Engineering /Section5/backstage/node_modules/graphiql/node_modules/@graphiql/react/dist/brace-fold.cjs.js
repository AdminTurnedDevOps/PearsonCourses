"use strict";var S=Object.defineProperty;var y=(d,L)=>S(d,"name",{value:L,configurable:!0});const _=require("./codemirror.cjs2.js");function m(d,L){for(var e=0;e<L.length;e++){const g=L[e];if(typeof g!="string"&&!Array.isArray(g)){for(const t in g)if(t!=="default"&&!(t in d)){const a=Object.getOwnPropertyDescriptor(g,t);a&&Object.defineProperty(d,t,a.get?a:{enumerable:!0,get:()=>g[t]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}y(m,"_mergeNamespaces");var I={exports:{}};(function(d,L){(function(e){e(_.requireCodemirror())})(function(e){function g(t){return function(a,f){var n=f.line,o=a.getLine(n);function v(l){for(var u,c=f.ch,h=0;;){var b=c<=0?-1:o.lastIndexOf(l[0],c-1);if(b==-1){if(h==1)break;h=1,c=o.length;continue}if(h==1&&b<f.ch)break;if(u=a.getTokenTypeAt(e.Pos(n,b+1)),!/^(comment|string)/.test(u))return{ch:b+1,tokenType:u,pair:l};c=b-1}}y(v,"findOpening");function k(l){var u=1,c=a.lastLine(),h,b=l.ch,j;e:for(var T=n;T<=c;++T)for(var A=a.getLine(T),p=T==n?b:0;;){var F=A.indexOf(l.pair[0],p),O=A.indexOf(l.pair[1],p);if(F<0&&(F=A.length),O<0&&(O=A.length),p=Math.min(F,O),p==A.length)break;if(a.getTokenTypeAt(e.Pos(T,p+1))==l.tokenType){if(p==F)++u;else if(!--u){h=T,j=p;break e}}++p}return h==null||n==h?null:{from:e.Pos(n,b),to:e.Pos(h,j)}}y(k,"findRange");for(var i=[],r=0;r<t.length;r++){var s=v(t[r]);s&&i.push(s)}i.sort(function(l,u){return l.ch-u.ch});for(var r=0;r<i.length;r++){var P=k(i[r]);if(P)return P}return null}}y(g,"bracketFolding"),e.registerHelper("fold","brace",g([["{","}"],["[","]"]])),e.registerHelper("fold","brace-paren",g([["{","}"],["[","]"],["(",")"]])),e.registerHelper("fold","import",function(t,a){function f(r){if(r<t.firstLine()||r>t.lastLine())return null;var s=t.getTokenAt(e.Pos(r,1));if(/\S/.test(s.string)||(s=t.getTokenAt(e.Pos(r,s.end+1))),s.type!="keyword"||s.string!="import")return null;for(var P=r,l=Math.min(t.lastLine(),r+10);P<=l;++P){var u=t.getLine(P),c=u.indexOf(";");if(c!=-1)return{startCh:s.end,end:e.Pos(P,c)}}}y(f,"hasImport");var n=a.line,o=f(n),v;if(!o||f(n-1)||(v=f(n-2))&&v.end.line==n-1)return null;for(var k=o.end;;){var i=f(k.line+1);if(i==null)break;k=i.end}return{from:t.clipPos(e.Pos(n,o.startCh+1)),to:k}}),e.registerHelper("fold","include",function(t,a){function f(i){if(i<t.firstLine()||i>t.lastLine())return null;var r=t.getTokenAt(e.Pos(i,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(i,r.end+1))),r.type=="meta"&&r.string.slice(0,8)=="#include")return r.start+8}y(f,"hasInclude");var n=a.line,o=f(n);if(o==null||f(n-1)!=null)return null;for(var v=n;;){var k=f(v+1);if(k==null)break;++v}return{from:e.Pos(n,o+1),to:t.clipPos(e.Pos(v))}})})})();var H=I.exports;const q=_.getDefaultExportFromCjs(H),w=m({__proto__:null,default:q},[H]);exports.braceFold=w;
//# sourceMappingURL=brace-fold.cjs.js.map
