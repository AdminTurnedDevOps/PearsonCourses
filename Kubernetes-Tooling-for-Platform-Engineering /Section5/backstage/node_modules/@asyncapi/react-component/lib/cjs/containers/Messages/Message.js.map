{"version":3,"file":"Message.js","sourceRoot":"","sources":["../../../../src/containers/Messages/Message.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { MessageInterface } from '@asyncapi/parser';\n\nimport { MessageExample } from './MessageExample';\nimport {\n  Href,\n  Markdown,\n  Schema,\n  Bindings,\n  Tags,\n  Extensions,\n} from '../../components';\n\nimport { useConfig } from '../../contexts';\nimport { CommonHelpers } from '../../helpers';\nimport {\n  CONTENT_TYPES_SITE,\n  EXTERAL_DOCUMENTATION_TEXT,\n} from '../../constants';\n\ninterface Props {\n  message: MessageInterface;\n  messageName?: string;\n  index?: number | string;\n  showExamples?: boolean;\n}\n\nexport const Message: React.FunctionComponent<Props> = ({\n  message,\n  messageName,\n  index,\n  showExamples = false,\n}) => {\n  const config = useConfig();\n\n  if (!message) {\n    return null;\n  }\n\n  // check typeof as fallback for older version than `2.4.0`\n  const messageId = typeof message.id === 'function' && message.id();\n  const title = message.title();\n  const summary = message.summary();\n  const payload = message.payload();\n  const headers = message.headers();\n  const correlationId = message.correlationId();\n\n  const contentType = message.contentType();\n  const externalDocs = message.externalDocs();\n  const showInfoList = contentType ?? externalDocs;\n\n  return (\n    <div className=\"panel-item\">\n      <div className=\"panel-item--center px-8\">\n        <div className=\"shadow rounded bg-gray-200 p-4 border\">\n          <div>\n            {index !== undefined && (\n              <strong className=\"text-gray-700 mr-2\">#{index}</strong>\n            )}\n            {title && <span className=\"text-gray-700 mr-2\">{title}</span>}\n          </div>\n\n          {summary && <p className=\"text-gray-600 text-sm\">{summary}</p>}\n\n          {showInfoList && (\n            <ul className=\"leading-normal mt-2 mb-4 space-x-2 space-y-2\">\n              {contentType && (\n                <li className=\"inline-block\">\n                  <Href\n                    className=\"border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1\"\n                    href={`${CONTENT_TYPES_SITE}/${contentType}`}\n                  >\n                    <span>{contentType}</span>\n                  </Href>\n                </li>\n              )}\n              {externalDocs && (\n                <li className=\"inline-block\">\n                  <Href\n                    className=\"border border-solid border-orange-300 hover:bg-orange-300 hover:text-orange-600 text-orange-500 font-bold no-underline text-xs uppercase rounded px-3 py-1\"\n                    href={externalDocs.url()}\n                  >\n                    <span>{EXTERAL_DOCUMENTATION_TEXT}</span>\n                  </Href>\n                </li>\n              )}\n            </ul>\n          )}\n\n          {messageId && (\n            <div className=\"border bg-gray-100 rounded px-4 py-2 mt-2\">\n              <div className=\"text-sm text-gray-700\">\n                Message ID\n                <span className=\"bg-orange-600 text-white rounded text-xs ml-2 py-0 px-2\">\n                  {messageId}\n                </span>\n              </div>\n            </div>\n          )}\n\n          {correlationId && (\n            <div className=\"border bg-gray-100 rounded px-4 py-2 mt-2\">\n              <div className=\"text-sm text-gray-700\">\n                Correlation ID\n                <span className=\"bg-orange-600 text-white rounded text-xs ml-2 py-0 px-2\">\n                  {correlationId.location()}\n                </span>\n              </div>\n\n              {correlationId.hasDescription() && (\n                <div className=\"mt-2\">\n                  <Markdown>{correlationId.description()}</Markdown>\n                </div>\n              )}\n            </div>\n          )}\n\n          {message.hasDescription() && (\n            <div className=\"mt-2\">\n              <Markdown>{message.description()}</Markdown>\n            </div>\n          )}\n\n          {payload && (\n            <div\n              className=\"mt-2\"\n              id={\n                messageName\n                  ? CommonHelpers.getIdentifier(\n                      `message-${messageName}-payload`,\n                      config,\n                    )\n                  : undefined\n              }\n            >\n              <Schema schemaName=\"Payload\" schema={payload} />\n            </div>\n          )}\n          {headers && (\n            <div\n              className=\"mt-2\"\n              id={\n                messageName\n                  ? CommonHelpers.getIdentifier(\n                      `message-${messageName}-headers`,\n                      config,\n                    )\n                  : undefined\n              }\n            >\n              <Schema schemaName=\"Headers\" schema={headers} />\n            </div>\n          )}\n\n          {message.bindings().length > 0 && (\n            <div className=\"mt-2\">\n              <Bindings\n                name=\"Message specific information\"\n                bindings={message.bindings()}\n              />\n            </div>\n          )}\n\n          <Extensions item={message} />\n\n          {message.tags().length > 0 && (\n            <div className=\"mt-2\">\n              <Tags tags={message.tags()} />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {showExamples && (\n        <div className=\"panel-item--right px-8\">\n          <MessageExample message={message} />\n        </div>\n      )}\n    </div>\n  );\n};\n"]}