{"version":3,"file":"Layout.js","sourceRoot":"","sources":["../../../../src/containers/AsyncApi/Layout.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAExC,OAAO,iBAAiB,MAAM,qBAAqB,CAAC;AAEpD,OAAO,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAC7C,OAAO,EAAE,IAAI,EAAE,MAAM,cAAc,CAAC;AACpC,OAAO,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAC7C,OAAO,EAAE,UAAU,EAAE,MAAM,0BAA0B,CAAC;AACtD,OAAO,EAAE,QAAQ,EAAE,MAAM,sBAAsB,CAAC;AAChD,OAAO,EAAE,OAAO,EAAE,MAAM,oBAAoB,CAAC;AAG7C,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AACrE,OAAO,qBAAqB,MAAM,0CAA0C,CAAC;AAO7E,IAAM,cAAc,GAAmC,UAAC,EAGvD;;QAFC,QAAQ,cAAA,EACR,MAAM,YAAA;IAEA,IAAA,KAA4C,QAAQ,CAAC,cAAc,CAAC,EAAnE,iBAAiB,QAAA,EAAE,oBAAoB,QAA4B,CAAC;IAEnE,IAAA,GAAG,GAAK,iBAAiB,CAAiB;QAChD,QAAQ,EAAE,UAAC,EAAS;gBAAP,KAAK,WAAA;YAChB,qBAAqB,CAAC;gBACpB,IAAI,KAAK,KAAK,SAAS,EAAE;oBACvB,OAAO;iBACR;gBAED,IAAM,iBAAiB,GACrB,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,gBAAgB,CAAC;gBACpD,IAAI,iBAAiB,KAAK,iBAAiB,EAAE;oBAC3C,oBAAoB,CAAC,iBAAiB,CAAC,CAAC;iBACzC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;KACF,CAAC,IAdS,CAcR;IAEH,IAAM,UAAU,GAAG,MAAA,MAAM,CAAC,IAAI,mCAAI,EAAE,CAAC;IACrC,OAAO,CACL,oBAAC,aAAa,CAAC,QAAQ,IAAC,KAAK,EAAE,MAAM;QACnC,oBAAC,oBAAoB,CAAC,QAAQ,IAAC,KAAK,EAAE,QAAQ;YAC5C,iCAAS,SAAS,EAAC,UAAU;gBAC3B,oBAAC,qBAAqB;oBACpB,6BACE,SAAS,EAAE,UAAG,iBAAiB,8CAA2C,EAC1E,EAAE,EAAE,MAAA,MAAM,CAAC,QAAQ,mCAAI,SAAS,EAChC,GAAG,EAAE,GAAG;wBAEP,UAAU,CAAC,OAAO,IAAI,oBAAC,OAAO,OAAG;wBAClC,6BAAK,SAAS,EAAC,oCAAoC;4BACjD,6BAAK,SAAS,EAAC,eAAe;gCAC3B,UAAU,CAAC,IAAI,IAAI,oBAAC,IAAI,OAAG;gCAC3B,UAAU,CAAC,OAAO,IAAI,oBAAC,OAAO,OAAG;gCACjC,UAAU,CAAC,UAAU,IAAI,oBAAC,UAAU,OAAG;gCACvC,UAAU,CAAC,QAAQ,IAAI,oBAAC,QAAQ,OAAG;gCACnC,UAAU,CAAC,OAAO,IAAI,oBAAC,OAAO,OAAG,CAC9B;4BACN,6BAAK,SAAS,EAAC,wDAAwD,GAAG,CACtE,CACF,CACgB,CAChB,CACoB,CACT,CAC1B,CAAC;AACJ,CAAC,CAAC;AAEF,eAAe,cAAc,CAAC","sourcesContent":["import React, { useState } from 'react';\nimport { AsyncAPIDocumentInterface } from '@asyncapi/parser';\nimport useResizeObserver from 'use-resize-observer';\n\nimport { Sidebar } from '../Sidebar/Sidebar';\nimport { Info } from '../Info/Info';\nimport { Servers } from '../Servers/Servers';\nimport { Operations } from '../Operations/Operations';\nimport { Messages } from '../Messages/Messages';\nimport { Schemas } from '../Schemas/Schemas';\n\nimport { ConfigInterface } from '../../config';\nimport { SpecificationContext, ConfigContext } from '../../contexts';\nimport AsyncApiErrorBoundary from '../ApplicationErrorHandler/ErrorBoundary';\n\ninterface Props {\n  asyncapi: AsyncAPIDocumentInterface;\n  config: ConfigInterface;\n}\n\nconst AsyncApiLayout: React.FunctionComponent<Props> = ({\n  asyncapi,\n  config,\n}) => {\n  const [observerClassName, setObserverClassName] = useState('container:xl');\n\n  const { ref } = useResizeObserver<HTMLDivElement>({\n    onResize: ({ width }) => {\n      requestAnimationFrame(() => {\n        if (width === undefined) {\n          return;\n        }\n\n        const possibleClassName =\n          width <= 1536 ? 'container:xl' : 'container:base';\n        if (possibleClassName !== observerClassName) {\n          setObserverClassName(possibleClassName);\n        }\n      });\n    },\n  });\n\n  const configShow = config.show ?? {};\n  return (\n    <ConfigContext.Provider value={config}>\n      <SpecificationContext.Provider value={asyncapi}>\n        <section className=\"aui-root\">\n          <AsyncApiErrorBoundary>\n            <div\n              className={`${observerClassName} relative md:flex bg-white leading-normal`}\n              id={config.schemaID ?? undefined}\n              ref={ref}\n            >\n              {configShow.sidebar && <Sidebar />}\n              <div className=\"panel--center relative py-8 flex-1\">\n                <div className=\"relative z-10\">\n                  {configShow.info && <Info />}\n                  {configShow.servers && <Servers />}\n                  {configShow.operations && <Operations />}\n                  {configShow.messages && <Messages />}\n                  {configShow.schemas && <Schemas />}\n                </div>\n                <div className=\"panel--right absolute top-0 right-0 h-full bg-gray-800\" />\n              </div>\n            </div>\n          </AsyncApiErrorBoundary>\n        </section>\n      </SpecificationContext.Provider>\n    </ConfigContext.Provider>\n  );\n};\n\nexport default AsyncApiLayout;\n"]}