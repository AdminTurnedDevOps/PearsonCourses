{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/helpers/common.ts"],"names":[],"mappings":"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","sourcesContent":["import { ConfigInterface } from '../config';\nimport { OperationInterface } from '@asyncapi/parser';\nimport { PayloadType } from '../types';\nimport {\n  PUBLISH_LABEL_DEFAULT_TEXT,\n  RECEIVE_TEXT_LABEL_DEFAULT_TEXT,\n  REPLIER_LABEL_DEFAULT_TEXT,\n  REQUEST_LABEL_DEFAULT_TEXT,\n  SEND_LABEL_DEFAULT_TEXT,\n  SUBSCRIBE_LABEL_DEFAULT_TEXT,\n} from '../constants';\n// eslint-disable-next-line @typescript-eslint/no-extraneous-class\nexport class CommonHelpers {\n  static getIdentifier(id: string, config?: ConfigInterface) {\n    const schemaID = config?.schemaID;\n    if (schemaID) {\n      return `${schemaID}-${id}`;\n    }\n    return id;\n  }\n  static getOperationType(operation: OperationInterface) {\n    if (operation.isSend()) {\n      if (operation.reply() !== undefined) {\n        return PayloadType.REQUEST;\n      } else {\n        return PayloadType.SEND;\n      }\n    }\n    if (operation.isReceive() && operation.reply() !== undefined) {\n      return PayloadType.REPLY;\n    }\n    return PayloadType.RECEIVE;\n  }\n  static getOperationIdentifier({\n    operation,\n    config,\n  }: {\n    operation: OperationInterface;\n    config: ConfigInterface;\n  }) {\n    if (operation.isSend()) {\n      if (operation.reply() !== undefined) {\n        return CommonHelpers.getIdentifier(\n          `operation-${PayloadType.REQUEST}-${operation.id()}`,\n          config,\n        );\n      } else {\n        return CommonHelpers.getIdentifier(\n          `operation-${PayloadType.SEND}-${operation.id()}`,\n          config,\n        );\n      }\n    }\n    if (operation.isReceive() && operation.reply() !== undefined) {\n      return CommonHelpers.getIdentifier(\n        `operation-${PayloadType.REPLY}-${operation.id()}`,\n        config,\n      );\n    }\n    return CommonHelpers.getIdentifier(\n      `operation-${PayloadType.RECEIVE}-${operation.id()}`,\n      config,\n    );\n  }\n  static getOperationDesignInformation({\n    type,\n    config,\n    isAsyncAPIv2,\n  }: {\n    type: PayloadType;\n    config: ConfigInterface;\n    isAsyncAPIv2: boolean;\n  }): { borderColor: string; typeLabel: string; backgroundColor: string } {\n    if (type === PayloadType.RECEIVE) {\n      return {\n        borderColor: 'border-green-600 text-green-600',\n        backgroundColor: 'bg-green-600',\n        typeLabel: !isAsyncAPIv2\n          ? config.receiveLabel ?? RECEIVE_TEXT_LABEL_DEFAULT_TEXT\n          : config.publishLabel ?? PUBLISH_LABEL_DEFAULT_TEXT,\n      };\n    }\n    if (type === PayloadType.REPLY) {\n      return {\n        borderColor: 'border-orange-600 text-orange-600',\n        backgroundColor: 'bg-orange-600',\n        typeLabel: config.replyLabel ?? REPLIER_LABEL_DEFAULT_TEXT,\n      };\n    }\n    if (type === PayloadType.REQUEST) {\n      return {\n        borderColor: 'border-red-600 text-red-600',\n        backgroundColor: 'bg-red-600',\n        typeLabel: config.requestLabel ?? REQUEST_LABEL_DEFAULT_TEXT,\n      };\n    }\n    return {\n      borderColor: 'border-blue-600 text-blue-500',\n      backgroundColor: 'bg-blue-600',\n      typeLabel: !isAsyncAPIv2\n        ? config.sendLabel ?? SEND_LABEL_DEFAULT_TEXT\n        : config.subscribeLabel ?? SUBSCRIBE_LABEL_DEFAULT_TEXT,\n    };\n  }\n}\n"]}