import React from 'react';
import { ErrorPanel } from '@backstage/core-components';
import { useApp } from '@backstage/core-plugin-api';
import Button from '@material-ui/core/Button';
import { useCookieAuthRefresh } from '../../hooks/useCookieAuthRefresh/useCookieAuthRefresh.esm.js';

function CookieAuthRefreshProvider(props) {
  const { children, ...options } = props;
  const app = useApp();
  const { Progress } = app.getComponents();
  const result = useCookieAuthRefresh(options);
  if (result.status === "loading") {
    return /* @__PURE__ */ React.createElement(Progress, null);
  }
  if (result.status === "error") {
    return /* @__PURE__ */ React.createElement(ErrorPanel, { error: result.error }, /* @__PURE__ */ React.createElement(Button, { variant: "outlined", onClick: result.retry }, "Retry"));
  }
  return /* @__PURE__ */ React.createElement(React.Fragment, null, children);
}

export { CookieAuthRefreshProvider };
//# sourceMappingURL=CookieAuthRefreshProvider.esm.js.map
