{"version":3,"file":"TrendLine.esm.js","sources":["../../../src/components/TrendLine/TrendLine.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  Sparklines,\n  SparklinesLine,\n  SparklinesLineProps,\n  SparklinesProps,\n} from 'react-sparklines';\nimport { Theme, useTheme } from '@material-ui/core/styles';\n\nfunction color(data: number[], theme: Theme): string | undefined {\n  const lastNum = data[data.length - 1];\n  if (!lastNum) return undefined;\n  if (lastNum >= 0.9) return theme.palette.status.ok;\n  if (lastNum >= 0.5) return theme.palette.status.warning;\n  return theme.palette.status.error;\n}\n\nexport function TrendLine(\n  props: SparklinesProps &\n    Pick<SparklinesLineProps, 'color'> & { title?: string },\n) {\n  const theme = useTheme();\n\n  if (!props.data) return null;\n  return (\n    <Sparklines width={120} height={30} min={0} max={1} {...props}>\n      {props.title && <title>{props.title}</title>}\n      <SparklinesLine color={props.color ?? color(props.data, theme)} />\n    </Sparklines>\n  );\n}\n"],"names":["React"],"mappings":";;;;AAyBA,SAAS,KAAA,CAAM,MAAgB,KAAkC,EAAA;AAC/D,EAAA,MAAM,OAAU,GAAA,IAAA,CAAK,IAAK,CAAA,MAAA,GAAS,CAAC,CAAA;AACpC,EAAI,IAAA,CAAC,SAAgB,OAAA,KAAA,CAAA;AACrB,EAAA,IAAI,OAAW,IAAA,GAAA,EAAY,OAAA,KAAA,CAAM,QAAQ,MAAO,CAAA,EAAA;AAChD,EAAA,IAAI,OAAW,IAAA,GAAA,EAAY,OAAA,KAAA,CAAM,QAAQ,MAAO,CAAA,OAAA;AAChD,EAAO,OAAA,KAAA,CAAM,QAAQ,MAAO,CAAA,KAAA;AAC9B;AAEO,SAAS,UACd,KAEA,EAAA;AACA,EAAA,MAAM,QAAQ,QAAS,EAAA;AAEvB,EAAI,IAAA,CAAC,KAAM,CAAA,IAAA,EAAa,OAAA,IAAA;AACxB,EAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,UAAA,EAAA,EAAW,KAAO,EAAA,GAAA,EAAK,MAAQ,EAAA,EAAA,EAAI,GAAK,EAAA,CAAA,EAAG,GAAK,EAAA,CAAA,EAAI,GAAG,KAAA,EAAA,EACrD,KAAM,CAAA,KAAA,oBAAUA,cAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAO,KAAM,CAAA,KAAM,CACpC,kBAAAA,cAAA,CAAA,aAAA,CAAC,cAAe,EAAA,EAAA,KAAA,EAAO,KAAM,CAAA,KAAA,IAAS,KAAM,CAAA,KAAA,CAAM,IAAM,EAAA,KAAK,GAAG,CAClE,CAAA;AAEJ;;;;"}