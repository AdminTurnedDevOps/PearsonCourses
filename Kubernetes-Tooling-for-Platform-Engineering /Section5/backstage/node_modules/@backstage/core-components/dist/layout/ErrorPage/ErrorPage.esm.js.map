{"version":3,"file":"ErrorPage.esm.js","sources":["../../../src/layout/ErrorPage/ErrorPage.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport React from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from '../../components/Link';\nimport { useSupportConfig } from '../../hooks';\nimport { MicDrop } from './MicDrop';\nimport { StackDetails } from './StackDetails';\nimport { coreComponentsTranslationRef } from '../../translation';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\ninterface IErrorPageProps {\n  status?: string;\n  statusMessage: string;\n  additionalInfo?: React.ReactNode;\n  supportUrl?: string;\n  stack?: string;\n}\n\n/** @public */\nexport type ErrorPageClassKey = 'container' | 'title' | 'subtitle';\n\nconst useStyles = makeStyles(\n  theme => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down('xs')]: {\n        padding: theme.spacing(2),\n      },\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize,\n      },\n    },\n    subtitle: {\n      color: theme.palette.textSubtle,\n    },\n  }),\n  { name: 'BackstageErrorPage' },\n);\n\n/**\n * Error page with status and description\n *\n * @public\n *\n */\nexport function ErrorPage(props: IErrorPageProps) {\n  const {\n    status = '',\n    statusMessage,\n    additionalInfo,\n    supportUrl,\n    stack,\n  } = props;\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item xs={12} sm={8} md={4}>\n        <Typography\n          data-testid=\"error\"\n          variant=\"body1\"\n          className={classes.subtitle}\n        >\n          {t('errorPage.subtitle', { status, statusMessage })}\n        </Typography>\n        <Typography variant=\"body1\" className={classes.subtitle}>\n          {additionalInfo}\n        </Typography>\n        <Typography variant=\"h2\" className={classes.title}>\n          {t('errorPage.title')}\n        </Typography>\n        <Typography variant=\"h6\" className={classes.title}>\n          <Link to=\"#\" data-testid=\"go-back-link\" onClick={() => navigate(-1)}>\n            {t('errorPage.goBack')}\n          </Link>\n          ... or please{' '}\n          <Link to={supportUrl || support.url}>contact support</Link> if you\n          think this is a bug.\n        </Typography>\n        {stack && <StackDetails stack={stack} />}\n      </Grid>\n      <MicDrop />\n    </Grid>\n  );\n}\n"],"names":["React"],"mappings":"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"}