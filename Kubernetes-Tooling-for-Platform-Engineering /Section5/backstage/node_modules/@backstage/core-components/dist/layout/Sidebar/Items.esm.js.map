{"version":3,"file":"Items.esm.js","sources":["../../../src/layout/Sidebar/Items.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  IconComponent,\n  useAnalytics,\n  useElementFilter,\n} from '@backstage/core-plugin-api';\nimport Badge from '@material-ui/core/Badge';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles, styled, Theme } from '@material-ui/core/styles';\nimport {\n  CreateCSSProperties,\n  StyledComponentProps,\n} from '@material-ui/core/styles/withStyles';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\nimport ArrowDropUp from '@material-ui/icons/ArrowDropUp';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport SearchIcon from '@material-ui/icons/Search';\nimport classnames from 'classnames';\nimport type { Location } from 'history';\nimport React, {\n  ComponentProps,\n  ComponentType,\n  CSSProperties,\n  forwardRef,\n  KeyboardEventHandler,\n  ReactNode,\n  useCallback,\n  useContext,\n  useMemo,\n  useState,\n} from 'react';\nimport {\n  Link,\n  NavLinkProps,\n  resolvePath,\n  useLocation,\n  useResolvedPath,\n} from 'react-router-dom';\n\nimport {\n  SidebarConfig,\n  SidebarConfigContext,\n  SidebarItemWithSubmenuContext,\n} from './config';\nimport DoubleArrowLeft from './icons/DoubleArrowLeft';\nimport DoubleArrowRight from './icons/DoubleArrowRight';\nimport { useSidebarOpenState } from './SidebarOpenStateContext';\nimport { SidebarSubmenu, SidebarSubmenuProps } from './SidebarSubmenu';\nimport { SidebarSubmenuItemProps } from './SidebarSubmenuItem';\nimport { isLocationMatch } from './utils';\nimport Button from '@material-ui/core/Button';\n\n/** @public */\nexport type SidebarItemClassKey =\n  | 'root'\n  | 'buttonItem'\n  | 'closed'\n  | 'open'\n  | 'highlightable'\n  | 'highlighted'\n  | 'label'\n  | 'iconContainer'\n  | 'searchRoot'\n  | 'searchField'\n  | 'searchFieldHTMLInput'\n  | 'searchContainer'\n  | 'secondaryAction'\n  | 'closedItemIcon'\n  | 'submenuArrow'\n  | 'expandButton'\n  | 'arrows'\n  | 'selected';\n\nconst makeSidebarStyles = (sidebarConfig: SidebarConfig) =>\n  makeStyles(\n    theme => ({\n      root: {\n        color: theme.palette.navigation.color,\n        display: 'flex',\n        flexFlow: 'row nowrap',\n        alignItems: 'center',\n        height: 48,\n        cursor: 'pointer',\n      },\n      buttonItem: {\n        background: 'none',\n        border: 'none',\n        width: '100%',\n        margin: 0,\n        padding: 0,\n        textAlign: 'inherit',\n        font: 'inherit',\n        textTransform: 'none',\n      },\n      closed: {\n        width: sidebarConfig.drawerWidthClosed,\n        justifyContent: 'center',\n      },\n      open: {\n        [theme.breakpoints.up('sm')]: {\n          width: sidebarConfig.drawerWidthOpen,\n        },\n      },\n      highlightable: {\n        '&:hover': {\n          background:\n            theme.palette.navigation.navItem?.hoverBackground ?? '#404040',\n        },\n      },\n      highlighted: {\n        background:\n          theme.palette.navigation.navItem?.hoverBackground ?? '#404040',\n      },\n      label: {\n        // XXX (@koroeskohr): I can't seem to achieve the desired font-weight from the designs\n        fontWeight: 'bold',\n        whiteSpace: 'nowrap',\n        lineHeight: 'auto',\n        flex: '3 1 auto',\n        width: '110px',\n        overflow: 'hidden',\n        'text-overflow': 'ellipsis',\n      },\n      iconContainer: {\n        boxSizing: 'border-box',\n        height: '100%',\n        width: sidebarConfig.iconContainerWidth,\n        marginRight: -theme.spacing(2),\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        lineHeight: '0',\n      },\n      searchRoot: {\n        marginBottom: 12,\n      },\n      searchField: {\n        color: '#b5b5b5',\n        fontWeight: theme.typography.fontWeightBold,\n        fontSize: theme.typography.fontSize,\n      },\n      searchFieldHTMLInput: {\n        padding: theme.spacing(2, 0, 2),\n      },\n      searchContainer: {\n        width: sidebarConfig.drawerWidthOpen - sidebarConfig.iconContainerWidth,\n      },\n      secondaryAction: {\n        width: theme.spacing(6),\n        textAlign: 'center',\n        marginRight: theme.spacing(1),\n      },\n      closedItemIcon: {\n        width: '100%',\n        justifyContent: 'center',\n      },\n      submenuArrow: {\n        display: 'flex',\n      },\n      expandButton: {\n        background: 'none',\n        border: 'none',\n        color: theme.palette.navigation.color,\n        width: '100%',\n        cursor: 'pointer',\n        position: 'relative',\n        height: 48,\n      },\n      arrows: {\n        position: 'absolute',\n        right: 10,\n      },\n      selected: {\n        '&$root': {\n          borderLeft: `solid ${sidebarConfig.selectedIndicatorWidth}px ${theme.palette.navigation.indicator}`,\n          color: theme.palette.navigation.selectedColor,\n        },\n        '&$closed': {\n          width: sidebarConfig.drawerWidthClosed,\n        },\n        '& $closedItemIcon': {\n          paddingRight: sidebarConfig.selectedIndicatorWidth,\n        },\n        '& $iconContainer': {\n          marginLeft: -sidebarConfig.selectedIndicatorWidth,\n        },\n      },\n    }),\n    { name: 'BackstageSidebarItem' },\n  );\n\n// This is a workaround for this issue https://github.com/mui/material-ui/issues/15511\n// The styling of the `selected` elements doesn't work as expected when using a prop callback.\n// Don't use this pattern unless needed\nfunction useMemoStyles(sidebarConfig: SidebarConfig) {\n  const useStyles = useMemo(\n    () => makeSidebarStyles(sidebarConfig),\n    [sidebarConfig],\n  );\n  return useStyles();\n}\n\n/**\n * Evaluates the routes of the SubmenuItems & nested DropdownItems.\n * The reevaluation is only triggered, if the `locationPathname` changes, as `useElementFilter` uses memorization.\n *\n * @param submenu SidebarSubmenu component\n * @param location Location\n * @returns boolean\n */\nconst useLocationMatch = (\n  submenu: React.ReactElement<SidebarSubmenuProps>,\n  location: Location,\n): boolean =>\n  useElementFilter(\n    submenu.props.children,\n    elements => {\n      let active = false;\n      elements\n        .getElements()\n        .forEach(\n          ({\n            props: { to, dropdownItems },\n          }: {\n            props: Partial<SidebarSubmenuItemProps>;\n          }) => {\n            if (!active) {\n              if (dropdownItems?.length) {\n                dropdownItems.forEach(\n                  ({ to: _to }) =>\n                    (active =\n                      active || isLocationMatch(location, resolvePath(_to))),\n                );\n                return;\n              }\n              if (to) {\n                active = isLocationMatch(location, resolvePath(to));\n              }\n            }\n          },\n        );\n      return active;\n    },\n    [location.pathname],\n  );\n\ntype SidebarItemBaseProps = {\n  icon: IconComponent;\n  text?: string;\n  hasNotifications?: boolean;\n  hasSubmenu?: boolean;\n  disableHighlight?: boolean;\n  className?: string;\n  noTrack?: boolean;\n  onClick?: (ev: React.MouseEvent) => void;\n};\n\ntype SidebarItemButtonProps = SidebarItemBaseProps & {\n  onClick: (ev: React.MouseEvent) => void;\n  children?: ReactNode;\n};\n\ntype SidebarItemLinkProps = SidebarItemBaseProps & {\n  to: string;\n  onClick?: (ev: React.MouseEvent) => void;\n} & NavLinkProps;\n\ntype SidebarItemWithSubmenuProps = SidebarItemBaseProps & {\n  to?: string;\n  onClick?: (ev: React.MouseEvent) => void;\n  children: ReactNode;\n};\n\n/**\n * SidebarItem with 'to' property will be a clickable link.\n * SidebarItem with 'onClick' property and without 'to' property will be a clickable button.\n * SidebarItem which wraps a SidebarSubmenu will be a clickable button which opens a submenu.\n */\ntype SidebarItemProps =\n  | SidebarItemLinkProps\n  | SidebarItemButtonProps\n  | SidebarItemWithSubmenuProps;\n\nfunction isButtonItem(\n  props: SidebarItemProps,\n): props is SidebarItemButtonProps {\n  return (props as SidebarItemLinkProps).to === undefined;\n}\n\nconst sidebarSubmenuType = React.createElement(SidebarSubmenu).type;\n\n// TODO(Rugvip): Remove this once NavLink is updated in react-router-dom.\n//               This is needed because react-router doesn't handle the path comparison\n//               properly yet, matching for example /foobar with /foo.\nexport const WorkaroundNavLink = React.forwardRef<\n  HTMLAnchorElement,\n  NavLinkProps & {\n    children?: ReactNode;\n    activeStyle?: CSSProperties;\n    activeClassName?: string;\n  }\n>(function WorkaroundNavLinkWithRef(\n  {\n    to,\n    end,\n    style,\n    className,\n    activeStyle,\n    caseSensitive,\n    activeClassName = 'active',\n    'aria-current': ariaCurrentProp = 'page',\n    ...rest\n  },\n  ref,\n) {\n  let { pathname: locationPathname } = useLocation();\n  let { pathname: toPathname } = useResolvedPath(to);\n\n  if (!caseSensitive) {\n    locationPathname = locationPathname.toLocaleLowerCase('en-US');\n    toPathname = toPathname.toLocaleLowerCase('en-US');\n  }\n\n  let isActive = locationPathname === toPathname;\n  if (!isActive && !end) {\n    // This is the behavior that is different from the original NavLink\n    isActive = locationPathname.startsWith(`${toPathname}/`);\n  }\n\n  const ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n  return (\n    <Link\n      {...rest}\n      to={to}\n      ref={ref}\n      aria-current={ariaCurrent}\n      style={{ ...style, ...(isActive ? activeStyle : undefined) }}\n      className={classnames([\n        typeof className !== 'function' ? className : undefined,\n        isActive ? activeClassName : undefined,\n      ])}\n    />\n  );\n});\n\n/**\n * Common component used by SidebarItem & SidebarItemWithSubmenu\n */\nconst SidebarItemBase = forwardRef<\n  any,\n  SidebarItemProps & { children: ReactNode }\n>((props, ref) => {\n  const {\n    icon: Icon,\n    text,\n    hasNotifications = false,\n    hasSubmenu = false,\n    disableHighlight = false,\n    onClick,\n    noTrack,\n    children,\n    className,\n    ...navLinkProps\n  } = props;\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  // XXX (@koroeskohr): unsure this is optimal. But I just really didn't want to have the item component\n  // depend on the current location, and at least have it being optionally forced to selected.\n  // Still waiting on a Q answered to fine tune the implementation\n  const { isOpen } = useSidebarOpenState();\n\n  const divStyle =\n    !isOpen && hasSubmenu\n      ? { display: 'flex', marginLeft: '20px' }\n      : { lineHeight: '0' };\n\n  const displayItemIcon = (\n    <Box style={divStyle}>\n      <Icon fontSize=\"small\" />\n      {!isOpen && hasSubmenu ? <ArrowRightIcon fontSize=\"small\" /> : <></>}\n    </Box>\n  );\n\n  const itemIcon = (\n    <Badge\n      color=\"secondary\"\n      variant=\"dot\"\n      overlap=\"circular\"\n      invisible={!hasNotifications}\n      className={classnames({ [classes.closedItemIcon]: !isOpen })}\n    >\n      {displayItemIcon}\n    </Badge>\n  );\n\n  const openContent = (\n    <>\n      <Box data-testid=\"login-button\" className={classes.iconContainer}>\n        {itemIcon}\n      </Box>\n      {text && (\n        <Typography\n          variant=\"subtitle2\"\n          component=\"span\"\n          className={classes.label}\n        >\n          {text}\n        </Typography>\n      )}\n      <div className={classes.secondaryAction}>{children}</div>\n    </>\n  );\n\n  const content = isOpen ? openContent : itemIcon;\n\n  const childProps = {\n    onClick,\n    className: classnames(\n      className,\n      classes.root,\n      isOpen ? classes.open : classes.closed,\n      isButtonItem(props) && classes.buttonItem,\n      { [classes.highlightable]: !disableHighlight },\n    ),\n  };\n\n  const analyticsApi = useAnalytics();\n  const { pathname: to } = useResolvedPath(\n    !isButtonItem(props) && props.to ? props.to : '',\n  );\n\n  const handleClick = useCallback(\n    (event: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement>) => {\n      if (!noTrack) {\n        const action = 'click';\n        const subject = text ?? 'Sidebar Item';\n        const options = to ? { attributes: { to } } : undefined;\n        analyticsApi.captureEvent(action, subject, options);\n      }\n      onClick?.(event);\n    },\n    [analyticsApi, text, to, noTrack, onClick],\n  );\n\n  if (isButtonItem(props)) {\n    return (\n      <Button\n        role=\"button\"\n        aria-label={text}\n        {...childProps}\n        ref={ref}\n        onClick={handleClick}\n      >\n        {content}\n      </Button>\n    );\n  }\n\n  return (\n    <WorkaroundNavLink\n      {...childProps}\n      activeClassName={classes.selected}\n      to={props.to ? props.to : ''}\n      ref={ref}\n      aria-label={text ? text : props.to}\n      {...navLinkProps}\n      onClick={handleClick}\n    >\n      {content}\n    </WorkaroundNavLink>\n  );\n});\n\nconst SidebarItemWithSubmenu = ({\n  children,\n  ...props\n}: SidebarItemBaseProps & {\n  children: React.ReactElement<SidebarSubmenuProps>;\n}) => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const [isHoveredOn, setIsHoveredOn] = useState(false);\n  const location = useLocation();\n  const isActive = useLocationMatch(children, location);\n  const isSmallScreen = useMediaQuery((theme: Theme) =>\n    theme.breakpoints.down('sm'),\n  );\n\n  const handleMouseEnter = () => {\n    setIsHoveredOn(true);\n  };\n  const handleMouseLeave = () => {\n    setIsHoveredOn(false);\n  };\n\n  const arrowIcon = () => {\n    if (isSmallScreen) {\n      return isHoveredOn ? (\n        <ArrowDropUp fontSize=\"small\" className={classes.submenuArrow} />\n      ) : (\n        <ArrowDropDown fontSize=\"small\" className={classes.submenuArrow} />\n      );\n    }\n    return (\n      !isHoveredOn && (\n        <ArrowRightIcon fontSize=\"small\" className={classes.submenuArrow} />\n      )\n    );\n  };\n\n  return (\n    <SidebarItemWithSubmenuContext.Provider\n      value={{\n        isHoveredOn,\n        setIsHoveredOn,\n      }}\n    >\n      <div\n        data-testid=\"item-with-submenu\"\n        onMouseLeave={handleMouseLeave}\n        onTouchStart={isHoveredOn ? handleMouseLeave : handleMouseEnter}\n        onMouseEnter={handleMouseEnter}\n        className={classnames(isHoveredOn && classes.highlighted)}\n      >\n        <SidebarItemBase\n          hasSubmenu\n          className={isActive ? classes.selected : ''}\n          {...props}\n        >\n          {arrowIcon()}\n        </SidebarItemBase>\n        {isHoveredOn && children}\n      </div>\n    </SidebarItemWithSubmenuContext.Provider>\n  );\n};\n\n/**\n * Creates a `SidebarItem`\n *\n * @remarks\n * If children contain a `SidebarSubmenu` component the `SidebarItem` will have a expandable submenu\n */\nexport const SidebarItem = forwardRef<\n  any,\n  SidebarItemProps & { children: ReactNode }\n>((props, ref) => {\n  // Filter children for SidebarSubmenu components\n  const [submenu] = useElementFilter(props.children, elements =>\n    // Directly comparing child.type with SidebarSubmenu will not work with in\n    // combination with react-hot-loader\n    //\n    // https://github.com/gaearon/react-hot-loader/issues/304#issuecomment-456569720\n    elements.getElements().filter(child => child.type === sidebarSubmenuType),\n  );\n\n  if (submenu) {\n    return (\n      <SidebarItemWithSubmenu {...props}>\n        {submenu as React.ReactElement<SidebarSubmenuProps>}\n      </SidebarItemWithSubmenu>\n    );\n  }\n\n  return <SidebarItemBase {...props} ref={ref} />;\n}) as (props: SidebarItemProps) => JSX.Element;\n\ntype SidebarSearchFieldProps = {\n  onSearch: (input: string) => void;\n  to?: string;\n  icon?: IconComponent;\n};\n\nexport function SidebarSearchField(props: SidebarSearchFieldProps) {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const [input, setInput] = useState('');\n  const classes = useMemoStyles(sidebarConfig);\n  const Icon = props.icon ? props.icon : SearchIcon;\n\n  const search = () => {\n    props.onSearch(input);\n    setInput('');\n  };\n\n  const handleEnter: KeyboardEventHandler = ev => {\n    if (ev.key === 'Enter') {\n      ev.preventDefault();\n      search();\n    }\n  };\n\n  const handleInput = (ev: React.ChangeEvent<HTMLInputElement>) => {\n    setInput(ev.target.value);\n  };\n\n  const handleInputClick = (ev: React.MouseEvent<HTMLInputElement>) => {\n    // Clicking into the search fields shouldn't navigate to the search page\n    ev.preventDefault();\n    ev.stopPropagation();\n  };\n\n  const handleItemClick = (ev: React.MouseEvent) => {\n    // Clicking on the search icon while should execute a query with the current field content\n    search();\n    ev.preventDefault();\n  };\n\n  return (\n    <Box className={classes.searchRoot}>\n      <SidebarItem\n        icon={Icon}\n        to={props.to}\n        onClick={handleItemClick}\n        disableHighlight\n      >\n        <TextField\n          placeholder=\"Search\"\n          value={input}\n          onClick={handleInputClick}\n          onChange={handleInput}\n          onKeyDown={handleEnter}\n          className={classes.searchContainer}\n          InputProps={{\n            disableUnderline: true,\n            className: classes.searchField,\n          }}\n          inputProps={{\n            className: classes.searchFieldHTMLInput,\n          }}\n        />\n      </SidebarItem>\n    </Box>\n  );\n}\n\nexport type SidebarSpaceClassKey = 'root';\n\nexport const SidebarSpace = styled('div')(\n  {\n    flex: 1,\n  },\n  { name: 'BackstageSidebarSpace' },\n) as ComponentType<ComponentProps<'div'> & StyledComponentProps<'root'>>;\n\nexport type SidebarSpacerClassKey = 'root';\n\nexport const SidebarSpacer = styled('div')(\n  {\n    height: 8,\n  },\n  { name: 'BackstageSidebarSpacer' },\n) as ComponentType<ComponentProps<'div'> & StyledComponentProps<'root'>>;\n\nexport type SidebarDividerClassKey = 'root';\n\nexport const SidebarDivider = styled('hr')(\n  ({ theme }) => ({\n    height: 1,\n    width: '100%',\n    background: '#383838',\n    border: 'none',\n    margin: theme.spacing(1.2, 0),\n  }),\n  { name: 'BackstageSidebarDivider' },\n) as ComponentType<ComponentProps<'hr'> & StyledComponentProps<'root'>>;\n\nconst styledScrollbar = (theme: Theme): CreateCSSProperties => ({\n  overflowY: 'auto',\n  '&::-webkit-scrollbar': {\n    backgroundColor: theme.palette.background.default,\n    width: '5px',\n    borderRadius: '5px',\n  },\n  '&::-webkit-scrollbar-thumb': {\n    backgroundColor: theme.palette.text.secondary,\n    borderRadius: '5px',\n  },\n});\n\nexport const SidebarScrollWrapper = styled('div')(({ theme }) => {\n  const scrollbarStyles = styledScrollbar(theme);\n  return {\n    flex: '0 1 auto',\n    overflowX: 'hidden',\n    width: '100%',\n    // Display at least one item in the container\n    // Question: Can this be a config/theme variable - if so, which? :/\n    minHeight: '48px',\n    overflowY: 'hidden',\n    '@media (hover: none)': scrollbarStyles,\n    '&:hover': scrollbarStyles,\n  };\n}) as ComponentType<ComponentProps<'div'> & StyledComponentProps<'root'>>;\n\n/**\n * A button which allows you to expand the sidebar when clicked.\n *\n * @remarks\n * Use optionally to replace sidebar's expand-on-hover feature with expand-on-click.\n *\n * If you are using this you might want to set the `disableExpandOnHover` of the `Sidebar` to `true`.\n *\n * @public\n */\nexport const SidebarExpandButton = () => {\n  const { sidebarConfig } = useContext(SidebarConfigContext);\n  const classes = useMemoStyles(sidebarConfig);\n  const { isOpen, setOpen } = useSidebarOpenState();\n  const isSmallScreen = useMediaQuery<Theme>(\n    theme => theme.breakpoints.down('md'),\n    { noSsr: true },\n  );\n\n  if (isSmallScreen) {\n    return null;\n  }\n\n  const handleClick = () => {\n    setOpen(!isOpen);\n  };\n\n  return (\n    <Button\n      role=\"button\"\n      onClick={handleClick}\n      className={classes.expandButton}\n      aria-label=\"Expand Sidebar\"\n      data-testid=\"sidebar-expand-button\"\n    >\n      <Box className={classes.arrows}>\n        {isOpen ? <DoubleArrowLeft /> : <DoubleArrowRight />}\n      </Box>\n    </Button>\n  );\n};\n"],"names":["React","classnames","ArrowDropUp","ArrowDropDown","SearchIcon"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AA2FA,MAAM,iBAAA,GAAoB,CAAC,aACzB,KAAA,UAAA;AAAA,EACE,CAAU,KAAA,MAAA;AAAA,IACR,IAAM,EAAA;AAAA,MACJ,KAAA,EAAO,KAAM,CAAA,OAAA,CAAQ,UAAW,CAAA,KAAA;AAAA,MAChC,OAAS,EAAA,MAAA;AAAA,MACT,QAAU,EAAA,YAAA;AAAA,MACV,UAAY,EAAA,QAAA;AAAA,MACZ,MAAQ,EAAA,EAAA;AAAA,MACR,MAAQ,EAAA;AAAA,KACV;AAAA,IACA,UAAY,EAAA;AAAA,MACV,UAAY,EAAA,MAAA;AAAA,MACZ,MAAQ,EAAA,MAAA;AAAA,MACR,KAAO,EAAA,MAAA;AAAA,MACP,MAAQ,EAAA,CAAA;AAAA,MACR,OAAS,EAAA,CAAA;AAAA,MACT,SAAW,EAAA,SAAA;AAAA,MACX,IAAM,EAAA,SAAA;AAAA,MACN,aAAe,EAAA;AAAA,KACjB;AAAA,IACA,MAAQ,EAAA;AAAA,MACN,OAAO,aAAc,CAAA,iBAAA;AAAA,MACrB,cAAgB,EAAA;AAAA,KAClB;AAAA,IACA,IAAM,EAAA;AAAA,MACJ,CAAC,KAAM,CAAA,WAAA,CAAY,EAAG,CAAA,IAAI,CAAC,GAAG;AAAA,QAC5B,OAAO,aAAc,CAAA;AAAA;AACvB,KACF;AAAA,IACA,aAAe,EAAA;AAAA,MACb,SAAW,EAAA;AAAA,QACT,UACE,EAAA,KAAA,CAAM,OAAQ,CAAA,UAAA,CAAW,SAAS,eAAmB,IAAA;AAAA;AACzD,KACF;AAAA,IACA,WAAa,EAAA;AAAA,MACX,UACE,EAAA,KAAA,CAAM,OAAQ,CAAA,UAAA,CAAW,SAAS,eAAmB,IAAA;AAAA,KACzD;AAAA,IACA,KAAO,EAAA;AAAA;AAAA,MAEL,UAAY,EAAA,MAAA;AAAA,MACZ,UAAY,EAAA,QAAA;AAAA,MACZ,UAAY,EAAA,MAAA;AAAA,MACZ,IAAM,EAAA,UAAA;AAAA,MACN,KAAO,EAAA,OAAA;AAAA,MACP,QAAU,EAAA,QAAA;AAAA,MACV,eAAiB,EAAA;AAAA,KACnB;AAAA,IACA,aAAe,EAAA;AAAA,MACb,SAAW,EAAA,YAAA;AAAA,MACX,MAAQ,EAAA,MAAA;AAAA,MACR,OAAO,aAAc,CAAA,kBAAA;AAAA,MACrB,WAAa,EAAA,CAAC,KAAM,CAAA,OAAA,CAAQ,CAAC,CAAA;AAAA,MAC7B,OAAS,EAAA,MAAA;AAAA,MACT,UAAY,EAAA,QAAA;AAAA,MACZ,cAAgB,EAAA,QAAA;AAAA,MAChB,UAAY,EAAA;AAAA,KACd;AAAA,IACA,UAAY,EAAA;AAAA,MACV,YAAc,EAAA;AAAA,KAChB;AAAA,IACA,WAAa,EAAA;AAAA,MACX,KAAO,EAAA,SAAA;AAAA,MACP,UAAA,EAAY,MAAM,UAAW,CAAA,cAAA;AAAA,MAC7B,QAAA,EAAU,MAAM,UAAW,CAAA;AAAA,KAC7B;AAAA,IACA,oBAAsB,EAAA;AAAA,MACpB,OAAS,EAAA,KAAA,CAAM,OAAQ,CAAA,CAAA,EAAG,GAAG,CAAC;AAAA,KAChC;AAAA,IACA,eAAiB,EAAA;AAAA,MACf,KAAA,EAAO,aAAc,CAAA,eAAA,GAAkB,aAAc,CAAA;AAAA,KACvD;AAAA,IACA,eAAiB,EAAA;AAAA,MACf,KAAA,EAAO,KAAM,CAAA,OAAA,CAAQ,CAAC,CAAA;AAAA,MACtB,SAAW,EAAA,QAAA;AAAA,MACX,WAAA,EAAa,KAAM,CAAA,OAAA,CAAQ,CAAC;AAAA,KAC9B;AAAA,IACA,cAAgB,EAAA;AAAA,MACd,KAAO,EAAA,MAAA;AAAA,MACP,cAAgB,EAAA;AAAA,KAClB;AAAA,IACA,YAAc,EAAA;AAAA,MACZ,OAAS,EAAA;AAAA,KACX;AAAA,IACA,YAAc,EAAA;AAAA,MACZ,UAAY,EAAA,MAAA;AAAA,MACZ,MAAQ,EAAA,MAAA;AAAA,MACR,KAAA,EAAO,KAAM,CAAA,OAAA,CAAQ,UAAW,CAAA,KAAA;AAAA,MAChC,KAAO,EAAA,MAAA;AAAA,MACP,MAAQ,EAAA,SAAA;AAAA,MACR,QAAU,EAAA,UAAA;AAAA,MACV,MAAQ,EAAA;AAAA,KACV;AAAA,IACA,MAAQ,EAAA;AAAA,MACN,QAAU,EAAA,UAAA;AAAA,MACV,KAAO,EAAA;AAAA,KACT;AAAA,IACA,QAAU,EAAA;AAAA,MACR,QAAU,EAAA;AAAA,QACR,UAAA,EAAY,SAAS,aAAc,CAAA,sBAAsB,MAAM,KAAM,CAAA,OAAA,CAAQ,WAAW,SAAS,CAAA,CAAA;AAAA,QACjG,KAAA,EAAO,KAAM,CAAA,OAAA,CAAQ,UAAW,CAAA;AAAA,OAClC;AAAA,MACA,UAAY,EAAA;AAAA,QACV,OAAO,aAAc,CAAA;AAAA,OACvB;AAAA,MACA,mBAAqB,EAAA;AAAA,QACnB,cAAc,aAAc,CAAA;AAAA,OAC9B;AAAA,MACA,kBAAoB,EAAA;AAAA,QAClB,UAAA,EAAY,CAAC,aAAc,CAAA;AAAA;AAC7B;AACF,GACF,CAAA;AAAA,EACA,EAAE,MAAM,sBAAuB;AACjC,CAAA;AAKF,SAAS,cAAc,aAA8B,EAAA;AACnD,EAAA,MAAM,SAAY,GAAA,OAAA;AAAA,IAChB,MAAM,kBAAkB,aAAa,CAAA;AAAA,IACrC,CAAC,aAAa;AAAA,GAChB;AACA,EAAA,OAAO,SAAU,EAAA;AACnB;AAUA,MAAM,gBAAA,GAAmB,CACvB,OAAA,EACA,QAEA,KAAA,gBAAA;AAAA,EACE,QAAQ,KAAM,CAAA,QAAA;AAAA,EACd,CAAY,QAAA,KAAA;AACV,IAAA,IAAI,MAAS,GAAA,KAAA;AACb,IAAA,QAAA,CACG,aACA,CAAA,OAAA;AAAA,MACC,CAAC;AAAA,QACC,KAAA,EAAO,EAAE,EAAA,EAAI,aAAc;AAAA,OAGvB,KAAA;AACJ,QAAA,IAAI,CAAC,MAAQ,EAAA;AACX,UAAA,IAAI,eAAe,MAAQ,EAAA;AACzB,YAAc,aAAA,CAAA,OAAA;AAAA,cACZ,CAAC,EAAE,EAAA,EAAI,GAAI,EAAA,KACR,MACC,GAAA,MAAA,IAAU,eAAgB,CAAA,QAAA,EAAU,WAAY,CAAA,GAAG,CAAC;AAAA,aAC1D;AACA,YAAA;AAAA;AAEF,UAAA,IAAI,EAAI,EAAA;AACN,YAAA,MAAA,GAAS,eAAgB,CAAA,QAAA,EAAU,WAAY,CAAA,EAAE,CAAC,CAAA;AAAA;AACpD;AACF;AACF,KACF;AACF,IAAO,OAAA,MAAA;AAAA,GACT;AAAA,EACA,CAAC,SAAS,QAAQ;AACpB,CAAA;AAuCF,SAAS,aACP,KACiC,EAAA;AACjC,EAAA,OAAQ,MAA+B,EAAO,KAAA,KAAA,CAAA;AAChD;AAEA,MAAM,kBAAqB,GAAAA,cAAA,CAAM,aAAc,CAAA,cAAc,CAAE,CAAA,IAAA;AAKxD,MAAM,iBAAoB,GAAAA,cAAA,CAAM,UAOrC,CAAA,SAAS,wBACT,CAAA;AAAA,EACE,EAAA;AAAA,EACA,GAAA;AAAA,EACA,KAAA;AAAA,EACA,SAAA;AAAA,EACA,WAAA;AAAA,EACA,aAAA;AAAA,EACA,eAAkB,GAAA,QAAA;AAAA,EAClB,gBAAgB,eAAkB,GAAA,MAAA;AAAA,EAClC,GAAG;AACL,CAAA,EACA,GACA,EAAA;AACA,EAAA,IAAI,EAAE,QAAA,EAAU,gBAAiB,EAAA,GAAI,WAAY,EAAA;AACjD,EAAA,IAAI,EAAE,QAAA,EAAU,UAAW,EAAA,GAAI,gBAAgB,EAAE,CAAA;AAEjD,EAAA,IAAI,CAAC,aAAe,EAAA;AAClB,IAAmB,gBAAA,GAAA,gBAAA,CAAiB,kBAAkB,OAAO,CAAA;AAC7D,IAAa,UAAA,GAAA,UAAA,CAAW,kBAAkB,OAAO,CAAA;AAAA;AAGnD,EAAA,IAAI,WAAW,gBAAqB,KAAA,UAAA;AACpC,EAAI,IAAA,CAAC,QAAY,IAAA,CAAC,GAAK,EAAA;AAErB,IAAA,QAAA,GAAW,gBAAiB,CAAA,UAAA,CAAW,CAAG,EAAA,UAAU,CAAG,CAAA,CAAA,CAAA;AAAA;AAGzD,EAAM,MAAA,WAAA,GAAc,WAAW,eAAkB,GAAA,KAAA,CAAA;AAEjD,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,IAAA;AAAA,IAAA;AAAA,MACE,GAAG,IAAA;AAAA,MACJ,EAAA;AAAA,MACA,GAAA;AAAA,MACA,cAAc,EAAA,WAAA;AAAA,MACd,OAAO,EAAE,GAAG,OAAO,GAAI,QAAA,GAAW,cAAc,KAAW,CAAA,EAAA;AAAA,MAC3D,WAAWC,UAAW,CAAA;AAAA,QACpB,OAAO,SAAc,KAAA,UAAA,GAAa,SAAY,GAAA,KAAA,CAAA;AAAA,QAC9C,WAAW,eAAkB,GAAA,KAAA;AAAA,OAC9B;AAAA;AAAA,GACH;AAEJ,CAAC;AAKD,MAAM,eAAkB,GAAA,UAAA,CAGtB,CAAC,KAAA,EAAO,GAAQ,KAAA;AAChB,EAAM,MAAA;AAAA,IACJ,IAAM,EAAA,IAAA;AAAA,IACN,IAAA;AAAA,IACA,gBAAmB,GAAA,KAAA;AAAA,IACnB,UAAa,GAAA,KAAA;AAAA,IACb,gBAAmB,GAAA,KAAA;AAAA,IACnB,OAAA;AAAA,IACA,OAAA;AAAA,IACA,QAAA;AAAA,IACA,SAAA;AAAA,IACA,GAAG;AAAA,GACD,GAAA,KAAA;AACJ,EAAA,MAAM,EAAE,aAAA,EAAkB,GAAA,UAAA,CAAW,oBAAoB,CAAA;AACzD,EAAM,MAAA,OAAA,GAAU,cAAc,aAAa,CAAA;AAI3C,EAAM,MAAA,EAAE,MAAO,EAAA,GAAI,mBAAoB,EAAA;AAEvC,EAAA,MAAM,QACJ,GAAA,CAAC,MAAU,IAAA,UAAA,GACP,EAAE,OAAA,EAAS,MAAQ,EAAA,UAAA,EAAY,MAAO,EAAA,GACtC,EAAE,UAAA,EAAY,GAAI,EAAA;AAExB,EAAA,MAAM,kCACHD,cAAA,CAAA,aAAA,CAAA,GAAA,EAAA,EAAI,OAAO,QACV,EAAA,kBAAAA,cAAA,CAAA,aAAA,CAAC,QAAK,QAAS,EAAA,OAAA,EAAQ,GACtB,CAAC,MAAA,IAAU,6BAAcA,cAAA,CAAA,aAAA,CAAA,cAAA,EAAA,EAAe,UAAS,OAAQ,EAAA,CAAA,6EAAO,CACnE,CAAA;AAGF,EAAA,MAAM,QACJ,mBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,WAAA;AAAA,MACN,OAAQ,EAAA,KAAA;AAAA,MACR,OAAQ,EAAA,UAAA;AAAA,MACR,WAAW,CAAC,gBAAA;AAAA,MACZ,SAAA,EAAWC,WAAW,EAAE,CAAC,QAAQ,cAAc,GAAG,CAAC,MAAA,EAAQ;AAAA,KAAA;AAAA,IAE1D;AAAA,GACH;AAGF,EAAM,MAAA,WAAA,mBAEFD,cAAA,CAAA,aAAA,CAAAA,cAAA,CAAA,QAAA,EAAA,IAAA,kBAAAA,cAAA,CAAA,aAAA,CAAC,GAAI,EAAA,EAAA,aAAA,EAAY,cAAe,EAAA,SAAA,EAAW,OAAQ,CAAA,aAAA,EAAA,EAChD,QACH,CAAA,EACC,IACC,oBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACC,OAAQ,EAAA,WAAA;AAAA,MACR,SAAU,EAAA,MAAA;AAAA,MACV,WAAW,OAAQ,CAAA;AAAA,KAAA;AAAA,IAElB;AAAA,qBAGJA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA,EAAI,WAAW,OAAQ,CAAA,eAAA,EAAA,EAAkB,QAAS,CACrD,CAAA;AAGF,EAAM,MAAA,OAAA,GAAU,SAAS,WAAc,GAAA,QAAA;AAEvC,EAAA,MAAM,UAAa,GAAA;AAAA,IACjB,OAAA;AAAA,IACA,SAAW,EAAAC,UAAA;AAAA,MACT,SAAA;AAAA,MACA,OAAQ,CAAA,IAAA;AAAA,MACR,MAAA,GAAS,OAAQ,CAAA,IAAA,GAAO,OAAQ,CAAA,MAAA;AAAA,MAChC,YAAA,CAAa,KAAK,CAAA,IAAK,OAAQ,CAAA,UAAA;AAAA,MAC/B,EAAE,CAAC,OAAA,CAAQ,aAAa,GAAG,CAAC,gBAAiB;AAAA;AAC/C,GACF;AAEA,EAAA,MAAM,eAAe,YAAa,EAAA;AAClC,EAAM,MAAA,EAAE,QAAU,EAAA,EAAA,EAAO,GAAA,eAAA;AAAA,IACvB,CAAC,YAAa,CAAA,KAAK,KAAK,KAAM,CAAA,EAAA,GAAK,MAAM,EAAK,GAAA;AAAA,GAChD;AAEA,EAAA,MAAM,WAAc,GAAA,WAAA;AAAA,IAClB,CAAC,KAAmE,KAAA;AAClE,MAAA,IAAI,CAAC,OAAS,EAAA;AACZ,QAAA,MAAM,MAAS,GAAA,OAAA;AACf,QAAA,MAAM,UAAU,IAAQ,IAAA,cAAA;AACxB,QAAA,MAAM,UAAU,EAAK,GAAA,EAAE,YAAY,EAAE,EAAA,IAAS,GAAA,KAAA,CAAA;AAC9C,QAAa,YAAA,CAAA,YAAA,CAAa,MAAQ,EAAA,OAAA,EAAS,OAAO,CAAA;AAAA;AAEpD,MAAA,OAAA,GAAU,KAAK,CAAA;AAAA,KACjB;AAAA,IACA,CAAC,YAAA,EAAc,IAAM,EAAA,EAAA,EAAI,SAAS,OAAO;AAAA,GAC3C;AAEA,EAAI,IAAA,YAAA,CAAa,KAAK,CAAG,EAAA;AACvB,IACE,uBAAAD,cAAA,CAAA,aAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QACC,IAAK,EAAA,QAAA;AAAA,QACL,YAAY,EAAA,IAAA;AAAA,QACX,GAAG,UAAA;AAAA,QACJ,GAAA;AAAA,QACA,OAAS,EAAA;AAAA,OAAA;AAAA,MAER;AAAA,KACH;AAAA;AAIJ,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,iBAAA;AAAA,IAAA;AAAA,MACE,GAAG,UAAA;AAAA,MACJ,iBAAiB,OAAQ,CAAA,QAAA;AAAA,MACzB,EAAI,EAAA,KAAA,CAAM,EAAK,GAAA,KAAA,CAAM,EAAK,GAAA,EAAA;AAAA,MAC1B,GAAA;AAAA,MACA,YAAA,EAAY,IAAO,GAAA,IAAA,GAAO,KAAM,CAAA,EAAA;AAAA,MAC/B,GAAG,YAAA;AAAA,MACJ,OAAS,EAAA;AAAA,KAAA;AAAA,IAER;AAAA,GACH;AAEJ,CAAC,CAAA;AAED,MAAM,yBAAyB,CAAC;AAAA,EAC9B,QAAA;AAAA,EACA,GAAG;AACL,CAEM,KAAA;AACJ,EAAA,MAAM,EAAE,aAAA,EAAkB,GAAA,UAAA,CAAW,oBAAoB,CAAA;AACzD,EAAM,MAAA,OAAA,GAAU,cAAc,aAAa,CAAA;AAC3C,EAAA,MAAM,CAAC,WAAA,EAAa,cAAc,CAAA,GAAI,SAAS,KAAK,CAAA;AACpD,EAAA,MAAM,WAAW,WAAY,EAAA;AAC7B,EAAM,MAAA,QAAA,GAAW,gBAAiB,CAAA,QAAA,EAAU,QAAQ,CAAA;AACpD,EAAA,MAAM,aAAgB,GAAA,aAAA;AAAA,IAAc,CAAC,KAAA,KACnC,KAAM,CAAA,WAAA,CAAY,KAAK,IAAI;AAAA,GAC7B;AAEA,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,cAAA,CAAe,IAAI,CAAA;AAAA,GACrB;AACA,EAAA,MAAM,mBAAmB,MAAM;AAC7B,IAAA,cAAA,CAAe,KAAK,CAAA;AAAA,GACtB;AAEA,EAAA,MAAM,YAAY,MAAM;AACtB,IAAA,IAAI,aAAe,EAAA;AACjB,MAAA,OAAO,WACL,mBAAAA,cAAA,CAAA,aAAA,CAACE,eAAY,EAAA,EAAA,QAAA,EAAS,SAAQ,SAAW,EAAA,OAAA,CAAQ,YAAc,EAAA,CAAA,gDAE9DC,iBAAc,EAAA,EAAA,QAAA,EAAS,OAAQ,EAAA,SAAA,EAAW,QAAQ,YAAc,EAAA,CAAA;AAAA;AAGrE,IACE,OAAA,CAAC,+BACEH,cAAA,CAAA,aAAA,CAAA,cAAA,EAAA,EAAe,UAAS,OAAQ,EAAA,SAAA,EAAW,QAAQ,YAAc,EAAA,CAAA;AAAA,GAGxE;AAEA,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,6BAA8B,CAAA,QAAA;AAAA,IAA9B;AAAA,MACC,KAAO,EAAA;AAAA,QACL,WAAA;AAAA,QACA;AAAA;AACF,KAAA;AAAA,oBAEAA,cAAA,CAAA,aAAA;AAAA,MAAC,KAAA;AAAA,MAAA;AAAA,QACC,aAAY,EAAA,mBAAA;AAAA,QACZ,YAAc,EAAA,gBAAA;AAAA,QACd,YAAA,EAAc,cAAc,gBAAmB,GAAA,gBAAA;AAAA,QAC/C,YAAc,EAAA,gBAAA;AAAA,QACd,SAAW,EAAAC,UAAA,CAAW,WAAe,IAAA,OAAA,CAAQ,WAAW;AAAA,OAAA;AAAA,sBAExDD,cAAA,CAAA,aAAA;AAAA,QAAC,eAAA;AAAA,QAAA;AAAA,UACC,UAAU,EAAA,IAAA;AAAA,UACV,SAAA,EAAW,QAAW,GAAA,OAAA,CAAQ,QAAW,GAAA,EAAA;AAAA,UACxC,GAAG;AAAA,SAAA;AAAA,QAEH,SAAU;AAAA,OACb;AAAA,MACC,WAAe,IAAA;AAAA;AAClB,GACF;AAEJ,CAAA;AAQO,MAAM,WAAc,GAAA,UAAA,CAGzB,CAAC,KAAA,EAAO,GAAQ,KAAA;AAEhB,EAAM,MAAA,CAAC,OAAO,CAAI,GAAA,gBAAA;AAAA,IAAiB,KAAM,CAAA,QAAA;AAAA,IAAU,CAAA,QAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAKjD,SAAS,WAAY,EAAA,CAAE,OAAO,CAAS,KAAA,KAAA,KAAA,CAAM,SAAS,kBAAkB;AAAA;AAAA,GAC1E;AAEA,EAAA,IAAI,OAAS,EAAA;AACX,IAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,sBAAA,EAAA,EAAwB,GAAG,KAAA,EAAA,EACzB,OACH,CAAA;AAAA;AAIJ,EAAA,uBAAQA,cAAA,CAAA,aAAA,CAAA,eAAA,EAAA,EAAiB,GAAG,KAAA,EAAO,GAAU,EAAA,CAAA;AAC/C,CAAC;AAQM,SAAS,mBAAmB,KAAgC,EAAA;AACjE,EAAA,MAAM,EAAE,aAAA,EAAkB,GAAA,UAAA,CAAW,oBAAoB,CAAA;AACzD,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAI,SAAS,EAAE,CAAA;AACrC,EAAM,MAAA,OAAA,GAAU,cAAc,aAAa,CAAA;AAC3C,EAAA,MAAM,IAAO,GAAA,KAAA,CAAM,IAAO,GAAA,KAAA,CAAM,IAAO,GAAAI,MAAA;AAEvC,EAAA,MAAM,SAAS,MAAM;AACnB,IAAA,KAAA,CAAM,SAAS,KAAK,CAAA;AACpB,IAAA,QAAA,CAAS,EAAE,CAAA;AAAA,GACb;AAEA,EAAA,MAAM,cAAoC,CAAM,EAAA,KAAA;AAC9C,IAAI,IAAA,EAAA,CAAG,QAAQ,OAAS,EAAA;AACtB,MAAA,EAAA,CAAG,cAAe,EAAA;AAClB,MAAO,MAAA,EAAA;AAAA;AACT,GACF;AAEA,EAAM,MAAA,WAAA,GAAc,CAAC,EAA4C,KAAA;AAC/D,IAAS,QAAA,CAAA,EAAA,CAAG,OAAO,KAAK,CAAA;AAAA,GAC1B;AAEA,EAAM,MAAA,gBAAA,GAAmB,CAAC,EAA2C,KAAA;AAEnE,IAAA,EAAA,CAAG,cAAe,EAAA;AAClB,IAAA,EAAA,CAAG,eAAgB,EAAA;AAAA,GACrB;AAEA,EAAM,MAAA,eAAA,GAAkB,CAAC,EAAyB,KAAA;AAEhD,IAAO,MAAA,EAAA;AACP,IAAA,EAAA,CAAG,cAAe,EAAA;AAAA,GACpB;AAEA,EAAA,uBACGJ,cAAA,CAAA,aAAA,CAAA,GAAA,EAAA,EAAI,SAAW,EAAA,OAAA,CAAQ,UACtB,EAAA,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,IAAM,EAAA,IAAA;AAAA,MACN,IAAI,KAAM,CAAA,EAAA;AAAA,MACV,OAAS,EAAA,eAAA;AAAA,MACT,gBAAgB,EAAA;AAAA,KAAA;AAAA,oBAEhBA,cAAA,CAAA,aAAA;AAAA,MAAC,SAAA;AAAA,MAAA;AAAA,QACC,WAAY,EAAA,QAAA;AAAA,QACZ,KAAO,EAAA,KAAA;AAAA,QACP,OAAS,EAAA,gBAAA;AAAA,QACT,QAAU,EAAA,WAAA;AAAA,QACV,SAAW,EAAA,WAAA;AAAA,QACX,WAAW,OAAQ,CAAA,eAAA;AAAA,QACnB,UAAY,EAAA;AAAA,UACV,gBAAkB,EAAA,IAAA;AAAA,UAClB,WAAW,OAAQ,CAAA;AAAA,SACrB;AAAA,QACA,UAAY,EAAA;AAAA,UACV,WAAW,OAAQ,CAAA;AAAA;AACrB;AAAA;AACF,GAEJ,CAAA;AAEJ;AAIa,MAAA,YAAA,GAAe,OAAO,KAAK,CAAA;AAAA,EACtC;AAAA,IACE,IAAM,EAAA;AAAA,GACR;AAAA,EACA,EAAE,MAAM,uBAAwB;AAClC;AAIa,MAAA,aAAA,GAAgB,OAAO,KAAK,CAAA;AAAA,EACvC;AAAA,IACE,MAAQ,EAAA;AAAA,GACV;AAAA,EACA,EAAE,MAAM,wBAAyB;AACnC;AAIa,MAAA,cAAA,GAAiB,OAAO,IAAI,CAAA;AAAA,EACvC,CAAC,EAAE,KAAA,EAAa,MAAA;AAAA,IACd,MAAQ,EAAA,CAAA;AAAA,IACR,KAAO,EAAA,MAAA;AAAA,IACP,UAAY,EAAA,SAAA;AAAA,IACZ,MAAQ,EAAA,MAAA;AAAA,IACR,MAAQ,EAAA,KAAA,CAAM,OAAQ,CAAA,GAAA,EAAK,CAAC;AAAA,GAC9B,CAAA;AAAA,EACA,EAAE,MAAM,yBAA0B;AACpC;AAEA,MAAM,eAAA,GAAkB,CAAC,KAAuC,MAAA;AAAA,EAC9D,SAAW,EAAA,MAAA;AAAA,EACX,sBAAwB,EAAA;AAAA,IACtB,eAAA,EAAiB,KAAM,CAAA,OAAA,CAAQ,UAAW,CAAA,OAAA;AAAA,IAC1C,KAAO,EAAA,KAAA;AAAA,IACP,YAAc,EAAA;AAAA,GAChB;AAAA,EACA,4BAA8B,EAAA;AAAA,IAC5B,eAAA,EAAiB,KAAM,CAAA,OAAA,CAAQ,IAAK,CAAA,SAAA;AAAA,IACpC,YAAc,EAAA;AAAA;AAElB,CAAA,CAAA;AAEO,MAAM,uBAAuB,MAAO,CAAA,KAAK,EAAE,CAAC,EAAE,OAAY,KAAA;AAC/D,EAAM,MAAA,eAAA,GAAkB,gBAAgB,KAAK,CAAA;AAC7C,EAAO,OAAA;AAAA,IACL,IAAM,EAAA,UAAA;AAAA,IACN,SAAW,EAAA,QAAA;AAAA,IACX,KAAO,EAAA,MAAA;AAAA;AAAA;AAAA,IAGP,SAAW,EAAA,MAAA;AAAA,IACX,SAAW,EAAA,QAAA;AAAA,IACX,sBAAwB,EAAA,eAAA;AAAA,IACxB,SAAW,EAAA;AAAA,GACb;AACF,CAAC;AAYM,MAAM,sBAAsB,MAAM;AACvC,EAAA,MAAM,EAAE,aAAA,EAAkB,GAAA,UAAA,CAAW,oBAAoB,CAAA;AACzD,EAAM,MAAA,OAAA,GAAU,cAAc,aAAa,CAAA;AAC3C,EAAA,MAAM,EAAE,MAAA,EAAQ,OAAQ,EAAA,GAAI,mBAAoB,EAAA;AAChD,EAAA,MAAM,aAAgB,GAAA,aAAA;AAAA,IACpB,CAAS,KAAA,KAAA,KAAA,CAAM,WAAY,CAAA,IAAA,CAAK,IAAI,CAAA;AAAA,IACpC,EAAE,OAAO,IAAK;AAAA,GAChB;AAEA,EAAA,IAAI,aAAe,EAAA;AACjB,IAAO,OAAA,IAAA;AAAA;AAGT,EAAA,MAAM,cAAc,MAAM;AACxB,IAAA,OAAA,CAAQ,CAAC,MAAM,CAAA;AAAA,GACjB;AAEA,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,IAAK,EAAA,QAAA;AAAA,MACL,OAAS,EAAA,WAAA;AAAA,MACT,WAAW,OAAQ,CAAA,YAAA;AAAA,MACnB,YAAW,EAAA,gBAAA;AAAA,MACX,aAAY,EAAA;AAAA,KAAA;AAAA,oBAEZA,cAAA,CAAA,aAAA,CAAC,GAAI,EAAA,EAAA,SAAA,EAAW,OAAQ,CAAA,MAAA,EAAA,EACrB,MAAS,mBAAAA,cAAA,CAAA,aAAA,CAAC,eAAgB,EAAA,IAAA,CAAA,mBAAMA,cAAA,CAAA,aAAA,CAAA,gBAAA,EAAA,IAAiB,CACpD;AAAA,GACF;AAEJ;;;;"}