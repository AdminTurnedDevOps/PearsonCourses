{"version":3,"file":"HeaderActionMenu.esm.js","sources":["../../../src/layout/HeaderActionMenu/HeaderActionMenu.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { Fragment, ReactElement } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText, {\n  ListItemTextProps,\n} from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { useTheme } from '@material-ui/core/styles';\n\n/**\n * @public\n */\nexport type HeaderActionMenuItem = {\n  label?: ListItemTextProps['primary'];\n  secondaryLabel?: ListItemTextProps['secondary'];\n  icon?: ReactElement;\n  disabled?: boolean;\n  onClick?: (event: React.MouseEvent<HTMLElement>) => void;\n};\n\nconst ActionItem = ({\n  label,\n  secondaryLabel,\n  icon,\n  disabled = false,\n  onClick,\n}: HeaderActionMenuItem) => {\n  return (\n    <Fragment>\n      <ListItem\n        data-testid=\"header-action-item\"\n        disabled={disabled}\n        button\n        onClick={event => {\n          if (onClick) {\n            onClick(event);\n          }\n        }}\n      >\n        {icon && <ListItemIcon>{icon}</ListItemIcon>}\n        <ListItemText primary={label} secondary={secondaryLabel} />\n      </ListItem>\n    </Fragment>\n  );\n};\n\n/**\n * @public\n */\nexport type HeaderActionMenuProps = {\n  actionItems: HeaderActionMenuItem[];\n};\n\n/**\n * @public\n */\nexport function HeaderActionMenu(props: HeaderActionMenuProps) {\n  const {\n    palette: {\n      common: { white },\n    },\n  } = useTheme();\n  const { actionItems } = props;\n  const [open, setOpen] = React.useState(false);\n  const anchorElRef = React.useRef(null);\n\n  return (\n    <Fragment>\n      <IconButton\n        onClick={() => setOpen(true)}\n        data-testid=\"header-action-menu\"\n        ref={anchorElRef}\n        style={{\n          color: white,\n          height: 56,\n          width: 56,\n          marginRight: -4,\n          padding: 0,\n        }}\n      >\n        <MoreVert />\n      </IconButton>\n      <Popover\n        open={open}\n        anchorEl={anchorElRef.current}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        onClose={() => setOpen(false)}\n      >\n        <List>\n          {actionItems.map((actionItem, i) => {\n            return (\n              <ActionItem key={`header-action-menu-${i}`} {...actionItem} />\n            );\n          })}\n        </List>\n      </Popover>\n    </Fragment>\n  );\n}\n"],"names":["React"],"mappings":";;;;;;;;;;AAuCA,MAAM,aAAa,CAAC;AAAA,EAClB,KAAA;AAAA,EACA,cAAA;AAAA,EACA,IAAA;AAAA,EACA,QAAW,GAAA,KAAA;AAAA,EACX;AACF,CAA4B,KAAA;AAC1B,EAAA,oDACG,QACC,EAAA,IAAA,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,aAAY,EAAA,oBAAA;AAAA,MACZ,QAAA;AAAA,MACA,MAAM,EAAA,IAAA;AAAA,MACN,SAAS,CAAS,KAAA,KAAA;AAChB,QAAA,IAAI,OAAS,EAAA;AACX,UAAA,OAAA,CAAQ,KAAK,CAAA;AAAA;AACf;AACF,KAAA;AAAA,IAEC,IAAA,oBAASA,cAAA,CAAA,aAAA,CAAA,YAAA,EAAA,IAAA,EAAc,IAAK,CAAA;AAAA,oBAC5BA,cAAA,CAAA,aAAA,CAAA,YAAA,EAAA,EAAa,OAAS,EAAA,KAAA,EAAO,WAAW,cAAgB,EAAA;AAAA,GAE7D,CAAA;AAEJ,CAAA;AAYO,SAAS,iBAAiB,KAA8B,EAAA;AAC7D,EAAM,MAAA;AAAA,IACJ,OAAS,EAAA;AAAA,MACP,MAAA,EAAQ,EAAE,KAAM;AAAA;AAClB,MACE,QAAS,EAAA;AACb,EAAM,MAAA,EAAE,aAAgB,GAAA,KAAA;AACxB,EAAA,MAAM,CAAC,IAAM,EAAA,OAAO,CAAI,GAAAA,cAAA,CAAM,SAAS,KAAK,CAAA;AAC5C,EAAM,MAAA,WAAA,GAAcA,cAAM,CAAA,MAAA,CAAO,IAAI,CAAA;AAErC,EAAA,oDACG,QACC,EAAA,IAAA,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAS,MAAM,OAAA,CAAQ,IAAI,CAAA;AAAA,MAC3B,aAAY,EAAA,oBAAA;AAAA,MACZ,GAAK,EAAA,WAAA;AAAA,MACL,KAAO,EAAA;AAAA,QACL,KAAO,EAAA,KAAA;AAAA,QACP,MAAQ,EAAA,EAAA;AAAA,QACR,KAAO,EAAA,EAAA;AAAA,QACP,WAAa,EAAA,CAAA,CAAA;AAAA,QACb,OAAS,EAAA;AAAA;AACX,KAAA;AAAA,iDAEC,QAAS,EAAA,IAAA;AAAA,GAEZ,kBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,OAAA;AAAA,IAAA;AAAA,MACC,IAAA;AAAA,MACA,UAAU,WAAY,CAAA,OAAA;AAAA,MACtB,YAAc,EAAA,EAAE,UAAY,EAAA,OAAA,EAAS,UAAU,QAAS,EAAA;AAAA,MACxD,eAAiB,EAAA,EAAE,UAAY,EAAA,OAAA,EAAS,UAAU,KAAM,EAAA;AAAA,MACxD,OAAA,EAAS,MAAM,OAAA,CAAQ,KAAK;AAAA,KAAA;AAAA,iDAE3B,IACE,EAAA,IAAA,EAAA,WAAA,CAAY,GAAI,CAAA,CAAC,YAAY,CAAM,KAAA;AAClC,MAAA,oDACG,UAAW,EAAA,EAAA,GAAA,EAAK,sBAAsB,CAAC,CAAA,CAAA,EAAK,GAAG,UAAY,EAAA,CAAA;AAAA,KAE/D,CACH;AAAA,GAEJ,CAAA;AAEJ;;;;"}