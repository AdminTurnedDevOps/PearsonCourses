{"version":3,"file":"types.esm.js","sources":["../../../src/layout/ProxiedSignInPage/types.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  BackstageIdentityResponse,\n  ProfileInfo,\n} from '@backstage/core-plugin-api';\nimport { z } from 'zod';\n\nexport const proxiedSessionSchema = z.object({\n  providerInfo: z.object({}).catchall(z.unknown()).optional(),\n  profile: z.object({\n    email: z.string().optional(),\n    displayName: z.string().optional(),\n    picture: z.string().optional(),\n  }),\n  backstageIdentity: z.object({\n    token: z.string(),\n    identity: z.object({\n      type: z.literal('user'),\n      userEntityRef: z.string(),\n      ownershipEntityRefs: z.array(z.string()),\n    }),\n  }),\n});\n\n/**\n * Generic session information for proxied sign-in providers, e.g. common\n * reverse authenticating proxy implementations.\n *\n * @public\n */\nexport type ProxiedSession = {\n  providerInfo?: { [key: string]: unknown };\n  profile: ProfileInfo;\n  backstageIdentity: Omit<BackstageIdentityResponse, 'id'>;\n};\n"],"names":[],"mappings":";;AAsBa,MAAA,oBAAA,GAAuB,EAAE,MAAO,CAAA;AAAA,EAC3C,YAAA,EAAc,CAAE,CAAA,MAAA,CAAO,EAAE,CAAE,CAAA,QAAA,CAAS,CAAE,CAAA,OAAA,EAAS,CAAA,CAAE,QAAS,EAAA;AAAA,EAC1D,OAAA,EAAS,EAAE,MAAO,CAAA;AAAA,IAChB,KAAO,EAAA,CAAA,CAAE,MAAO,EAAA,CAAE,QAAS,EAAA;AAAA,IAC3B,WAAa,EAAA,CAAA,CAAE,MAAO,EAAA,CAAE,QAAS,EAAA;AAAA,IACjC,OAAS,EAAA,CAAA,CAAE,MAAO,EAAA,CAAE,QAAS;AAAA,GAC9B,CAAA;AAAA,EACD,iBAAA,EAAmB,EAAE,MAAO,CAAA;AAAA,IAC1B,KAAA,EAAO,EAAE,MAAO,EAAA;AAAA,IAChB,QAAA,EAAU,EAAE,MAAO,CAAA;AAAA,MACjB,IAAA,EAAM,CAAE,CAAA,OAAA,CAAQ,MAAM,CAAA;AAAA,MACtB,aAAA,EAAe,EAAE,MAAO,EAAA;AAAA,MACxB,mBAAqB,EAAA,CAAA,CAAE,KAAM,CAAA,CAAA,CAAE,QAAQ;AAAA,KACxC;AAAA,GACF;AACH,CAAC;;;;"}