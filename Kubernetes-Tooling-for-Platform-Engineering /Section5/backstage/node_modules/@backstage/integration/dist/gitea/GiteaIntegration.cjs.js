'use strict';

var helpers = require('../helpers.cjs.js');
var config = require('./config.cjs.js');
var core = require('./core.cjs.js');

class GiteaIntegration {
  constructor(config) {
    this.config = config;
  }
  static factory = ({ config: config$1 }) => {
    const configs = config$1.getOptionalConfigArray("integrations.gitea") ?? [];
    const giteaConfigs = configs.map((c) => config.readGiteaConfig(c));
    return helpers.basicIntegrations(
      giteaConfigs.map((c) => new GiteaIntegration(c)),
      (gitea) => gitea.config.host
    );
  };
  get type() {
    return "gitea";
  }
  get title() {
    return this.config.host;
  }
  resolveUrl(options) {
    return helpers.defaultScmResolveUrl(options);
  }
  resolveEditUrl(url) {
    return core.getGiteaEditContentsUrl(this.config, url);
  }
}

exports.GiteaIntegration = GiteaIntegration;
//# sourceMappingURL=GiteaIntegration.cjs.js.map
