{"version":3,"file":"AppRoutes.esm.js","sources":["../../src/extensions/AppRoutes.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport {\n  createExtension,\n  coreExtensionData,\n  createExtensionInput,\n  coreComponentRefs,\n  useComponentRef,\n} from '@backstage/frontend-plugin-api';\nimport { useRoutes } from 'react-router-dom';\n\nexport const AppRoutes = createExtension({\n  name: 'routes',\n  attachTo: { id: 'app/layout', input: 'content' },\n  inputs: {\n    routes: createExtensionInput([\n      coreExtensionData.routePath,\n      coreExtensionData.routeRef.optional(),\n      coreExtensionData.reactElement,\n    ]),\n  },\n  output: [coreExtensionData.reactElement],\n  factory({ inputs }) {\n    const Routes = () => {\n      const NotFoundErrorPage = useComponentRef(\n        coreComponentRefs.notFoundErrorPage,\n      );\n\n      const element = useRoutes([\n        ...inputs.routes.map(route => ({\n          path: `${route.get(coreExtensionData.routePath)}/*`,\n          element: route.get(coreExtensionData.reactElement),\n        })),\n        {\n          path: '*',\n          element: <NotFoundErrorPage />,\n        },\n      ]);\n\n      return element;\n    };\n\n    return [coreExtensionData.reactElement(<Routes />)];\n  },\n});\n"],"names":[],"mappings":";;;;AA0BO,MAAM,YAAY,eAAgB,CAAA;AAAA,EACvC,IAAM,EAAA,QAAA;AAAA,EACN,QAAU,EAAA,EAAE,EAAI,EAAA,YAAA,EAAc,OAAO,SAAU,EAAA;AAAA,EAC/C,MAAQ,EAAA;AAAA,IACN,QAAQ,oBAAqB,CAAA;AAAA,MAC3B,iBAAkB,CAAA,SAAA;AAAA,MAClB,iBAAA,CAAkB,SAAS,QAAS,EAAA;AAAA,MACpC,iBAAkB,CAAA;AAAA,KACnB;AAAA,GACH;AAAA,EACA,MAAA,EAAQ,CAAC,iBAAA,CAAkB,YAAY,CAAA;AAAA,EACvC,OAAA,CAAQ,EAAE,MAAA,EAAU,EAAA;AAClB,IAAA,MAAM,SAAS,MAAM;AACnB,MAAA,MAAM,iBAAoB,GAAA,eAAA;AAAA,QACxB,iBAAkB,CAAA;AAAA,OACpB;AAEA,MAAA,MAAM,UAAU,SAAU,CAAA;AAAA,QACxB,GAAG,MAAA,CAAO,MAAO,CAAA,GAAA,CAAI,CAAU,KAAA,MAAA;AAAA,UAC7B,MAAM,CAAG,EAAA,KAAA,CAAM,GAAI,CAAA,iBAAA,CAAkB,SAAS,CAAC,CAAA,EAAA,CAAA;AAAA,UAC/C,OAAS,EAAA,KAAA,CAAM,GAAI,CAAA,iBAAA,CAAkB,YAAY;AAAA,SACjD,CAAA,CAAA;AAAA,QACF;AAAA,UACE,IAAM,EAAA,GAAA;AAAA,UACN,OAAA,sCAAU,iBAAkB,EAAA,IAAA;AAAA;AAC9B,OACD,CAAA;AAED,MAAO,OAAA,OAAA;AAAA,KACT;AAEA,IAAA,OAAO,CAAC,iBAAkB,CAAA,YAAA,iBAAc,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAO,CAAE,CAAC,CAAA;AAAA;AAEtD,CAAC;;;;"}