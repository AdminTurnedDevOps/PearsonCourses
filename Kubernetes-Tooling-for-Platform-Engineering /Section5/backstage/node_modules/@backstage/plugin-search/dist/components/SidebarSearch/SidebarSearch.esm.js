import qs from 'qs';
import React, { useCallback } from 'react';
import { useNavigate } from 'react-router-dom';
import { rootRouteRef } from '../../plugin.esm.js';
import { useRouteRef } from '@backstage/core-plugin-api';
import { useContent, SidebarSearchField } from '@backstage/core-components';

const SidebarSearch = (props) => {
  const searchRoute = useRouteRef(rootRouteRef);
  const { focusContent } = useContent();
  const navigate = useNavigate();
  const handleSearch = useCallback(
    (query) => {
      const queryString = qs.stringify({ query }, { addQueryPrefix: true });
      focusContent();
      navigate(`${searchRoute()}${queryString}`);
    },
    [focusContent, navigate, searchRoute]
  );
  return /* @__PURE__ */ React.createElement(
    SidebarSearchField,
    {
      icon: props.icon,
      onSearch: handleSearch,
      to: "/search"
    }
  );
};

export { SidebarSearch };
//# sourceMappingURL=SidebarSearch.esm.js.map
