'use strict';

var pluginPermissionCommon = require('@backstage/plugin-permission-common');
var createConditionFactory = require('./createConditionFactory.cjs.js');

const createConditionExports = (options) => {
  const { pluginId, resourceType, rules } = options;
  return {
    conditions: Object.entries(rules).reduce(
      (acc, [key, rule]) => ({
        ...acc,
        [key]: createConditionFactory.createConditionFactory(rule)
      }),
      {}
    ),
    createConditionalDecision: (_permission, conditions) => ({
      result: pluginPermissionCommon.AuthorizeResult.CONDITIONAL,
      pluginId,
      resourceType,
      conditions
    })
  };
};

exports.createConditionExports = createConditionExports;
//# sourceMappingURL=createConditionExports.cjs.js.map
