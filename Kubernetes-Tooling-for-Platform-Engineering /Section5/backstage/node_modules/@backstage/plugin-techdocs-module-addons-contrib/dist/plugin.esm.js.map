{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { createPlugin } from '@backstage/core-plugin-api';\nimport {\n  createTechDocsAddonExtension,\n  TechDocsAddonLocations,\n} from '@backstage/plugin-techdocs-react';\nimport { ExpandableNavigationAddon } from './ExpandableNavigation';\nimport { ReportIssueAddon, ReportIssueProps } from './ReportIssue';\nimport { TextSizeAddon } from './TextSize';\nimport { LightBoxAddon } from './LigthBox';\n\n/**\n * The TechDocs addons contrib plugin\n *\n * @public\n */\n\nexport const techdocsModuleAddonsContribPlugin = createPlugin({\n  id: 'techdocsModuleAddonsContrib',\n});\n\n/**\n * TechDocs addon that lets you expand/collapse the TechDocs main navigation\n * and keep the preferred state in local storage. The addon will render as\n * a button next to the site name if the documentation has nested navigation.\n *\n * @example\n * Here's a simple example:\n * ```\n * import {\n *   DefaultTechDocsHome,\n *   TechDocsIndexPage,\n *   TechDocsReaderPage,\n * } from '@backstage/plugin-techdocs';\n * import { TechDocsAddons } from '@backstage/plugin-techdocs-react/alpha';\n * import { ExpandableNavigation } from '@backstage/plugin-techdocs-module-addons-contrib';\n *\n *\n * const AppRoutes = () => {\n *   <FlatRoutes>\n *     // other plugin routes\n *     <Route path=\"/docs\" element={<TechDocsIndexPage />}>\n *       <DefaultTechDocsHome />\n *     </Route>\n *     <Route\n *       path=\"/docs/:namespace/:kind/:name/*\"\n *       element={<TechDocsReaderPage />}\n *     >\n *       <TechDocsAddons>\n *         <ExpandableNavigation />\n *       </TechDocsAddons>\n *     </Route>\n *   </FlatRoutes>;\n * };\n * ```\n *\n * @public\n */\n\nexport const ExpandableNavigation = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: 'ExpandableNavigation',\n    location: TechDocsAddonLocations.PrimarySidebar,\n    component: ExpandableNavigationAddon,\n  }),\n);\n\n/**\n * TechDocs addon that lets you select text and open GitHub/Gitlab issues\n *\n * @remarks\n * Before using it, you should set up an `edit_uri` for your pages as explained {@link https://backstage.io/docs/features/techdocs/faqs#is-it-possible-for-users-to-suggest-changes-or-provide-feedback-on-a-techdocs-page | here} and remember, it only works for Github or Gitlab.\n *\n * @example\n * Here's a simple example:\n * ```\n * import {\n *   DefaultTechDocsHome,\n *   TechDocsIndexPage,\n *   TechDocsReaderPage,\n * } from '@backstage/plugin-techdocs';\n * import { TechDocsAddons } from '@backstage/plugin-techdocs-react';\n * import { ReportIssue } from '@backstage/plugin-techdocs-module-addons-contrib';\n *\n *\n * const AppRoutes = () => {\n *   <FlatRoutes>\n *     // other plugin routes\n *     <Route path=\"/docs\" element={<TechDocsIndexPage />}>\n *       <DefaultTechDocsHome />\n *     </Route>\n *     <Route\n *       path=\"/docs/:namespace/:kind/:name/*\"\n *       element={<TechDocsReaderPage />}\n *     >\n *       <TechDocsAddons>\n *         <ReportIssue />\n *       </TechDocsAddons>\n *     </Route>\n *   </FlatRoutes>;\n * };\n * ```\n *\n * @example\n * Here's an example with `debounceTime` and `templateBuilder` props:\n * ```\n * import {\n *   DefaultTechDocsHome,\n *   TechDocsIndexPage,\n *   TechDocsReaderPage,\n * } from '@backstage/plugin-techdocs';\n * import { TechDocsAddons } from '@backstage/plugin-techdocs-react';\n * import { ReportIssue } from '@backstage/plugin-techdocs-module-addons-contrib';\n *\n * const templateBuilder = ({ selection }: ReportIssueTemplateBuilder) => (({\n *  title: 'Custom issue title',\n *  body: `Custom issue body: ${selection.toString()}`\n * }))\n *\n * const AppRoutes = () => {\n *   <FlatRoutes>\n *     // other plugin routes\n *     <Route path=\"/docs\" element={<TechDocsIndexPage />}>\n *       <DefaultTechDocsHome />\n *     </Route>\n *     <Route\n *       path=\"/docs/:namespace/:kind/:name/*\"\n *       element={<TechDocsReaderPage />}\n *     >\n *       <TechDocsAddons>\n *         <ReportIssue debounceTime={300} templateBuilder={templateBuilder} />\n *       </TechDocsAddons>\n *     </Route>\n *   </FlatRoutes>;\n * ```\n * @param props - Object that can optionally contain `debounceTime` and `templateBuilder` properties.\n * @public\n */\nexport const ReportIssue = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension<ReportIssueProps>({\n    name: 'ReportIssue',\n    location: TechDocsAddonLocations.Content,\n    component: ReportIssueAddon,\n  }),\n);\n\n/**\n * This TechDocs addon allows users to customize text size on documentation pages, they can select how much they want to increase or decrease the font size via slider or buttons.\n *\n * @remarks\n * The default value for the font size is 100% of the HTML font size, if the theme does not have a `htmlFontSize` in its typography object, the addon will assume 16px as 100%, and remember, this setting is kept in the browser local storage.\n *\n * @example\n * Here's a simple example:\n * ```\n * import {\n *   DefaultTechDocsHome,\n *   TechDocsIndexPage,\n *   TechDocsReaderPage,\n * } from '@backstage/plugin-techdocs';\n * import { TechDocsAddons } from '@backstage/plugin-techdocs-react';\n * import { TextSize } from '@backstage/plugin-techdocs-module-addons-contrib';\n *\n *\n * const AppRoutes = () => {\n *   <FlatRoutes>\n *     // other plugin routes\n *     <Route path=\"/docs\" element={<TechDocsIndexPage />}>\n *       <DefaultTechDocsHome />\n *     </Route>\n *     <Route\n *       path=\"/docs/:namespace/:kind/:name/*\"\n *       element={<TechDocsReaderPage />}\n *     >\n *       <TechDocsAddons>\n *         <TextSize />\n *       </TechDocsAddons>\n *     </Route>\n *   </FlatRoutes>;\n * };\n * ```\n *\n * @public\n */\nexport const TextSize = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: 'TextSize',\n    location: TechDocsAddonLocations.Settings,\n    component: TextSizeAddon,\n  }),\n);\n\n/**\n * This TechDocs addon allows users to open images in a lightbox on documentation pages, they can navigate between images if there are several on one page.\n *\n * @remarks\n * The image size of the lightbox image is the same as the image size on the document page.\n *\n * @example\n * Here's a simple example:\n * ```\n * import {\n *   DefaultTechDocsHome,\n *   TechDocsIndexPage,\n *   TechDocsReaderPage,\n * } from '@backstage/plugin-techdocs';\n * import { TechDocsAddons } from '@backstage/plugin-techdocs-react';\n * import { LightBox } from '@backstage/plugin-techdocs-module-addons-contrib';\n *\n *\n * const AppRoutes = () => {\n *   <FlatRoutes>\n *     // other plugin routes\n *     <Route path=\"/docs\" element={<TechDocsIndexPage />}>\n *       <DefaultTechDocsHome />\n *     </Route>\n *     <Route\n *       path=\"/docs/:namespace/:kind/:name/*\"\n *       element={<TechDocsReaderPage />}\n *     >\n *       <TechDocsAddons>\n *         <LightBox />\n *       </TechDocsAddons>\n *     </Route>\n *   </FlatRoutes>;\n * };\n * ```\n *\n * @public\n */\nexport const LightBox = techdocsModuleAddonsContribPlugin.provide(\n  createTechDocsAddonExtension({\n    name: 'LightBox',\n    location: TechDocsAddonLocations.Content,\n    component: LightBoxAddon,\n  }),\n);\n"],"names":[],"mappings":";;;;;;;AAgCO,MAAM,oCAAoC,YAAa,CAAA;AAAA,EAC5D,EAAI,EAAA;AACN,CAAC;AAwCM,MAAM,uBAAuB,iCAAkC,CAAA,OAAA;AAAA,EACpE,4BAA6B,CAAA;AAAA,IAC3B,IAAM,EAAA,sBAAA;AAAA,IACN,UAAU,sBAAuB,CAAA,cAAA;AAAA,IACjC,SAAW,EAAA;AAAA,GACZ;AACH;AAyEO,MAAM,cAAc,iCAAkC,CAAA,OAAA;AAAA,EAC3D,4BAA+C,CAAA;AAAA,IAC7C,IAAM,EAAA,aAAA;AAAA,IACN,UAAU,sBAAuB,CAAA,OAAA;AAAA,IACjC,SAAW,EAAA;AAAA,GACZ;AACH;AAwCO,MAAM,WAAW,iCAAkC,CAAA,OAAA;AAAA,EACxD,4BAA6B,CAAA;AAAA,IAC3B,IAAM,EAAA,UAAA;AAAA,IACN,UAAU,sBAAuB,CAAA,QAAA;AAAA,IACjC,SAAW,EAAA;AAAA,GACZ;AACH;AAwCO,MAAM,WAAW,iCAAkC,CAAA,OAAA;AAAA,EACxD,4BAA6B,CAAA;AAAA,IAC3B,IAAM,EAAA,UAAA;AAAA,IACN,UAAU,sBAAuB,CAAA,OAAA;AAAA,IACjC,SAAW,EAAA;AAAA,GACZ;AACH;;;;"}