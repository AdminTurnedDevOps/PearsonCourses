'use strict';

var fs = require('fs-extra');
var globby = require('globby');
var backendPluginApi = require('@backstage/backend-plugin-api');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var fs__default = /*#__PURE__*/_interopDefaultCompat(fs);
var globby__default = /*#__PURE__*/_interopDefaultCompat(globby);

async function findStaticAssets(staticDir) {
  const assetPaths = await globby__default.default("**/*", {
    ignore: ["**/*.map"],
    // Ignore source maps since they're quite large
    cwd: staticDir,
    dot: true
  });
  return assetPaths.map((path) => ({
    path,
    content: async () => fs__default.default.readFile(backendPluginApi.resolveSafeChildPath(staticDir, path))
  }));
}

exports.findStaticAssets = findStaticAssets;
//# sourceMappingURL=findStaticAssets.cjs.js.map
