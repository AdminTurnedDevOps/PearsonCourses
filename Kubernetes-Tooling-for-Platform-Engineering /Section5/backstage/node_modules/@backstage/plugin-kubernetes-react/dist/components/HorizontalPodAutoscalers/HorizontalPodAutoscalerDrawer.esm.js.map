{"version":3,"file":"HorizontalPodAutoscalerDrawer.esm.js","sources":["../../../src/components/HorizontalPodAutoscalers/HorizontalPodAutoscalerDrawer.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from 'react';\nimport { V2HorizontalPodAutoscaler } from '@kubernetes/client-node';\nimport { KubernetesStructuredMetadataTableDrawer } from '../KubernetesDrawer';\n\n/** @public */\nexport const HorizontalPodAutoscalerDrawer = (props: {\n  hpa: V2HorizontalPodAutoscaler;\n  expanded?: boolean;\n  children?: React.ReactNode;\n}) => {\n  const { hpa, expanded, children } = props;\n\n  const specCpuUtil = hpa?.spec?.metrics?.find(\n    metric => metric.type === 'Resource' && metric.resource?.name === 'cpu',\n  )?.resource?.target.averageUtilization;\n\n  const cpuUtil = hpa?.status?.currentMetrics?.find(\n    metric => metric.type === 'Resource' && metric.resource?.name === 'cpu',\n  )?.resource?.current.averageUtilization;\n\n  return (\n    <KubernetesStructuredMetadataTableDrawer\n      kind=\"HorizontalPodAutoscaler\"\n      object={hpa}\n      expanded={expanded}\n      renderObject={(hpaObject: V2HorizontalPodAutoscaler) => {\n        return {\n          targetCPUUtilizationPercentage: specCpuUtil,\n          currentCPUUtilizationPercentage: cpuUtil,\n          minReplicas: hpaObject.spec?.minReplicas,\n          maxReplicas: hpaObject.spec?.maxReplicas,\n          currentReplicas: hpaObject.status?.currentReplicas,\n          desiredReplicas: hpaObject.status?.desiredReplicas,\n          lastScaleTime: hpa?.status?.lastScaleTime,\n        };\n      }}\n    >\n      {children}\n    </KubernetesStructuredMetadataTableDrawer>\n  );\n};\n"],"names":["React"],"mappings":";;;;;;;;AAqBa,MAAA,6BAAA,GAAgC,CAAC,KAIxC,KAAA;AACJ,EAAA,MAAM,EAAE,GAAA,EAAK,QAAU,EAAA,QAAA,EAAa,GAAA,KAAA;AAEpC,EAAM,MAAA,WAAA,GAAc,GAAK,EAAA,IAAA,EAAM,OAAS,EAAA,IAAA;AAAA,IACtC,YAAU,MAAO,CAAA,IAAA,KAAS,UAAc,IAAA,MAAA,CAAO,UAAU,IAAS,KAAA;AAAA,GACpE,EAAG,UAAU,MAAO,CAAA,kBAAA;AAEpB,EAAM,MAAA,OAAA,GAAU,GAAK,EAAA,MAAA,EAAQ,cAAgB,EAAA,IAAA;AAAA,IAC3C,YAAU,MAAO,CAAA,IAAA,KAAS,UAAc,IAAA,MAAA,CAAO,UAAU,IAAS,KAAA;AAAA,GACpE,EAAG,UAAU,OAAQ,CAAA,kBAAA;AAErB,EACE,uBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,uCAAA;AAAA,IAAA;AAAA,MACC,IAAK,EAAA,yBAAA;AAAA,MACL,MAAQ,EAAA,GAAA;AAAA,MACR,QAAA;AAAA,MACA,YAAA,EAAc,CAAC,SAAyC,KAAA;AACtD,QAAO,OAAA;AAAA,UACL,8BAAgC,EAAA,WAAA;AAAA,UAChC,+BAAiC,EAAA,OAAA;AAAA,UACjC,WAAA,EAAa,UAAU,IAAM,EAAA,WAAA;AAAA,UAC7B,WAAA,EAAa,UAAU,IAAM,EAAA,WAAA;AAAA,UAC7B,eAAA,EAAiB,UAAU,MAAQ,EAAA,eAAA;AAAA,UACnC,eAAA,EAAiB,UAAU,MAAQ,EAAA,eAAA;AAAA,UACnC,aAAA,EAAe,KAAK,MAAQ,EAAA;AAAA,SAC9B;AAAA;AACF,KAAA;AAAA,IAEC;AAAA,GACH;AAEJ;;;;"}