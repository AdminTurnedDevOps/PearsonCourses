{"version":3,"file":"EntityKindIcon.esm.js","sources":["../../../../src/components/InspectEntityDialog/components/EntityKindIcon.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { parseEntityRef } from '@backstage/catalog-model';\nimport { useApp } from '@backstage/core-plugin-api';\nimport React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DEFAULT_ICON = SvgIcon;\n\nfunction getKind(\n  kind: string | undefined,\n  entityRef: string | undefined,\n): string | undefined {\n  if (kind) {\n    return kind.toLocaleLowerCase('en-US');\n  }\n\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase('en-US');\n    } catch {\n      return undefined;\n    }\n  }\n\n  return undefined;\n}\n\nfunction useIcon(kind: string | undefined, entityRef: string | undefined) {\n  const app = useApp();\n\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\n\nexport function EntityKindIcon(props: {\n  kind?: string;\n  entityRef?: string;\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  className?: string;\n}) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return <Icon {...otherProps} />;\n}\n"],"names":[],"mappings":";;;;;AAqBA,MAAM,YAAe,GAAA,OAAA;AAErB,SAAS,OAAA,CACP,MACA,SACoB,EAAA;AACpB,EAAA,IAAI,IAAM,EAAA;AACR,IAAO,OAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA;AAAA;AAGvC,EAAA,IAAI,SAAW,EAAA;AACb,IAAI,IAAA;AACF,MAAA,OAAO,cAAe,CAAA,SAAS,CAAE,CAAA,IAAA,CAAK,kBAAkB,OAAO,CAAA;AAAA,KACzD,CAAA,MAAA;AACN,MAAO,OAAA,KAAA,CAAA;AAAA;AACT;AAGF,EAAO,OAAA,KAAA,CAAA;AACT;AAEA,SAAS,OAAA,CAAQ,MAA0B,SAA+B,EAAA;AACxE,EAAA,MAAM,MAAM,MAAO,EAAA;AAEnB,EAAM,MAAA,UAAA,GAAa,OAAQ,CAAA,IAAA,EAAM,SAAS,CAAA;AAC1C,EAAA,IAAI,CAAC,UAAY,EAAA;AACf,IAAO,OAAA,YAAA;AAAA;AAGT,EAAA,MAAM,IAAO,GAAA,GAAA,CAAI,aAAc,CAAA,CAAA,KAAA,EAAQ,UAAU,CAAE,CAAA,CAAA;AACnD,EAAA,OAAO,IAAQ,IAAA,YAAA;AACjB;AAEO,SAAS,eAAe,KAQ5B,EAAA;AACD,EAAA,MAAM,EAAE,IAAA,EAAM,SAAW,EAAA,GAAG,YAAe,GAAA,KAAA;AAC3C,EAAM,MAAA,IAAA,GAAO,OAAQ,CAAA,IAAA,EAAM,SAAS,CAAA;AACpC,EAAO,uBAAA,KAAA,CAAA,aAAA,CAAC,IAAM,EAAA,EAAA,GAAG,UAAY,EAAA,CAAA;AAC/B;;;;"}