{"version":3,"file":"EntityLabelsCard.esm.js","sources":["../../../src/components/EntityLabelsCard/EntityLabelsCard.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport React from 'react';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Table,\n  TableColumn,\n} from '@backstage/core-components';\nimport { EntityLabelsEmptyState } from './EntityLabelsEmptyState';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { catalogTranslationRef } from '../../alpha/translation';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\n/** @public */\nexport interface EntityLabelsCardProps {\n  variant?: InfoCardVariants;\n  title?: string;\n}\n\nconst useStyles = makeStyles(_ => ({\n  key: {\n    fontWeight: 'bold',\n  },\n}));\n\nexport const EntityLabelsCard = (props: EntityLabelsCardProps) => {\n  const { variant, title } = props;\n  const { entity } = useEntity();\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogTranslationRef);\n\n  const columns: TableColumn<{ key: string; value: string }>[] = [\n    {\n      render: row => {\n        return (\n          <Typography className={classes.key} variant=\"body2\">\n            {row.key}\n          </Typography>\n        );\n      },\n    },\n    {\n      field: 'value',\n    },\n  ];\n\n  const labels = entity?.metadata?.labels;\n\n  return (\n    <InfoCard title={title || t('entityLabelsCard.title')} variant={variant}>\n      {!labels || Object.keys(labels).length === 0 ? (\n        <EntityLabelsEmptyState />\n      ) : (\n        <Table\n          columns={columns}\n          data={Object.keys(labels).map(labelKey => ({\n            key: labelKey,\n            value: labels[labelKey],\n          }))}\n          options={{\n            search: false,\n            showTitle: true,\n            loadingType: 'linear',\n            header: false,\n            padding: 'dense',\n            pageSize: 5,\n            toolbar: false,\n            paging: Object.keys(labels).length > 5,\n          }}\n        />\n      )}\n    </InfoCard>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;AAoCA,MAAM,SAAA,GAAY,WAAW,CAAM,CAAA,MAAA;AAAA,EACjC,GAAK,EAAA;AAAA,IACH,UAAY,EAAA;AAAA;AAEhB,CAAE,CAAA,CAAA;AAEW,MAAA,gBAAA,GAAmB,CAAC,KAAiC,KAAA;AAChE,EAAM,MAAA,EAAE,OAAS,EAAA,KAAA,EAAU,GAAA,KAAA;AAC3B,EAAM,MAAA,EAAE,MAAO,EAAA,GAAI,SAAU,EAAA;AAC7B,EAAA,MAAM,UAAU,SAAU,EAAA;AAC1B,EAAA,MAAM,EAAE,CAAA,EAAM,GAAA,iBAAA,CAAkB,qBAAqB,CAAA;AAErD,EAAA,MAAM,OAAyD,GAAA;AAAA,IAC7D;AAAA,MACE,QAAQ,CAAO,GAAA,KAAA;AACb,QACE,uBAAA,KAAA,CAAA,aAAA,CAAC,cAAW,SAAW,EAAA,OAAA,CAAQ,KAAK,OAAQ,EAAA,OAAA,EAAA,EACzC,IAAI,GACP,CAAA;AAAA;AAEJ,KACF;AAAA,IACA;AAAA,MACE,KAAO,EAAA;AAAA;AACT,GACF;AAEA,EAAM,MAAA,MAAA,GAAS,QAAQ,QAAU,EAAA,MAAA;AAEjC,EAAA,2CACG,QAAS,EAAA,EAAA,KAAA,EAAO,SAAS,CAAE,CAAA,wBAAwB,GAAG,OACpD,EAAA,EAAA,CAAC,MAAU,IAAA,MAAA,CAAO,KAAK,MAAM,CAAA,CAAE,WAAW,CACzC,mBAAA,KAAA,CAAA,aAAA,CAAC,4BAAuB,CAExB,mBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,OAAA;AAAA,MACA,MAAM,MAAO,CAAA,IAAA,CAAK,MAAM,CAAA,CAAE,IAAI,CAAa,QAAA,MAAA;AAAA,QACzC,GAAK,EAAA,QAAA;AAAA,QACL,KAAA,EAAO,OAAO,QAAQ;AAAA,OACtB,CAAA,CAAA;AAAA,MACF,OAAS,EAAA;AAAA,QACP,MAAQ,EAAA,KAAA;AAAA,QACR,SAAW,EAAA,IAAA;AAAA,QACX,WAAa,EAAA,QAAA;AAAA,QACb,MAAQ,EAAA,KAAA;AAAA,QACR,OAAS,EAAA,OAAA;AAAA,QACT,QAAU,EAAA,CAAA;AAAA,QACV,OAAS,EAAA,KAAA;AAAA,QACT,MAAQ,EAAA,MAAA,CAAO,IAAK,CAAA,MAAM,EAAE,MAAS,GAAA;AAAA;AACvC;AAAA,GAGN,CAAA;AAEJ;;;;"}