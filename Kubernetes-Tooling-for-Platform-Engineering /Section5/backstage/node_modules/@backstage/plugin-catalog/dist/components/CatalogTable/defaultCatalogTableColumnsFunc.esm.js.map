{"version":3,"file":"defaultCatalogTableColumnsFunc.esm.js","sources":["../../../src/components/CatalogTable/defaultCatalogTableColumnsFunc.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { TableColumn } from '@backstage/core-components';\nimport { columnFactories } from './columns';\nimport { CatalogTableColumnsFunc, CatalogTableRow } from './types';\n\n// The defaultCatalogTableColumnsFunc symbol is not directly exported, but through the\n// CatalogTable.defaultColumnsFunc field.\n/** @public */\nexport const defaultCatalogTableColumnsFunc: CatalogTableColumnsFunc = ({\n  filters,\n  entities,\n}) => {\n  const showTypeColumn = filters.type === undefined;\n\n  return [\n    columnFactories.createTitleColumn({ hidden: true }),\n    columnFactories.createNameColumn({ defaultKind: filters.kind?.value }),\n    ...createEntitySpecificColumns(),\n  ];\n\n  function createEntitySpecificColumns(): TableColumn<CatalogTableRow>[] {\n    const descriptionTagColumns = [\n      columnFactories.createMetadataDescriptionColumn(),\n      columnFactories.createTagsColumn(),\n    ];\n    const baseColumns = [\n      columnFactories.createSystemColumn(),\n      columnFactories.createOwnerColumn(),\n      columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn }),\n      columnFactories.createSpecLifecycleColumn(),\n    ];\n    switch (filters.kind?.value) {\n      case 'user':\n        return [...descriptionTagColumns];\n      case 'domain':\n      case 'system':\n        return [columnFactories.createOwnerColumn(), ...descriptionTagColumns];\n      case 'group':\n      case 'template':\n        return [\n          columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn }),\n          ...descriptionTagColumns,\n        ];\n      case 'location':\n        return [\n          columnFactories.createSpecTypeColumn({ hidden: !showTypeColumn }),\n          columnFactories.createSpecTargetsColumn(),\n        ];\n      default:\n        return entities.every(entity => entity.metadata.namespace === 'default')\n          ? [...baseColumns, ...descriptionTagColumns]\n          : [\n              ...baseColumns,\n              columnFactories.createNamespaceColumn(),\n              ...descriptionTagColumns,\n            ];\n    }\n  }\n};\n"],"names":[],"mappings":";;AAuBO,MAAM,iCAA0D,CAAC;AAAA,EACtE,OAAA;AAAA,EACA;AACF,CAAM,KAAA;AACJ,EAAM,MAAA,cAAA,GAAiB,QAAQ,IAAS,KAAA,KAAA,CAAA;AAExC,EAAO,OAAA;AAAA,IACL,eAAgB,CAAA,iBAAA,CAAkB,EAAE,MAAA,EAAQ,MAAM,CAAA;AAAA,IAClD,gBAAgB,gBAAiB,CAAA,EAAE,aAAa,OAAQ,CAAA,IAAA,EAAM,OAAO,CAAA;AAAA,IACrE,GAAG,2BAA4B;AAAA,GACjC;AAEA,EAAA,SAAS,2BAA8D,GAAA;AACrE,IAAA,MAAM,qBAAwB,GAAA;AAAA,MAC5B,gBAAgB,+BAAgC,EAAA;AAAA,MAChD,gBAAgB,gBAAiB;AAAA,KACnC;AACA,IAAA,MAAM,WAAc,GAAA;AAAA,MAClB,gBAAgB,kBAAmB,EAAA;AAAA,MACnC,gBAAgB,iBAAkB,EAAA;AAAA,MAClC,gBAAgB,oBAAqB,CAAA,EAAE,MAAQ,EAAA,CAAC,gBAAgB,CAAA;AAAA,MAChE,gBAAgB,yBAA0B;AAAA,KAC5C;AACA,IAAQ,QAAA,OAAA,CAAQ,MAAM,KAAO;AAAA,MAC3B,KAAK,MAAA;AACH,QAAO,OAAA,CAAC,GAAG,qBAAqB,CAAA;AAAA,MAClC,KAAK,QAAA;AAAA,MACL,KAAK,QAAA;AACH,QAAA,OAAO,CAAC,eAAA,CAAgB,iBAAkB,EAAA,EAAG,GAAG,qBAAqB,CAAA;AAAA,MACvE,KAAK,OAAA;AAAA,MACL,KAAK,UAAA;AACH,QAAO,OAAA;AAAA,UACL,gBAAgB,oBAAqB,CAAA,EAAE,MAAQ,EAAA,CAAC,gBAAgB,CAAA;AAAA,UAChE,GAAG;AAAA,SACL;AAAA,MACF,KAAK,UAAA;AACH,QAAO,OAAA;AAAA,UACL,gBAAgB,oBAAqB,CAAA,EAAE,MAAQ,EAAA,CAAC,gBAAgB,CAAA;AAAA,UAChE,gBAAgB,uBAAwB;AAAA,SAC1C;AAAA,MACF;AACE,QAAA,OAAO,QAAS,CAAA,KAAA,CAAM,CAAU,MAAA,KAAA,MAAA,CAAO,QAAS,CAAA,SAAA,KAAc,SAAS,CAAA,GACnE,CAAC,GAAG,WAAa,EAAA,GAAG,qBAAqB,CACzC,GAAA;AAAA,UACE,GAAG,WAAA;AAAA,UACH,gBAAgB,qBAAsB,EAAA;AAAA,UACtC,GAAG;AAAA,SACL;AAAA;AACR;AAEJ;;;;"}