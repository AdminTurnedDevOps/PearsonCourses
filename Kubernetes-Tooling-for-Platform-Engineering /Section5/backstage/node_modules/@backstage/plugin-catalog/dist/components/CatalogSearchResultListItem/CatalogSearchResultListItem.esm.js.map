{"version":3,"file":"CatalogSearchResultListItem.esm.js","sources":["../../../src/components/CatalogSearchResultListItem/CatalogSearchResultListItem.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactNode } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from '@backstage/core-components';\nimport {\n  IndexableDocument,\n  ResultHighlight,\n} from '@backstage/plugin-search-common';\nimport { HighlightedSearchResultText } from '@backstage/plugin-search-react';\nimport { catalogTranslationRef } from '../../alpha/translation';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\n\n/** @public */\nexport type CatalogSearchResultListItemClassKey =\n  | 'item'\n  | 'flexContainer'\n  | 'itemText';\n\nconst useStyles = makeStyles(\n  {\n    item: {\n      display: 'flex',\n    },\n    flexContainer: {\n      flexWrap: 'wrap',\n    },\n    itemText: {\n      width: '100%',\n      wordBreak: 'break-all',\n      marginBottom: '1rem',\n    },\n  },\n  { name: 'CatalogSearchResultListItem' },\n);\n\n/**\n * Props for {@link CatalogSearchResultListItem}.\n *\n * @public\n */\nexport interface CatalogSearchResultListItemProps {\n  icon?: ReactNode | ((result: IndexableDocument) => ReactNode);\n  result?: IndexableDocument;\n  highlight?: ResultHighlight;\n  rank?: number;\n  lineClamp?: number;\n}\n\n/** @public */\nexport function CatalogSearchResultListItem(\n  props: CatalogSearchResultListItemProps,\n) {\n  const result = props.result as any;\n  const highlight = props.highlight as ResultHighlight;\n\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogTranslationRef);\n\n  if (!result) return null;\n\n  return (\n    <div className={classes.item}>\n      {props.icon && (\n        <ListItemIcon>\n          {typeof props.icon === 'function' ? props.icon(result) : props.icon}\n        </ListItemIcon>\n      )}\n      <div className={classes.flexContainer}>\n        <ListItemText\n          className={classes.itemText}\n          primaryTypographyProps={{ variant: 'h6' }}\n          primary={\n            <Link noTrack to={result.location}>\n              {highlight?.fields.title ? (\n                <HighlightedSearchResultText\n                  text={highlight.fields.title}\n                  preTag={highlight.preTag}\n                  postTag={highlight.postTag}\n                />\n              ) : (\n                result.title\n              )}\n            </Link>\n          }\n          secondary={\n            <Typography\n              component=\"span\"\n              style={{\n                display: '-webkit-box',\n                WebkitBoxOrient: 'vertical',\n                WebkitLineClamp: props.lineClamp,\n                overflow: 'hidden',\n              }}\n              color=\"textSecondary\"\n              variant=\"body2\"\n            >\n              {highlight?.fields.text ? (\n                <HighlightedSearchResultText\n                  text={highlight.fields.text}\n                  preTag={highlight.preTag}\n                  postTag={highlight.postTag}\n                />\n              ) : (\n                result.text\n              )}\n            </Typography>\n          }\n        />\n        <Box>\n          {result.kind && <Chip label={`Kind: ${result.kind}`} size=\"small\" />}\n          {result.type && <Chip label={`Type: ${result.type}`} size=\"small\" />}\n          {result.lifecycle && (\n            <Chip\n              label={`${t('searchResultItem.lifecycle')}: ${result.lifecycle}`}\n              size=\"small\"\n            />\n          )}\n          {result.owner && (\n            <Chip\n              label={`${t('searchResultItem.Owner')}: ${result.owner}`}\n              size=\"small\"\n            />\n          )}\n        </Box>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}