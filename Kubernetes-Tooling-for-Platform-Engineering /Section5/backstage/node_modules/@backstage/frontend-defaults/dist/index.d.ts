import React, { ReactNode, JSX } from 'react';
import { ConfigApi } from '@backstage/frontend-plugin-api';
import { FrontendFeature, CreateAppRouteBinder } from '@backstage/frontend-app-api';

/**
 * A source of dynamically loaded frontend features.
 *
 * @public
 */
interface CreateAppFeatureLoader {
    /**
     * Returns name of this loader. suitable for showing to users.
     */
    getLoaderName(): string;
    /**
     * Loads a number of features dynamically.
     */
    load(options: {
        config: ConfigApi;
    }): Promise<{
        features: FrontendFeature[];
    }>;
}
/**
 * Options for {@link createApp}.
 *
 * @public
 */
interface CreateAppOptions {
    features?: (FrontendFeature | CreateAppFeatureLoader)[];
    configLoader?: () => Promise<{
        config: ConfigApi;
    }>;
    bindRoutes?(context: {
        bind: CreateAppRouteBinder;
    }): void;
    /**
     * The component to render while loading the app (waiting for config, features, etc)
     *
     * Is the text "Loading..." by default.
     * If set to "null" then no loading fallback component is rendered.   *
     */
    loadingComponent?: ReactNode;
}
/**
 * Creates a new Backstage frontend app instance. See https://backstage.io/docs/frontend-system/building-apps/index
 *
 * @public
 */
declare function createApp(options?: CreateAppOptions): {
    createRoot(): JSX.Element;
};

/**
 * Creates an app that is suitable for the public sign-in page, for use in the `index-public-experimental.tsx` file.
 *
 * @remarks
 *
 * This app has an override for the `app/layout` extension, which means that
 * most extension typically installed in an app will be ignored. However, you
 * can still for example install API and root element extensions.
 *
 * A typical setup of this app will only install a custom sign-in page.
 *
 * @example
 * ```ts
 * const app = createPublicSignInApp({
 *   features: [signInPageModule],
 * });
 * ```
 *
 * @public
 */
declare function createPublicSignInApp(options?: CreateAppOptions): {
    createRoot(): React.JSX.Element;
};

export { type CreateAppFeatureLoader, type CreateAppOptions, createApp, createPublicSignInApp };
