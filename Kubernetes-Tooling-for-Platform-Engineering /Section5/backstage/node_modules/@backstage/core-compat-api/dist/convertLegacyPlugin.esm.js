import { ApiBlueprint, createFrontendPlugin } from '@backstage/frontend-plugin-api';
import { convertLegacyRouteRefs } from './convertLegacyRouteRef.esm.js';

function convertLegacyPlugin(legacyPlugin, options) {
  const apiExtensions = Array.from(legacyPlugin.getApis()).map(
    (factory) => ApiBlueprint.make({ name: factory.api.id, params: { factory } })
  );
  return createFrontendPlugin({
    id: legacyPlugin.getId(),
    featureFlags: [...legacyPlugin.getFeatureFlags()],
    routes: convertLegacyRouteRefs(legacyPlugin.routes ?? {}),
    externalRoutes: convertLegacyRouteRefs(legacyPlugin.externalRoutes ?? {}),
    extensions: [...apiExtensions, ...options.extensions]
  });
}

export { convertLegacyPlugin };
//# sourceMappingURL=convertLegacyPlugin.esm.js.map
