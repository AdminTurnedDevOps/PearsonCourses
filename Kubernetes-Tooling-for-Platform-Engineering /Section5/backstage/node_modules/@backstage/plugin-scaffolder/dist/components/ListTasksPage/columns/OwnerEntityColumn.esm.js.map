{"version":3,"file":"OwnerEntityColumn.esm.js","sources":["../../../../src/components/ListTasksPage/columns/OwnerEntityColumn.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useApi } from '@backstage/core-plugin-api';\nimport React from 'react';\n\nimport useAsync from 'react-use/esm/useAsync';\n\nimport { catalogApiRef, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport { parseEntityRef, UserEntity } from '@backstage/catalog-model';\nimport Typography from '@material-ui/core/Typography';\n\nexport const OwnerEntityColumn = ({ entityRef }: { entityRef?: string }) => {\n  const catalogApi = useApi(catalogApiRef);\n\n  const { value, loading, error } = useAsync(\n    () => catalogApi.getEntityByRef(entityRef || ''),\n    [catalogApi, entityRef],\n  );\n\n  if (!entityRef) {\n    return <Typography paragraph>Unknown</Typography>;\n  }\n\n  if (loading || error) {\n    return null;\n  }\n\n  return (\n    <EntityRefLink\n      entityRef={parseEntityRef(entityRef)}\n      title={\n        (value as UserEntity)?.spec?.profile?.displayName ??\n        value?.metadata.name\n      }\n    />\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAwBO,MAAM,iBAAoB,GAAA,CAAC,EAAE,SAAA,EAAwC,KAAA;AAC1E,EAAM,MAAA,UAAA,GAAa,OAAO,aAAa,CAAA;AAEvC,EAAA,MAAM,EAAE,KAAA,EAAO,OAAS,EAAA,KAAA,EAAU,GAAA,QAAA;AAAA,IAChC,MAAM,UAAA,CAAW,cAAe,CAAA,SAAA,IAAa,EAAE,CAAA;AAAA,IAC/C,CAAC,YAAY,SAAS;AAAA,GACxB;AAEA,EAAA,IAAI,CAAC,SAAW,EAAA;AACd,IAAA,uBAAQ,KAAA,CAAA,aAAA,CAAA,UAAA,EAAA,EAAW,SAAS,EAAA,IAAA,EAAA,EAAC,SAAO,CAAA;AAAA;AAGtC,EAAA,IAAI,WAAW,KAAO,EAAA;AACpB,IAAO,OAAA,IAAA;AAAA;AAGT,EACE,uBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,eAAe,SAAS,CAAA;AAAA,MACnC,OACG,KAAsB,EAAA,IAAA,EAAM,OAAS,EAAA,WAAA,IACtC,OAAO,QAAS,CAAA;AAAA;AAAA,GAEpB;AAEJ;;;;"}