'use strict';

const intervalFromNowTill = (timeoutS, knex) => {
  let heartbeatInterval = knex.raw(`? - interval '${timeoutS} seconds'`, [
    knex.fn.now()
  ]);
  if (knex.client.config.client.includes("mysql")) {
    heartbeatInterval = knex.raw(
      `date_sub(now(), interval ${timeoutS} second)`
    );
  } else if (knex.client.config.client.includes("sqlite3")) {
    heartbeatInterval = knex.raw(`datetime('now', ?)`, [
      `-${timeoutS} seconds`
    ]);
  }
  return heartbeatInterval;
};

exports.intervalFromNowTill = intervalFromNowTill;
//# sourceMappingURL=dbUtil.cjs.js.map
