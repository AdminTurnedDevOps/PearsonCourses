'use strict';

const trimEventsTillLastRecovery = (events) => {
  const recoveredEventInd = events.slice().reverse().findIndex((event) => event.type === "recovered");
  if (recoveredEventInd >= 0) {
    const ind = events.length - recoveredEventInd - 1;
    const { recoverStrategy } = events[ind].body;
    if (recoverStrategy === "startOver") {
      return {
        events: recoveredEventInd === 0 ? [] : events.slice(ind)
      };
    }
  }
  return { events };
};

exports.trimEventsTillLastRecovery = trimEventsTillLastRecovery;
//# sourceMappingURL=taskRecoveryHelper.cjs.js.map
