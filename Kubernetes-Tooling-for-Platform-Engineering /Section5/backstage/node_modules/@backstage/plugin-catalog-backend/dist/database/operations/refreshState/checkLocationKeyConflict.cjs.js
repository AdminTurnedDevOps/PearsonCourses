'use strict';

async function checkLocationKeyConflict(options) {
  const { tx, entityRef, locationKey } = options;
  const row = await tx("refresh_state").select("location_key").where("entity_ref", entityRef).first();
  const conflictingKey = row?.location_key;
  if (!conflictingKey) {
    return void 0;
  }
  if (conflictingKey !== locationKey) {
    return conflictingKey;
  }
  return void 0;
}

exports.checkLocationKeyConflict = checkLocationKeyConflict;
//# sourceMappingURL=checkLocationKeyConflict.cjs.js.map
