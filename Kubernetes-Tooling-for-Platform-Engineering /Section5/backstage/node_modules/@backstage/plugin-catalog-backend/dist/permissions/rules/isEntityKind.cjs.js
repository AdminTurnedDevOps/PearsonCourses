'use strict';

var alpha = require('@backstage/plugin-catalog-common/alpha');
var zod = require('zod');
var util = require('./util.cjs.js');

const isEntityKind = util.createCatalogPermissionRule({
  name: "IS_ENTITY_KIND",
  description: "Allow entities matching a specified kind",
  resourceType: alpha.RESOURCE_TYPE_CATALOG_ENTITY,
  paramsSchema: zod.z.object({
    kinds: zod.z.array(zod.z.string()).describe("List of kinds to match at least one of")
  }),
  apply(resource, { kinds }) {
    const resourceKind = resource.kind.toLocaleLowerCase("en-US");
    return kinds.some((kind) => kind.toLocaleLowerCase("en-US") === resourceKind);
  },
  toQuery({ kinds }) {
    return {
      key: "kind",
      values: kinds.map((kind) => kind.toLocaleLowerCase("en-US"))
    };
  }
});

exports.isEntityKind = isEntityKind;
//# sourceMappingURL=isEntityKind.cjs.js.map
