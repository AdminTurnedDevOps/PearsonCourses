'use strict';

var productionPack = require('../lib/packager/productionPack.cjs.js');
var paths = require('../lib/paths.cjs.js');
var fs = require('fs-extra');
var publishing = require('../lib/publishing.cjs.js');
var typeDistProject = require('../lib/typeDistProject.cjs.js');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var fs__default = /*#__PURE__*/_interopDefaultCompat(fs);

const pre = async () => {
  publishing.publishPreflightCheck({
    dir: paths.paths.targetDir,
    packageJson: await fs__default.default.readJson(paths.paths.resolveTarget("package.json"))
  });
  await productionPack.productionPack({
    packageDir: paths.paths.targetDir,
    featureDetectionProject: await typeDistProject.createTypeDistProject()
  });
};
const post = async () => {
  await productionPack.revertProductionPack(paths.paths.targetDir);
};

exports.post = post;
exports.pre = pre;
//# sourceMappingURL=pack.cjs.js.map
