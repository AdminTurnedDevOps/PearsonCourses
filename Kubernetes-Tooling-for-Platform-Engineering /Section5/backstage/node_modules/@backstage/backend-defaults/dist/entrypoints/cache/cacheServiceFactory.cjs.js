'use strict';

var backendPluginApi = require('@backstage/backend-plugin-api');
var CacheManager = require('./CacheManager.cjs.js');

const cacheServiceFactory = backendPluginApi.createServiceFactory({
  service: backendPluginApi.coreServices.cache,
  deps: {
    config: backendPluginApi.coreServices.rootConfig,
    plugin: backendPluginApi.coreServices.pluginMetadata,
    logger: backendPluginApi.coreServices.rootLogger
  },
  async createRootContext({ config, logger }) {
    return CacheManager.CacheManager.fromConfig(config, { logger });
  },
  async factory({ plugin }, manager) {
    return manager.forPlugin(plugin.getId());
  }
});

exports.cacheServiceFactory = cacheServiceFactory;
//# sourceMappingURL=cacheServiceFactory.cjs.js.map
