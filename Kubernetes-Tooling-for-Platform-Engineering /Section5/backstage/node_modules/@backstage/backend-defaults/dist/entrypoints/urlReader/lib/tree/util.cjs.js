'use strict';

var stream = require('stream');
var util = require('util');
var concatStream = require('concat-stream');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var concatStream__default = /*#__PURE__*/_interopDefaultCompat(concatStream);

const pipeline = util.promisify(stream.pipeline);
const directoryNameRegex = /^[^\/]+\//;
function stripFirstDirectoryFromPath(path) {
  return path.replace(directoryNameRegex, "");
}
const streamToBuffer = (stream) => {
  return new Promise(async (resolve, reject) => {
    try {
      await pipeline(stream, concatStream__default.default(resolve));
    } catch (ex) {
      reject(ex);
    }
  });
};

exports.streamToBuffer = streamToBuffer;
exports.stripFirstDirectoryFromPath = stripFirstDirectoryFromPath;
//# sourceMappingURL=util.cjs.js.map
