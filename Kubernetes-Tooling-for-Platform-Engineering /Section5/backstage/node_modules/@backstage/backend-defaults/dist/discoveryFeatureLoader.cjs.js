'use strict';

var backendPluginApi = require('@backstage/backend-plugin-api');
var PackageDiscoveryService = require('./PackageDiscoveryService.cjs.js');

const discoveryFeatureLoader = backendPluginApi.createBackendFeatureLoader({
  deps: {
    config: backendPluginApi.coreServices.rootConfig,
    logger: backendPluginApi.coreServices.rootLogger
  },
  async loader({ config, logger }) {
    const service = new PackageDiscoveryService.PackageDiscoveryService(config, logger);
    const { features } = await service.getBackendFeatures();
    return features;
  }
});

exports.discoveryFeatureLoader = discoveryFeatureLoader;
//# sourceMappingURL=discoveryFeatureLoader.cjs.js.map
