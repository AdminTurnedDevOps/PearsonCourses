{"version":3,"file":"addSidebarToggle.esm.js","sources":["../../../src/reader/transformers/addSidebarToggle.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Transformer } from './transformer';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport React from 'react';\nimport { renderReactElement } from './renderReactElement';\n\nexport const addSidebarToggle = (): Transformer => {\n  return dom => {\n    // attempting to use selectors that are more likely to be static as MkDocs updates over time\n    const mkdocsToggleSidebar = dom.querySelector(\n      '.md-header label[for=\"__drawer\"]',\n    ) as HTMLLabelElement;\n    const article = dom.querySelector('article') as HTMLElement;\n\n    // Fail gracefully\n    if (!mkdocsToggleSidebar || !article) {\n      return dom;\n    }\n\n    const toggleSidebar = mkdocsToggleSidebar.cloneNode() as HTMLLabelElement;\n    renderReactElement(React.createElement(MenuIcon), toggleSidebar);\n    toggleSidebar.id = 'toggle-sidebar';\n    toggleSidebar.title = 'Toggle Sidebar';\n    toggleSidebar.classList.add('md-content__button');\n    toggleSidebar.style.setProperty('padding', '0 0 0 5px');\n    toggleSidebar.style.setProperty('margin', '0.4rem 0 0.4rem 0.4rem');\n    article?.prepend(toggleSidebar);\n    return dom;\n  };\n};\n"],"names":[],"mappings":";;;;AAqBO,MAAM,mBAAmB,MAAmB;AACjD,EAAA,OAAO,CAAO,GAAA,KAAA;AAEZ,IAAA,MAAM,sBAAsB,GAAI,CAAA,aAAA;AAAA,MAC9B;AAAA,KACF;AACA,IAAM,MAAA,OAAA,GAAU,GAAI,CAAA,aAAA,CAAc,SAAS,CAAA;AAG3C,IAAI,IAAA,CAAC,mBAAuB,IAAA,CAAC,OAAS,EAAA;AACpC,MAAO,OAAA,GAAA;AAAA;AAGT,IAAM,MAAA,aAAA,GAAgB,oBAAoB,SAAU,EAAA;AACpD,IAAA,kBAAA,CAAmB,KAAM,CAAA,aAAA,CAAc,QAAQ,CAAA,EAAG,aAAa,CAAA;AAC/D,IAAA,aAAA,CAAc,EAAK,GAAA,gBAAA;AACnB,IAAA,aAAA,CAAc,KAAQ,GAAA,gBAAA;AACtB,IAAc,aAAA,CAAA,SAAA,CAAU,IAAI,oBAAoB,CAAA;AAChD,IAAc,aAAA,CAAA,KAAA,CAAM,WAAY,CAAA,SAAA,EAAW,WAAW,CAAA;AACtD,IAAc,aAAA,CAAA,KAAA,CAAM,WAAY,CAAA,QAAA,EAAU,wBAAwB,CAAA;AAClE,IAAA,OAAA,EAAS,QAAQ,aAAa,CAAA;AAC9B,IAAO,OAAA,GAAA;AAAA,GACT;AACF;;;;"}