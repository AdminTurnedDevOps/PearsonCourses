import * as _backstage_backend_plugin_api from '@backstage/backend-plugin-api';
import { BackendFeature } from '@backstage/backend-plugin-api';

/** @alpha */
type BackendFeatureMeta = {
    type: 'plugin';
    pluginId: string;
} | {
    type: 'module';
    pluginId: string;
    moduleId: string;
};
/** @alpha */
interface InstanceMetadataService {
    getInstalledFeatures: () => BackendFeatureMeta[];
}

/** @alpha */
interface FeatureDiscoveryService {
    getBackendFeatures(): Promise<{
        features: Array<BackendFeature>;
    }>;
}
/**
 * An optional service that can be used to dynamically load in additional BackendFeatures at runtime.
 * @alpha
 * @deprecated The `featureDiscoveryServiceRef` is deprecated in favor of using {@link @backstage/backend-defaults#discoveryFeatureLoader} instead.
 */
declare const featureDiscoveryServiceRef: _backstage_backend_plugin_api.ServiceRef<FeatureDiscoveryService, "root", "singleton">;
/**
 * EXPERIMENTAL: Instance metadata service.
 *
 * @alpha
 */
declare const instanceMetadataServiceRef: _backstage_backend_plugin_api.ServiceRef<InstanceMetadataService, "plugin", "singleton">;

export { type BackendFeatureMeta, type FeatureDiscoveryService, type InstanceMetadataService, featureDiscoveryServiceRef, instanceMetadataServiceRef };
