{"version":3,"file":"index.js","sources":["../src/utility/context.ts","../src/storage.tsx","../src/icons/argument.svg?react","../src/icons/chevron-down.svg?react","../src/icons/chevron-left.svg?react","../src/icons/chevron-up.svg?react","../src/icons/close.svg?react","../src/icons/copy.svg?react","../src/icons/deprecated-argument.svg?react","../src/icons/deprecated-enum-value.svg?react","../src/icons/deprecated-field.svg?react","../src/icons/directive.svg?react","../src/icons/docs-filled.svg?react","../src/icons/docs.svg?react","../src/icons/enum-value.svg?react","../src/icons/field.svg?react","../src/icons/history.svg?react","../src/icons/implements.svg?react","../src/icons/keyboard-shortcut.svg?react","../src/icons/magnifying-glass.svg?react","../src/icons/merge.svg?react","../src/icons/pen.svg?react","../src/icons/play.svg?react","../src/icons/plus.svg?react","../src/icons/prettify.svg?react","../src/icons/reload.svg?react","../src/icons/root-type.svg?react","../src/icons/settings.svg?react","../src/icons/star-filled.svg?react","../src/icons/star.svg?react","../src/icons/stop.svg?react","../src/icons/trash.svg?react","../src/icons/type.svg?react","../src/icons/index.tsx","../src/ui/button.tsx","../src/ui/button-group.tsx","../src/utility/component-group.ts","../src/ui/dialog.tsx","../src/ui/dropdown.tsx","../src/markdown.ts","../src/ui/markdown.tsx","../src/ui/spinner.tsx","../src/ui/tooltip.tsx","../src/ui/tabs.tsx","../src/history/context.tsx","../src/history/components.tsx","../src/execution.tsx","../src/editor/common.ts","../src/explorer/components/default-value.tsx","../src/schema.tsx","../src/explorer/context.tsx","../src/explorer/components/utils.tsx","../src/explorer/components/type-link.tsx","../src/explorer/components/argument.tsx","../src/explorer/components/deprecation-reason.tsx","../src/explorer/components/directive.tsx","../src/explorer/components/section.tsx","../src/explorer/components/field-documentation.tsx","../src/explorer/components/schema-documentation.tsx","../src/utility/debounce.ts","../src/explorer/components/search.tsx","../src/explorer/components/field-link.tsx","../src/explorer/components/type-documentation.tsx","../src/explorer/components/doc-explorer.tsx","../src/plugin.tsx","../src/editor/completion.ts","../src/editor/hooks.ts","../src/editor/header-editor.ts","../src/editor/whitespace.ts","../src/editor/query-editor.ts","../src/editor/tabs.ts","../src/editor/variable-editor.ts","../src/editor/context.tsx","../src/editor/components/header-editor.tsx","../src/editor/components/image-preview.tsx","../src/editor/components/query-editor.tsx","../src/editor/response-editor.tsx","../src/editor/components/response-editor.tsx","../src/editor/components/variable-editor.tsx","../src/provider.tsx","../src/theme.ts","../src/utility/resize.ts","../src/toolbar/button.tsx","../src/toolbar/execute.tsx","../src/toolbar/menu.tsx"],"sourcesContent":["import { Context, createContext, useContext } from 'react';\n\nexport function createNullableContext<T>(name: string): Context<T | null> {\n  const context = createContext<T | null>(null);\n  context.displayName = name;\n  return context;\n}\n\nexport function createContextHook<T>(context: Context<T | null>) {\n  function useGivenContext(options: { nonNull: true; caller?: Function }): T;\n  function useGivenContext(options: {\n    nonNull?: boolean;\n    caller?: Function;\n  }): T | null;\n  function useGivenContext(): T | null;\n  function useGivenContext(options?: {\n    nonNull?: boolean;\n    caller?: Function;\n  }): T | null {\n    const value = useContext(context);\n    if (value === null && options?.nonNull) {\n      throw new Error(\n        `Tried to use \\`${\n          options.caller?.name || useGivenContext.caller.name\n        }\\` without the necessary context. Make sure to render the \\`${\n          context.displayName\n        }Provider\\` component higher up the tree.`,\n      );\n    }\n    return value;\n  }\n  Object.defineProperty(useGivenContext, 'name', {\n    value: `use${context.displayName}`,\n  });\n  return useGivenContext;\n}\n","import { Storage, StorageAPI } from '@graphiql/toolkit';\nimport { ReactNode, useEffect, useRef, useState } from 'react';\n\nimport { createContextHook, createNullableContext } from './utility/context';\n\nexport type StorageContextType = StorageAPI;\n\nexport const StorageContext =\n  createNullableContext<StorageContextType>('StorageContext');\n\nexport type StorageContextProviderProps = {\n  children: ReactNode;\n  /**\n   * Provide a custom storage API.\n   * @default `localStorage``\n   * @see {@link https://graphiql-test.netlify.app/typedoc/modules/graphiql_toolkit.html#storage-2|API docs}\n   * for details on the required interface.\n   */\n  storage?: Storage;\n};\n\nexport function StorageContextProvider(props: StorageContextProviderProps) {\n  const isInitialRender = useRef(true);\n  const [storage, setStorage] = useState(new StorageAPI(props.storage));\n\n  useEffect(() => {\n    if (isInitialRender.current) {\n      isInitialRender.current = false;\n    } else {\n      setStorage(new StorageAPI(props.storage));\n    }\n  }, [props.storage]);\n\n  return (\n    <StorageContext.Provider value={storage}>\n      {props.children}\n    </StorageContext.Provider>\n  );\n}\n\nexport const useStorageContext = createContextHook(StorageContext);\n","import * as React from \"react\";\nconst SvgArgument = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M5.0484 1.40838C6.12624 0.33054 7.87376 0.330541 8.9516 1.40838L12.5916 5.0484C13.6695 6.12624 13.6695 7.87376 12.5916 8.9516L8.9516 12.5916C7.87376 13.6695 6.12624 13.6695 5.0484 12.5916L1.40838 8.9516C0.33054 7.87376 0.330541 6.12624 1.40838 5.0484L5.0484 1.40838Z\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 6, y: 6, width: 2, height: 2, rx: 1, fill: \"currentColor\" }));\nexport default SvgArgument;\n","import * as React from \"react\";\nconst SvgChevronDown = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 9\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M1 1L7 7L13 1\", stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgChevronDown;\n","import * as React from \"react\";\nconst SvgChevronLeft = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 7 10\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M6 1.04819L2 5.04819L6 9.04819\", stroke: \"currentColor\", strokeWidth: 1.75 }));\nexport default SvgChevronLeft;\n","import * as React from \"react\";\nconst SvgChevronUp = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 9\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M13 8L7 2L1 8\", stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgChevronUp;\n","import * as React from \"react\";\nconst SvgClose = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", stroke: \"currentColor\", strokeWidth: 3, xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M1 1L12.9998 12.9997\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M13 1L1.00079 13.0003\" }));\nexport default SvgClose;\n","import * as React from \"react\";\nconst SvgCopy = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"-2 -2 22 22\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.25 14.2105V15.235C11.25 16.3479 10.3479 17.25 9.23501 17.25H2.76499C1.65214 17.25 0.75 16.3479 0.75 15.235L0.75 8.76499C0.75 7.65214 1.65214 6.75 2.76499 6.75L3.78947 6.75\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 6.75, y: 0.75, width: 10.5, height: 10.5, rx: 2.2069, stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgCopy;\n","import * as React from \"react\";\nconst SvgDeprecatedArgument = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M5.0484 1.40838C6.12624 0.33054 7.87376 0.330541 8.9516 1.40838L12.5916 5.0484C13.6695 6.12624 13.6695 7.87376 12.5916 8.9516L8.9516 12.5916C7.87376 13.6695 6.12624 13.6695 5.0484 12.5916L1.40838 8.9516C0.33054 7.87376 0.330541 6.12624 1.40838 5.0484L5.0484 1.40838Z\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5 9L9 5\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5 5L9 9\", stroke: \"currentColor\", strokeWidth: 1.2 }));\nexport default SvgDeprecatedArgument;\n","import * as React from \"react\";\nconst SvgDeprecatedEnumValue = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 8L8 4\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 4L8 8\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8.5 1.2H9C9.99411 1.2 10.8 2.00589 10.8 3V9C10.8 9.99411 9.99411 10.8 9 10.8H8.5V12H9C10.6569 12 12 10.6569 12 9V3C12 1.34315 10.6569 0 9 0H8.5V1.2ZM3.5 1.2V0H3C1.34315 0 0 1.34315 0 3V9C0 10.6569 1.34315 12 3 12H3.5V10.8H3C2.00589 10.8 1.2 9.99411 1.2 9V3C1.2 2.00589 2.00589 1.2 3 1.2H3.5Z\", fill: \"currentColor\" }));\nexport default SvgDeprecatedEnumValue;\n","import * as React from \"react\";\nconst SvgDeprecatedField = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 0.6, y: 0.6, width: 10.8, height: 10.8, rx: 3.4, stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 8L8 4\", stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 4L8 8\", stroke: \"currentColor\", strokeWidth: 1.2 }));\nexport default SvgDeprecatedField;\n","import * as React from \"react\";\nconst SvgDirective = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0.5 12 12\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 7, y: 5.5, width: 2, height: 2, rx: 1, transform: \"rotate(90 7 5.5)\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M10.8 9L10.8 9.5C10.8 10.4941 9.99411 11.3 9 11.3L3 11.3C2.00589 11.3 1.2 10.4941 1.2 9.5L1.2 9L-3.71547e-07 9L-3.93402e-07 9.5C-4.65826e-07 11.1569 1.34314 12.5 3 12.5L9 12.5C10.6569 12.5 12 11.1569 12 9.5L12 9L10.8 9ZM10.8 4L12 4L12 3.5C12 1.84315 10.6569 0.5 9 0.5L3 0.5C1.34315 0.5 -5.87117e-08 1.84315 -1.31135e-07 3.5L-1.5299e-07 4L1.2 4L1.2 3.5C1.2 2.50589 2.00589 1.7 3 1.7L9 1.7C9.99411 1.7 10.8 2.50589 10.8 3.5L10.8 4Z\", fill: \"currentColor\" }));\nexport default SvgDirective;\n","import * as React from \"react\";\nconst SvgDocsFilled = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 20 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M0.75 3C0.75 1.75736 1.75736 0.75 3 0.75H17.25C17.8023 0.75 18.25 1.19772 18.25 1.75V5.25\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M0.75 3C0.75 4.24264 1.75736 5.25 3 5.25H18.25C18.8023 5.25 19.25 5.69771 19.25 6.25V22.25C19.25 22.8023 18.8023 23.25 18.25 23.25H3C1.75736 23.25 0.75 22.2426 0.75 21V3Z\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M3 5.25C1.75736 5.25 0.75 4.24264 0.75 3V21C0.75 22.2426 1.75736 23.25 3 23.25H18.25C18.8023 23.25 19.25 22.8023 19.25 22.25V6.25C19.25 5.69771 18.8023 5.25 18.25 5.25H3ZM13 11L6 11V12.5L13 12.5V11Z\", fill: \"currentColor\" }));\nexport default SvgDocsFilled;\n","import * as React from \"react\";\nconst SvgDocs = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 20 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M0.75 3C0.75 4.24264 1.75736 5.25 3 5.25H17.25M0.75 3C0.75 1.75736 1.75736 0.75 3 0.75H16.25C16.8023 0.75 17.25 1.19772 17.25 1.75V5.25M0.75 3V21C0.75 22.2426 1.75736 23.25 3 23.25H18.25C18.8023 23.25 19.25 22.8023 19.25 22.25V6.25C19.25 5.69771 18.8023 5.25 18.25 5.25H17.25\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"line\", { x1: 13, y1: 11.75, x2: 6, y2: 11.75, stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgDocs;\n","import * as React from \"react\";\nconst SvgEnumValue = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 5, y: 5, width: 2, height: 2, rx: 1, fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M8.5 1.2H9C9.99411 1.2 10.8 2.00589 10.8 3V9C10.8 9.99411 9.99411 10.8 9 10.8H8.5V12H9C10.6569 12 12 10.6569 12 9V3C12 1.34315 10.6569 0 9 0H8.5V1.2ZM3.5 1.2V0H3C1.34315 0 0 1.34315 0 3V9C0 10.6569 1.34315 12 3 12H3.5V10.8H3C2.00589 10.8 1.2 9.99411 1.2 9V3C1.2 2.00589 2.00589 1.2 3 1.2H3.5Z\", fill: \"currentColor\" }));\nexport default SvgEnumValue;\n","import * as React from \"react\";\nconst SvgField = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 12 13\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 0.6, y: 1.1, width: 10.8, height: 10.8, rx: 2.4, stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 5, y: 5.5, width: 2, height: 2, rx: 1, fill: \"currentColor\" }));\nexport default SvgField;\n","import * as React from \"react\";\nconst SvgHistory = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 24 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M1.59375 9.52344L4.87259 12.9944L8.07872 9.41249\", stroke: \"currentColor\", strokeWidth: 1.5, strokeLinecap: \"square\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M13.75 5.25V10.75H18.75\", stroke: \"currentColor\", strokeWidth: 1.5, strokeLinecap: \"square\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4.95427 11.9332C4.55457 10.0629 4.74441 8.11477 5.49765 6.35686C6.25089 4.59894 7.5305 3.11772 9.16034 2.11709C10.7902 1.11647 12.6901 0.645626 14.5986 0.769388C16.5071 0.893151 18.3303 1.60543 19.8172 2.80818C21.3042 4.01093 22.3818 5.64501 22.9017 7.48548C23.4216 9.32595 23.3582 11.2823 22.7203 13.0853C22.0824 14.8883 20.9013 16.4492 19.3396 17.5532C17.778 18.6572 15.9125 19.25 14 19.25\", stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgHistory;\n","import * as React from \"react\";\nconst SvgImplements = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 12 12\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"circle\", { cx: 6, cy: 6, r: 5.4, stroke: \"currentColor\", strokeWidth: 1.2, strokeDasharray: \"4.241025 4.241025\", transform: \"rotate(22.5)\", \"transform-origin\": \"center\" }), /* @__PURE__ */ React.createElement(\"circle\", { cx: 6, cy: 6, r: 1, fill: \"currentColor\" }));\nexport default SvgImplements;\n","import * as React from \"react\";\nconst SvgKeyboardShortcut = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 19 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M1.5 14.5653C1.5 15.211 1.75652 15.8303 2.21314 16.2869C2.66975 16.7435 3.28905 17 3.9348 17C4.58054 17 5.19984 16.7435 5.65646 16.2869C6.11307 15.8303 6.36959 15.211 6.36959 14.5653V12.1305H3.9348C3.28905 12.1305 2.66975 12.387 2.21314 12.8437C1.75652 13.3003 1.5 13.9195 1.5 14.5653Z\", stroke: \"currentColor\", strokeWidth: 1.125, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M3.9348 1.00063C3.28905 1.00063 2.66975 1.25715 2.21314 1.71375C1.75652 2.17035 1.5 2.78964 1.5 3.43537C1.5 4.0811 1.75652 4.70038 2.21314 5.15698C2.66975 5.61358 3.28905 5.8701 3.9348 5.8701H6.36959V3.43537C6.36959 2.78964 6.11307 2.17035 5.65646 1.71375C5.19984 1.25715 4.58054 1.00063 3.9348 1.00063Z\", stroke: \"currentColor\", strokeWidth: 1.125, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M15.0652 12.1305H12.6304V14.5653C12.6304 15.0468 12.7732 15.5175 13.0407 15.9179C13.3083 16.3183 13.6885 16.6304 14.1334 16.8147C14.5783 16.9989 15.0679 17.0472 15.5402 16.9532C16.0125 16.8593 16.4464 16.6274 16.7869 16.2869C17.1274 15.9464 17.3593 15.5126 17.4532 15.0403C17.5472 14.568 17.4989 14.0784 17.3147 13.6335C17.1304 13.1886 16.8183 12.8084 16.4179 12.5409C16.0175 12.2733 15.5468 12.1305 15.0652 12.1305Z\", stroke: \"currentColor\", strokeWidth: 1.125, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M12.6318 5.86775H6.36955V12.1285H12.6318V5.86775Z\", stroke: \"currentColor\", strokeWidth: 1.125, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M17.5 3.43473C17.5 2.789 17.2435 2.16972 16.7869 1.71312C16.3303 1.25652 15.711 1 15.0652 1C14.4195 1 13.8002 1.25652 13.3435 1.71312C12.8869 2.16972 12.6304 2.789 12.6304 3.43473V5.86946H15.0652C15.711 5.86946 16.3303 5.61295 16.7869 5.15635C17.2435 4.69975 17.5 4.08046 17.5 3.43473Z\", stroke: \"currentColor\", strokeWidth: 1.125, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport default SvgKeyboardShortcut;\n","import * as React from \"react\";\nconst SvgMagnifyingGlass = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 13 13\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"circle\", { cx: 5, cy: 5, r: 4.35, stroke: \"currentColor\", strokeWidth: 1.3 }), /* @__PURE__ */ React.createElement(\"line\", { x1: 8.45962, y1: 8.54038, x2: 11.7525, y2: 11.8333, stroke: \"currentColor\", strokeWidth: 1.3 }));\nexport default SvgMagnifyingGlass;\n","import * as React from \"react\";\nconst SvgMerge = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"-2 -2 22 22\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M17.2492 6V2.9569C17.2492 1.73806 16.2611 0.75 15.0423 0.75L2.9569 0.75C1.73806 0.75 0.75 1.73806 0.75 2.9569L0.75 6\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M0.749873 12V15.0431C0.749873 16.2619 1.73794 17.25 2.95677 17.25H15.0421C16.261 17.25 17.249 16.2619 17.249 15.0431V12\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M6 4.5L9 7.5L12 4.5\", stroke: \"currentColor\", strokeWidth: 1.5 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M12 13.5L9 10.5L6 13.5\", stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgMerge;\n","import * as React from \"react\";\nconst SvgPen = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M0.75 13.25L0.0554307 12.967C-0.0593528 13.2488 0.00743073 13.5719 0.224488 13.7851C0.441545 13.9983 0.765869 14.0592 1.04549 13.9393L0.75 13.25ZM12.8214 1.83253L12.2911 2.36286L12.2911 2.36286L12.8214 1.83253ZM12.8214 3.90194L13.3517 4.43227L12.8214 3.90194ZM10.0981 1.17859L9.56773 0.648259L10.0981 1.17859ZM12.1675 1.17859L12.6978 0.648258L12.6978 0.648257L12.1675 1.17859ZM2.58049 8.75697L3.27506 9.03994L2.58049 8.75697ZM2.70066 8.57599L3.23099 9.10632L2.70066 8.57599ZM5.2479 11.4195L4.95355 10.7297L5.2479 11.4195ZM5.42036 11.303L4.89003 10.7727L5.42036 11.303ZM4.95355 10.7297C4.08882 11.0987 3.41842 11.362 2.73535 11.6308C2.05146 11.9 1.35588 12.1743 0.454511 12.5607L1.04549 13.9393C1.92476 13.5624 2.60256 13.2951 3.28469 13.0266C3.96762 12.7578 4.65585 12.4876 5.54225 12.1093L4.95355 10.7297ZM1.44457 13.533L3.27506 9.03994L1.88592 8.474L0.0554307 12.967L1.44457 13.533ZM3.23099 9.10632L10.6284 1.70892L9.56773 0.648259L2.17033 8.04566L3.23099 9.10632ZM11.6371 1.70892L12.2911 2.36286L13.3517 1.3022L12.6978 0.648258L11.6371 1.70892ZM12.2911 3.37161L4.89003 10.7727L5.95069 11.8333L13.3517 4.43227L12.2911 3.37161ZM12.2911 2.36286C12.5696 2.64142 12.5696 3.09305 12.2911 3.37161L13.3517 4.43227C14.2161 3.56792 14.2161 2.16654 13.3517 1.3022L12.2911 2.36286ZM10.6284 1.70892C10.9069 1.43036 11.3586 1.43036 11.6371 1.70892L12.6978 0.648257C11.8335 -0.216088 10.4321 -0.216084 9.56773 0.648259L10.6284 1.70892ZM3.27506 9.03994C3.26494 9.06479 3.24996 9.08735 3.23099 9.10632L2.17033 8.04566C2.04793 8.16806 1.95123 8.31369 1.88592 8.474L3.27506 9.03994ZM5.54225 12.1093C5.69431 12.0444 5.83339 11.9506 5.95069 11.8333L4.89003 10.7727C4.90863 10.7541 4.92988 10.7398 4.95355 10.7297L5.54225 12.1093Z\", fill: \"currentColor\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.5 4.5L9.5 2.5\", stroke: \"currentColor\", strokeWidth: 1.4026, strokeLinecap: \"round\", strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M5.5 10.5L3.5 8.5\", stroke: \"currentColor\", strokeWidth: 1.4026, strokeLinecap: \"round\", strokeLinejoin: \"round\" }));\nexport default SvgPen;\n","import * as React from \"react\";\nconst SvgPlay = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 16 18\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M1.32226e-07 1.6609C7.22332e-08 0.907329 0.801887 0.424528 1.46789 0.777117L15.3306 8.11621C16.0401 8.49182 16.0401 9.50818 15.3306 9.88379L1.46789 17.2229C0.801886 17.5755 1.36076e-06 17.0927 1.30077e-06 16.3391L1.32226e-07 1.6609Z\", fill: \"currentColor\" }));\nexport default SvgPlay;\n","import * as React from \"react\";\nconst SvgPlus = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 10 16\", fill: \"currentColor\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M4.25 9.25V13.5H5.75V9.25L10 9.25V7.75L5.75 7.75V3.5H4.25V7.75L0 7.75V9.25L4.25 9.25Z\" }));\nexport default SvgPlus;\n","import * as React from \"react\";\nconst SvgPrettify = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { width: 25, height: 25, viewBox: \"0 0 25 25\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M10.2852 24.0745L13.7139 18.0742\", stroke: \"currentColor\", strokeWidth: 1.5625 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.5742 24.0749L17.1457 19.7891\", stroke: \"currentColor\", strokeWidth: 1.5625 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M19.4868 24.0735L20.7229 21.7523C21.3259 20.6143 21.5457 19.3122 21.3496 18.0394C21.1535 16.7666 20.5519 15.591 19.6342 14.6874L23.7984 6.87853C24.0123 6.47728 24.0581 6.00748 23.9256 5.57249C23.7932 5.1375 23.4933 4.77294 23.0921 4.55901C22.6908 4.34509 22.221 4.29932 21.7861 4.43178C21.3511 4.56424 20.9865 4.86408 20.7726 5.26533L16.6084 13.0742C15.3474 12.8142 14.0362 12.9683 12.8699 13.5135C11.7035 14.0586 10.7443 14.9658 10.135 16.1L6 24.0735\", stroke: \"currentColor\", strokeWidth: 1.5625 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4 15L5 13L7 12L5 11L4 9L3 11L1 12L3 13L4 15Z\", stroke: \"currentColor\", strokeWidth: 1.5625, strokeLinejoin: \"round\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.5 8L12.6662 5.6662L15 4.5L12.6662 3.3338L11.5 1L10.3338 3.3338L8 4.5L10.3338 5.6662L11.5 8Z\", stroke: \"currentColor\", strokeWidth: 1.5625, strokeLinejoin: \"round\" }));\nexport default SvgPrettify;\n","import * as React from \"react\";\nconst SvgReload = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M4.75 9.25H1.25V12.75\", stroke: \"currentColor\", strokeWidth: 1, strokeLinecap: \"square\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M11.25 6.75H14.75V3.25\", stroke: \"currentColor\", strokeWidth: 1, strokeLinecap: \"square\" }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M14.1036 6.65539C13.8 5.27698 13.0387 4.04193 11.9437 3.15131C10.8487 2.26069 9.48447 1.76694 8.0731 1.75043C6.66173 1.73392 5.28633 2.19563 4.17079 3.0604C3.05526 3.92516 2.26529 5.14206 1.92947 6.513\", stroke: \"currentColor\", strokeWidth: 1 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M1.89635 9.34461C2.20001 10.723 2.96131 11.9581 4.05631 12.8487C5.15131 13.7393 6.51553 14.2331 7.9269 14.2496C9.33827 14.2661 10.7137 13.8044 11.8292 12.9396C12.9447 12.0748 13.7347 10.8579 14.0705 9.487\", stroke: \"currentColor\", strokeWidth: 1 }));\nexport default SvgReload;\n","import * as React from \"react\";\nconst SvgRootType = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 13 13\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 0.6, y: 0.6, width: 11.8, height: 11.8, rx: 5.9, stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"path\", { d: \"M4.25 7.5C4.25 6 5.75 5 6.5 6.5C7.25 8 8.75 7 8.75 5.5\", stroke: \"currentColor\", strokeWidth: 1.2 }));\nexport default SvgRootType;\n","import * as React from \"react\";\nconst SvgSettings = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 21 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { fillRule: \"evenodd\", clipRule: \"evenodd\", d: \"M9.29186 1.92702C9.06924 1.82745 8.87014 1.68202 8.70757 1.50024L7.86631 0.574931C7.62496 0.309957 7.30773 0.12592 6.95791 0.0479385C6.60809 -0.0300431 6.24274 0.00182978 5.91171 0.139208C5.58068 0.276585 5.3001 0.512774 5.10828 0.815537C4.91645 1.1183 4.82272 1.47288 4.83989 1.83089L4.90388 3.08019C4.91612 3.32348 4.87721 3.56662 4.78968 3.79394C4.70215 4.02126 4.56794 4.2277 4.39571 4.39994C4.22347 4.57219 4.01704 4.7064 3.78974 4.79394C3.56243 4.88147 3.3193 4.92038 3.07603 4.90814L1.8308 4.84414C1.47162 4.82563 1.11553 4.91881 0.811445 5.11086C0.507359 5.30292 0.270203 5.58443 0.132561 5.91671C-0.00508149 6.249 -0.0364554 6.61576 0.0427496 6.9666C0.121955 7.31744 0.307852 7.63514 0.5749 7.87606L1.50016 8.71204C1.68193 8.87461 1.82735 9.07373 1.92692 9.29636C2.02648 9.51898 2.07794 9.76012 2.07794 10.004C2.07794 10.2479 2.02648 10.489 1.92692 10.7116C1.82735 10.9343 1.68193 11.1334 1.50016 11.296L0.5749 12.1319C0.309856 12.3729 0.125575 12.6898 0.0471809 13.0393C-0.0312128 13.3888 9.64098e-05 13.754 0.13684 14.0851C0.273583 14.4162 0.509106 14.6971 0.811296 14.8894C1.11349 15.0817 1.46764 15.1762 1.82546 15.1599L3.0707 15.0959C3.31397 15.0836 3.5571 15.1225 3.7844 15.2101C4.01171 15.2976 4.21814 15.4318 4.39037 15.6041C4.56261 15.7763 4.69682 15.9827 4.78435 16.2101C4.87188 16.4374 4.91078 16.6805 4.89855 16.9238L4.83455 18.1691C4.81605 18.5283 4.90921 18.8844 5.10126 19.1885C5.2933 19.4926 5.5748 19.7298 5.90707 19.8674C6.23934 20.0051 6.60608 20.0365 6.9569 19.9572C7.30772 19.878 7.6254 19.6921 7.86631 19.4251L8.7129 18.4998C8.87547 18.318 9.07458 18.1725 9.29719 18.073C9.51981 17.9734 9.76093 17.9219 10.0048 17.9219C10.2487 17.9219 10.4898 17.9734 10.7124 18.073C10.935 18.1725 11.1341 18.318 11.2967 18.4998L12.1326 19.4251C12.3735 19.6921 12.6912 19.878 13.042 19.9572C13.3929 20.0365 13.7596 20.0051 14.0919 19.8674C14.4241 19.7298 14.7056 19.4926 14.8977 19.1885C15.0897 18.8844 15.1829 18.5283 15.1644 18.1691L15.1004 16.9238C15.0882 16.6805 15.1271 16.4374 15.2146 16.2101C15.3021 15.9827 15.4363 15.7763 15.6086 15.6041C15.7808 15.4318 15.9872 15.2976 16.2145 15.2101C16.4418 15.1225 16.685 15.0836 16.9282 15.0959L18.1735 15.1599C18.5326 15.1784 18.8887 15.0852 19.1928 14.8931C19.4969 14.7011 19.7341 14.4196 19.8717 14.0873C20.0093 13.755 20.0407 13.3882 19.9615 13.0374C19.8823 12.6866 19.6964 12.3689 19.4294 12.1279L18.5041 11.292C18.3223 11.1294 18.1769 10.9303 18.0774 10.7076C17.9778 10.485 17.9263 10.2439 17.9263 10C17.9263 9.75612 17.9778 9.51499 18.0774 9.29236C18.1769 9.06973 18.3223 8.87062 18.5041 8.70804L19.4294 7.87206C19.6964 7.63114 19.8823 7.31344 19.9615 6.9626C20.0407 6.61176 20.0093 6.245 19.8717 5.91271C19.7341 5.58043 19.4969 5.29892 19.1928 5.10686C18.8887 4.91481 18.5326 4.82163 18.1735 4.84014L16.9282 4.90414C16.685 4.91638 16.4418 4.87747 16.2145 4.78994C15.9872 4.7024 15.7808 4.56818 15.6086 4.39594C15.4363 4.2237 15.3021 4.01726 15.2146 3.78994C15.1271 3.56262 15.0882 3.31948 15.1004 3.07619L15.1644 1.83089C15.1829 1.4717 15.0897 1.11559 14.8977 0.811487C14.7056 0.507385 14.4241 0.270217 14.0919 0.132568C13.7596 -0.00508182 13.3929 -0.0364573 13.042 0.0427519C12.6912 0.121961 12.3735 0.307869 12.1326 0.574931L11.2914 1.50024C11.1288 1.68202 10.9297 1.82745 10.7071 1.92702C10.4845 2.02659 10.2433 2.07805 9.99947 2.07805C9.7556 2.07805 9.51448 2.02659 9.29186 1.92702ZM14.3745 10C14.3745 12.4162 12.4159 14.375 9.99977 14.375C7.58365 14.375 5.625 12.4162 5.625 10C5.625 7.58375 7.58365 5.625 9.99977 5.625C12.4159 5.625 14.3745 7.58375 14.3745 10Z\", fill: \"currentColor\" }));\nexport default SvgSettings;\n","import * as React from \"react\";\nconst SvgStarFilled = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M6.5782 1.07092C6.71096 0.643026 7.28904 0.643027 7.4218 1.07092L8.59318 4.84622C8.65255 5.03758 8.82284 5.16714 9.01498 5.16714L12.8056 5.16714C13.2353 5.16714 13.4139 5.74287 13.0663 6.00732L9.99962 8.34058C9.84418 8.45885 9.77913 8.66848 9.83851 8.85984L11.0099 12.6351C11.1426 13.063 10.675 13.4189 10.3274 13.1544L7.26069 10.8211C7.10524 10.7029 6.89476 10.7029 6.73931 10.8211L3.6726 13.1544C3.32502 13.4189 2.85735 13.063 2.99012 12.6351L4.16149 8.85984C4.22087 8.66848 4.15582 8.45885 4.00038 8.34058L0.933671 6.00732C0.586087 5.74287 0.764722 5.16714 1.19436 5.16714L4.98502 5.16714C5.17716 5.16714 5.34745 5.03758 5.40682 4.84622L6.5782 1.07092Z\", fill: \"currentColor\", stroke: \"currentColor\" }));\nexport default SvgStarFilled;\n","import * as React from \"react\";\nconst SvgStar = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 14 14\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M6.5782 1.07092C6.71096 0.643026 7.28904 0.643027 7.4218 1.07092L8.59318 4.84622C8.65255 5.03758 8.82284 5.16714 9.01498 5.16714L12.8056 5.16714C13.2353 5.16714 13.4139 5.74287 13.0663 6.00732L9.99962 8.34058C9.84418 8.45885 9.77913 8.66848 9.83851 8.85984L11.0099 12.6351C11.1426 13.063 10.675 13.4189 10.3274 13.1544L7.26069 10.8211C7.10524 10.7029 6.89476 10.7029 6.73931 10.8211L3.6726 13.1544C3.32502 13.4189 2.85735 13.063 2.99012 12.6351L4.16149 8.85984C4.22087 8.66848 4.15582 8.45885 4.00038 8.34058L0.933671 6.00732C0.586087 5.74287 0.764722 5.16714 1.19436 5.16714L4.98502 5.16714C5.17716 5.16714 5.34745 5.03758 5.40682 4.84622L6.5782 1.07092Z\", stroke: \"currentColor\", strokeWidth: 1.5 }));\nexport default SvgStar;\n","import * as React from \"react\";\nconst SvgStop = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 16 16\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { width: 16, height: 16, rx: 2, fill: \"currentColor\" }));\nexport default SvgStop;\n","import * as React from \"react\";\nconst SvgTrash = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { width: \"1em\", height: \"5em\", xmlns: \"http://www.w3.org/2000/svg\", fillRule: \"evenodd\", \"aria-hidden\": \"true\", viewBox: \"0 0 23 23\", style: {\n  height: \"1.5em\"\n}, clipRule: \"evenodd\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"path\", { d: \"M19 24h-14c-1.104 0-2-.896-2-2v-17h-1v-2h6v-1.5c0-.827.673-1.5 1.5-1.5h5c.825 0 1.5.671 1.5 1.5v1.5h6v2h-1v17c0 1.104-.896 2-2 2zm0-19h-14v16.5c0 .276.224.5.5.5h13c.276 0 .5-.224.5-.5v-16.5zm-7 7.586l3.293-3.293 1.414 1.414-3.293 3.293 3.293 3.293-1.414 1.414-3.293-3.293-3.293 3.293-1.414-1.414 3.293-3.293-3.293-3.293 1.414-1.414 3.293 3.293zm2-10.586h-4v1h4v-1z\", fill: \"currentColor\", strokeWidth: 0.25, stroke: \"currentColor\" }));\nexport default SvgTrash;\n","import * as React from \"react\";\nconst SvgType = ({\n  title,\n  titleId,\n  ...props\n}) => /* @__PURE__ */ React.createElement(\"svg\", { height: \"1em\", viewBox: \"0 0 13 13\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\", \"aria-labelledby\": titleId, ...props }, title ? /* @__PURE__ */ React.createElement(\"title\", { id: titleId }, title) : null, /* @__PURE__ */ React.createElement(\"rect\", { x: 0.6, y: 0.6, width: 11.8, height: 11.8, rx: 5.9, stroke: \"currentColor\", strokeWidth: 1.2 }), /* @__PURE__ */ React.createElement(\"rect\", { x: 5.5, y: 5.5, width: 2, height: 2, rx: 1, fill: \"currentColor\" }));\nexport default SvgType;\n","import { ComponentProps, FC, SVGProps } from 'react';\n\nimport _ArgumentIcon from './argument.svg?react';\nimport _ChevronDownIcon from './chevron-down.svg?react';\nimport _ChevronLeftIcon from './chevron-left.svg?react';\nimport _ChevronUpIcon from './chevron-up.svg?react';\nimport _CloseIcon from './close.svg?react';\nimport _CopyIcon from './copy.svg?react';\nimport _DeprecatedArgumentIcon from './deprecated-argument.svg?react';\nimport _DeprecatedEnumValueIcon from './deprecated-enum-value.svg?react';\nimport _DeprecatedFieldIcon from './deprecated-field.svg?react';\nimport _DirectiveIcon from './directive.svg?react';\nimport _DocsFilledIcon from './docs-filled.svg?react';\nimport _DocsIcon from './docs.svg?react';\nimport _EnumValueIcon from './enum-value.svg?react';\nimport _FieldIcon from './field.svg?react';\nimport _HistoryIcon from './history.svg?react';\nimport _ImplementsIcon from './implements.svg?react';\nimport _KeyboardShortcutIcon from './keyboard-shortcut.svg?react';\nimport _MagnifyingGlassIcon from './magnifying-glass.svg?react';\nimport _MergeIcon from './merge.svg?react';\nimport _PenIcon from './pen.svg?react';\nimport _PlayIcon from './play.svg?react';\nimport _PlusIcon from './plus.svg?react';\nimport _PrettifyIcon from './prettify.svg?react';\nimport _ReloadIcon from './reload.svg?react';\nimport _RootTypeIcon from './root-type.svg?react';\nimport _SettingsIcon from './settings.svg?react';\nimport _StarFilledIcon from './star-filled.svg?react';\nimport _StarIcon from './star.svg?react';\nimport _StopIcon from './stop.svg?react';\nimport _TrashIcon from './trash.svg?react';\nimport _TypeIcon from './type.svg?react';\n\nexport const ArgumentIcon = generateIcon(_ArgumentIcon);\nexport const ChevronDownIcon = generateIcon(_ChevronDownIcon);\nexport const ChevronLeftIcon = generateIcon(_ChevronLeftIcon);\nexport const ChevronUpIcon = generateIcon(_ChevronUpIcon);\nexport const CloseIcon = generateIcon(_CloseIcon);\nexport const CopyIcon = generateIcon(_CopyIcon);\nexport const DeprecatedArgumentIcon = generateIcon(_DeprecatedArgumentIcon);\nexport const DeprecatedEnumValueIcon = generateIcon(_DeprecatedEnumValueIcon);\nexport const DeprecatedFieldIcon = generateIcon(_DeprecatedFieldIcon);\nexport const DirectiveIcon = generateIcon(_DirectiveIcon);\nexport const DocsFilledIcon = generateIcon(_DocsFilledIcon);\nexport const DocsIcon = generateIcon(_DocsIcon);\nexport const EnumValueIcon = generateIcon(_EnumValueIcon);\nexport const FieldIcon = generateIcon(_FieldIcon);\nexport const HistoryIcon = generateIcon(_HistoryIcon);\nexport const ImplementsIcon = generateIcon(_ImplementsIcon);\nexport const KeyboardShortcutIcon = generateIcon(_KeyboardShortcutIcon);\nexport const MagnifyingGlassIcon = generateIcon(_MagnifyingGlassIcon);\nexport const MergeIcon = generateIcon(_MergeIcon);\nexport const PenIcon = generateIcon(_PenIcon);\nexport const PlayIcon = generateIcon(_PlayIcon);\nexport const PlusIcon = generateIcon(_PlusIcon);\nexport const PrettifyIcon = generateIcon(_PrettifyIcon);\nexport const ReloadIcon = generateIcon(_ReloadIcon);\nexport const RootTypeIcon = generateIcon(_RootTypeIcon);\nexport const SettingsIcon = generateIcon(_SettingsIcon);\nexport const StarFilledIcon = generateIcon(_StarFilledIcon);\nexport const StarIcon = generateIcon(_StarIcon);\nexport const StopIcon = generateIcon(_StopIcon);\nexport const TrashIcon = generateIcon(_TrashIcon);\nexport const TypeIcon = generateIcon(_TypeIcon);\n\nfunction generateIcon(\n  RawComponent: FC<SVGProps<SVGSVGElement> & { title?: string }>,\n): FC<ComponentProps<'svg'>> {\n  const title =\n    RawComponent.name\n      // Icon component name starts with `Svg${CamelCaseFilename without .svg}`\n      .replace('Svg', '')\n      // Insert a space before all caps\n      .replaceAll(/([A-Z])/g, ' $1')\n      .trimStart()\n      .toLowerCase() + ' icon';\n\n  function IconComponent(props: ComponentProps<'svg'>) {\n    return <RawComponent title={title} {...props} />;\n  }\n\n  IconComponent.displayName = RawComponent.name;\n  return IconComponent;\n}\n","import { forwardRef } from 'react';\nimport { clsx } from 'clsx';\n\nimport './button.css';\n\nexport const UnStyledButton = forwardRef<\n  HTMLButtonElement,\n  JSX.IntrinsicElements['button']\n>((props, ref) => (\n  <button\n    {...props}\n    ref={ref}\n    className={clsx('graphiql-un-styled', props.className)}\n  />\n));\nUnStyledButton.displayName = 'UnStyledButton';\n\ntype ButtonProps = { state?: 'success' | 'error' };\n\nexport const Button = forwardRef<\n  HTMLButtonElement,\n  ButtonProps & JSX.IntrinsicElements['button']\n>((props, ref) => (\n  <button\n    {...props}\n    ref={ref}\n    className={clsx(\n      'graphiql-button',\n      {\n        success: 'graphiql-button-success',\n        error: 'graphiql-button-error',\n      }[props.state!],\n      props.className,\n    )}\n  />\n));\nButton.displayName = 'Button';\n","import { forwardRef } from 'react';\nimport { clsx } from 'clsx';\n\nimport './button-group.css';\n\nexport const ButtonGroup = forwardRef<\n  HTMLDivElement,\n  JSX.IntrinsicElements['div']\n>((props, ref) => (\n  <div\n    {...props}\n    ref={ref}\n    className={clsx('graphiql-button-group', props.className)}\n  />\n));\nButtonGroup.displayName = 'ButtonGroup';\n","import { JSXElementConstructor } from 'react';\n\nexport const createComponentGroup = <\n  Root extends JSXElementConstructor<any>,\n  Children extends { [key: string]: JSXElementConstructor<any> },\n>(\n  root: Root,\n  children: Children,\n): Root & Children =>\n  Object.entries(children).reduce<any>((r, [key, value]) => {\n    r[key] = value;\n    return r;\n  }, root);\n","import { clsx } from 'clsx';\nimport { forwardRef, ReactElement } from 'react';\nimport { CloseIcon } from '../icons';\nimport { createComponentGroup } from '../utility/component-group';\nimport { UnStyledButton } from './button';\nimport * as D from '@radix-ui/react-dialog';\nimport { Root as VisuallyHidden } from '@radix-ui/react-visually-hidden';\n\nimport './dialog.css';\n\nconst DialogClose = forwardRef<\n  HTMLButtonElement,\n  JSX.IntrinsicElements['button']\n>((props, ref) => (\n  <D.Close asChild>\n    <UnStyledButton\n      {...props}\n      ref={ref}\n      type=\"button\"\n      className={clsx('graphiql-dialog-close', props.className)}\n    >\n      <VisuallyHidden>Close dialog</VisuallyHidden>\n      <CloseIcon />\n    </UnStyledButton>\n  </D.Close>\n));\nDialogClose.displayName = 'Dialog.Close';\n\nexport function DialogRoot({\n  children,\n  ...props\n}: D.DialogProps): ReactElement {\n  return (\n    <D.Root {...props}>\n      <D.Portal>\n        <D.Overlay className=\"graphiql-dialog-overlay\" />\n        <D.Content className=\"graphiql-dialog\">{children}</D.Content>\n      </D.Portal>\n    </D.Root>\n  );\n}\n\nexport const Dialog = createComponentGroup(DialogRoot, {\n  Close: DialogClose,\n  Title: D.Title,\n  Trigger: D.Trigger,\n  Description: D.Description,\n});\n","import { ComponentProps, forwardRef, ReactElement } from 'react';\nimport { clsx } from 'clsx';\nimport { createComponentGroup } from '../utility/component-group';\nimport {\n  Trigger,\n  Portal,\n  Content as RadixContent,\n  Item as RadixItem,\n  DropdownMenuContentProps,\n  DropdownMenuItemProps,\n  Root,\n} from '@radix-ui/react-dropdown-menu';\n\nimport './dropdown.css';\n\nconst Button = forwardRef<HTMLButtonElement, ComponentProps<'button'>>(\n  (props, ref) => (\n    <Trigger asChild>\n      <button\n        {...props}\n        ref={ref}\n        className={clsx('graphiql-un-styled', props.className)}\n      />\n    </Trigger>\n  ),\n);\nButton.displayName = 'DropdownMenuButton';\n\nfunction Content({\n  children,\n  align = 'start',\n  sideOffset = 5,\n  className,\n  ...props\n}: DropdownMenuContentProps): ReactElement {\n  return (\n    <Portal>\n      <RadixContent\n        align={align}\n        sideOffset={sideOffset}\n        className={clsx('graphiql-dropdown-content', className)}\n        {...props}\n      >\n        {children}\n      </RadixContent>\n    </Portal>\n  );\n}\n\nconst Item = ({ className, children, ...props }: DropdownMenuItemProps) => (\n  <RadixItem className={clsx('graphiql-dropdown-item', className)} {...props}>\n    {children}\n  </RadixItem>\n);\n\nexport const DropdownMenu = createComponentGroup(Root, {\n  Button,\n  Item,\n  Content,\n});\n","import MarkdownIt from 'markdown-it';\n\nexport const markdown = new MarkdownIt({\n  breaks: true,\n  linkify: true,\n});\n","import { forwardRef } from 'react';\nimport { clsx } from 'clsx';\nimport { markdown } from '../markdown';\n\nimport './markdown.css';\n\ntype MarkdownContentProps = {\n  children: string;\n  onlyShowFirstChild?: boolean;\n  type: 'description' | 'deprecation';\n};\n\nexport const MarkdownContent = forwardRef<\n  HTMLDivElement,\n  MarkdownContentProps & Omit<JSX.IntrinsicElements['div'], 'children'>\n>(({ children, onlyShowFirstChild, type, ...props }, ref) => (\n  <div\n    {...props}\n    ref={ref}\n    className={clsx(\n      `graphiql-markdown-${type}`,\n      onlyShowFirstChild && 'graphiql-markdown-preview',\n      props.className,\n    )}\n    dangerouslySetInnerHTML={{ __html: markdown.render(children) }}\n  />\n));\nMarkdownContent.displayName = 'MarkdownContent';\n","import { forwardRef } from 'react';\nimport { clsx } from 'clsx';\n\nimport './spinner.css';\n\nexport const Spinner = forwardRef<HTMLDivElement, JSX.IntrinsicElements['div']>(\n  (props, ref) => (\n    <div\n      {...props}\n      ref={ref}\n      className={clsx('graphiql-spinner', props.className)}\n    />\n  ),\n);\nSpinner.displayName = 'Spinner';\n","import { ReactElement, ReactNode } from 'react';\nimport * as T from '@radix-ui/react-tooltip';\nimport { createComponentGroup } from '../utility/component-group';\nimport './tooltip.css';\n\nexport function TooltipRoot({\n  children,\n  align = 'start',\n  side = 'bottom',\n  sideOffset = 5,\n  label,\n}: T.TooltipContentProps & { label: ReactNode }): ReactElement {\n  return (\n    <T.Root>\n      <T.Trigger asChild>{children}</T.Trigger>\n      <T.Portal>\n        <T.Content\n          className=\"graphiql-tooltip\"\n          align={align}\n          side={side}\n          sideOffset={sideOffset}\n        >\n          {label}\n        </T.Content>\n      </T.Portal>\n    </T.Root>\n  );\n}\n\nexport const Tooltip = createComponentGroup(TooltipRoot, {\n  Provider: T.Provider,\n});\n","import { forwardRef, ReactNode } from 'react';\nimport { clsx } from 'clsx';\nimport { Reorder } from 'framer-motion';\nimport { CloseIcon } from '../icons';\nimport { createComponentGroup } from '../utility/component-group';\nimport { UnStyledButton } from './button';\nimport { Tooltip } from './tooltip';\n\nimport './tabs.css';\n\ntype TabProps = {\n  isActive?: boolean;\n  value: object;\n  className?: string;\n  children: ReactNode;\n};\n\nconst TabRoot = forwardRef<HTMLLIElement, TabProps>(\n  ({ isActive, value, children, className, ...props }, ref) => (\n    <Reorder.Item\n      {...props}\n      ref={ref}\n      value={value}\n      aria-selected={isActive ? 'true' : undefined}\n      role=\"tab\"\n      className={clsx(\n        'graphiql-tab',\n        isActive && 'graphiql-tab-active',\n        className,\n      )}\n    >\n      {children}\n    </Reorder.Item>\n  ),\n);\nTabRoot.displayName = 'Tab';\n\nconst TabButton = forwardRef<\n  HTMLButtonElement,\n  JSX.IntrinsicElements['button']\n>((props, ref) => (\n  <UnStyledButton\n    {...props}\n    ref={ref}\n    type=\"button\"\n    className={clsx('graphiql-tab-button', props.className)}\n  >\n    {props.children}\n  </UnStyledButton>\n));\nTabButton.displayName = 'Tab.Button';\n\nconst TabClose = forwardRef<HTMLButtonElement, JSX.IntrinsicElements['button']>(\n  (props, ref) => (\n    <Tooltip label=\"Close Tab\">\n      <UnStyledButton\n        aria-label=\"Close Tab\"\n        {...props}\n        ref={ref}\n        type=\"button\"\n        className={clsx('graphiql-tab-close', props.className)}\n      >\n        <CloseIcon />\n      </UnStyledButton>\n    </Tooltip>\n  ),\n);\nTabClose.displayName = 'Tab.Close';\n\nexport const Tab = createComponentGroup(TabRoot, {\n  Button: TabButton,\n  Close: TabClose,\n});\n\ntype TabsProps = {\n  values: object[];\n  onReorder: (newOrder: any[]) => void;\n  className?: string;\n  children: ReactNode;\n};\n\nexport const Tabs = forwardRef<HTMLUListElement, TabsProps>(\n  ({ values, onReorder, children, className, ...props }, ref) => (\n    <Reorder.Group\n      {...props}\n      ref={ref}\n      values={values}\n      onReorder={onReorder}\n      axis=\"x\"\n      role=\"tablist\"\n      className={clsx('graphiql-tabs', className)}\n    >\n      {children}\n    </Reorder.Group>\n  ),\n);\nTabs.displayName = 'Tabs';\n","import { HistoryStore, QueryStoreItem, StorageAPI } from '@graphiql/toolkit';\nimport { ReactNode, useCallback, useMemo, useRef, useState } from 'react';\n\nimport { useStorageContext } from '../storage';\nimport { createContextHook, createNullableContext } from '../utility/context';\n\nexport type HistoryContextType = {\n  /**\n   * Add an operation to the history.\n   * @param operation The operation that was executed, consisting of the query,\n   * variables, headers, and operation name.\n   */\n  addToHistory(operation: {\n    query?: string;\n    variables?: string;\n    headers?: string;\n    operationName?: string;\n  }): void;\n  /**\n   * Change the custom label of an item from the history.\n   * @param args An object containing the label (`undefined` if it should be\n   * unset) and properties that identify the history item that the label should\n   * be applied to. (This can result in the label being applied to multiple\n   * history items.)\n   * @param index Index to edit. Without it, will look for the first index matching the\n   * operation, which may lead to misleading results if multiple items have the same label\n   */\n  editLabel(\n    args: {\n      query?: string;\n      variables?: string;\n      headers?: string;\n      operationName?: string;\n      label?: string;\n      favorite?: boolean;\n    },\n    index?: number,\n  ): void;\n  /**\n   * The list of history items.\n   */\n  items: readonly QueryStoreItem[];\n  /**\n   * Toggle the favorite state of an item from the history.\n   * @param args An object containing the favorite state (`undefined` if it\n   * should be unset) and properties that identify the history item that the\n   * label should be applied to. (This can result in the label being applied\n   * to multiple history items.)\n   */\n  toggleFavorite(args: {\n    query?: string;\n    variables?: string;\n    headers?: string;\n    operationName?: string;\n    label?: string;\n    favorite?: boolean;\n  }): void;\n  /**\n   * Delete an operation from the history.\n   * @param args The operation that was executed, consisting of the query,\n   * variables, headers, and operation name.\n   * @param clearFavorites This is only if you press the 'clear' button\n   */\n  deleteFromHistory(args: QueryStoreItem, clearFavorites?: boolean): void;\n  /**\n   * If you need to know when an item in history is set as active to customize\n   * your application.\n   */\n  setActive(args: QueryStoreItem): void;\n};\n\nexport const HistoryContext =\n  createNullableContext<HistoryContextType>('HistoryContext');\n\nexport type HistoryContextProviderProps = {\n  children: ReactNode;\n  /**\n   * The maximum number of executed operations to store.\n   * @default 20\n   */\n  maxHistoryLength?: number;\n};\n\n/**\n * The functions send the entire operation so users can customize their own application with\n * <HistoryContext.Provider value={customizedFunctions} /> and get access to the operation plus\n * any additional props they added for their needs (i.e., build their own functions that may save\n * to a backend instead of localStorage and might need an id property added to the QueryStoreItem)\n */\nexport function HistoryContextProvider(props: HistoryContextProviderProps) {\n  const storage = useStorageContext();\n  const historyStore = useRef(\n    new HistoryStore(\n      // Fall back to a noop storage when the StorageContext is empty\n      storage || new StorageAPI(null),\n      props.maxHistoryLength || DEFAULT_HISTORY_LENGTH,\n    ),\n  );\n  const [items, setItems] = useState(historyStore.current?.queries || []);\n\n  const addToHistory: HistoryContextType['addToHistory'] = useCallback(\n    (operation: QueryStoreItem) => {\n      historyStore.current?.updateHistory(operation);\n      setItems(historyStore.current.queries);\n    },\n    [],\n  );\n\n  const editLabel: HistoryContextType['editLabel'] = useCallback(\n    (operation: QueryStoreItem, index?: number) => {\n      historyStore.current.editLabel(operation, index);\n      setItems(historyStore.current.queries);\n    },\n    [],\n  );\n\n  const toggleFavorite: HistoryContextType['toggleFavorite'] = useCallback(\n    (operation: QueryStoreItem) => {\n      historyStore.current.toggleFavorite(operation);\n      setItems(historyStore.current.queries);\n    },\n    [],\n  );\n\n  const setActive: HistoryContextType['setActive'] = useCallback(\n    (item: QueryStoreItem) => {\n      return item;\n    },\n    [],\n  );\n\n  const deleteFromHistory: HistoryContextType['deleteFromHistory'] =\n    useCallback((item: QueryStoreItem, clearFavorites = false) => {\n      historyStore.current.deleteHistory(item, clearFavorites);\n      setItems(historyStore.current.queries);\n    }, []);\n\n  const value = useMemo<HistoryContextType>(\n    () => ({\n      addToHistory,\n      editLabel,\n      items,\n      toggleFavorite,\n      setActive,\n      deleteFromHistory,\n    }),\n    [\n      addToHistory,\n      editLabel,\n      items,\n      toggleFavorite,\n      setActive,\n      deleteFromHistory,\n    ],\n  );\n\n  return (\n    <HistoryContext.Provider value={value}>\n      {props.children}\n    </HistoryContext.Provider>\n  );\n}\n\nexport const useHistoryContext =\n  createContextHook<HistoryContextType>(HistoryContext);\n\nconst DEFAULT_HISTORY_LENGTH = 20;\n","import type { QueryStoreItem } from '@graphiql/toolkit';\nimport {\n  MouseEventHandler,\n  useCallback,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { clsx } from 'clsx';\n\nimport { useEditorContext } from '../editor';\nimport {\n  CloseIcon,\n  PenIcon,\n  StarFilledIcon,\n  StarIcon,\n  TrashIcon,\n} from '../icons';\nimport { Button, Tooltip, UnStyledButton } from '../ui';\nimport { useHistoryContext } from './context';\n\nimport './style.css';\n\nexport function History() {\n  const { items: all, deleteFromHistory } = useHistoryContext({\n    nonNull: true,\n  });\n\n  // Reverse items since we push them in so want the latest one at the top, and pass the\n  // original index in case multiple items share the same label so we can edit correct item\n  let items = all\n    .slice()\n    .map((item, i) => ({ ...item, index: i }))\n    .reverse();\n  const favorites = items.filter(item => item.favorite);\n  if (favorites.length) {\n    items = items.filter(item => !item.favorite);\n  }\n\n  const [clearStatus, setClearStatus] = useState<'success' | 'error' | null>(\n    null,\n  );\n  useEffect(() => {\n    if (clearStatus) {\n      // reset button after a couple seconds\n      setTimeout(() => {\n        setClearStatus(null);\n      }, 2000);\n    }\n  }, [clearStatus]);\n\n  const handleClearStatus = useCallback(() => {\n    try {\n      for (const item of items) {\n        deleteFromHistory(item, true);\n      }\n      setClearStatus('success');\n    } catch {\n      setClearStatus('error');\n    }\n  }, [deleteFromHistory, items]);\n\n  return (\n    <section aria-label=\"History\" className=\"graphiql-history\">\n      <div className=\"graphiql-history-header\">\n        History\n        {(clearStatus || items.length > 0) && (\n          <Button\n            type=\"button\"\n            state={clearStatus || undefined}\n            disabled={!items.length}\n            onClick={handleClearStatus}\n          >\n            {{\n              success: 'Cleared',\n              error: 'Failed to Clear',\n            }[clearStatus!] || 'Clear'}\n          </Button>\n        )}\n      </div>\n\n      {Boolean(favorites.length) && (\n        <ul className=\"graphiql-history-items\">\n          {favorites.map(item => (\n            <HistoryItem item={item} key={item.index} />\n          ))}\n        </ul>\n      )}\n\n      {Boolean(favorites.length) && Boolean(items.length) && (\n        <div className=\"graphiql-history-item-spacer\" />\n      )}\n\n      {Boolean(items.length) && (\n        <ul className=\"graphiql-history-items\">\n          {items.map(item => (\n            <HistoryItem item={item} key={item.index} />\n          ))}\n        </ul>\n      )}\n    </section>\n  );\n}\n\ntype QueryHistoryItemProps = {\n  item: QueryStoreItem & { index?: number };\n};\n\nexport function HistoryItem(props: QueryHistoryItemProps) {\n  const { editLabel, toggleFavorite, deleteFromHistory, setActive } =\n    useHistoryContext({\n      nonNull: true,\n      caller: HistoryItem,\n    });\n  const { headerEditor, queryEditor, variableEditor } = useEditorContext({\n    nonNull: true,\n    caller: HistoryItem,\n  });\n  const inputRef = useRef<HTMLInputElement>(null);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const [isEditable, setIsEditable] = useState(false);\n\n  useEffect(() => {\n    if (isEditable) {\n      inputRef.current?.focus();\n    }\n  }, [isEditable]);\n\n  const displayName =\n    props.item.label ||\n    props.item.operationName ||\n    formatQuery(props.item.query);\n\n  const handleSave = useCallback(() => {\n    setIsEditable(false);\n    const { index, ...item } = props.item;\n    editLabel({ ...item, label: inputRef.current?.value }, index);\n  }, [editLabel, props.item]);\n\n  const handleClose = useCallback(() => {\n    setIsEditable(false);\n  }, []);\n\n  const handleEditLabel: MouseEventHandler<HTMLButtonElement> = useCallback(\n    e => {\n      e.stopPropagation();\n      setIsEditable(true);\n    },\n    [],\n  );\n\n  const handleHistoryItemClick: MouseEventHandler<HTMLButtonElement> =\n    useCallback(() => {\n      const { query, variables, headers } = props.item;\n      queryEditor?.setValue(query ?? '');\n      variableEditor?.setValue(variables ?? '');\n      headerEditor?.setValue(headers ?? '');\n      setActive(props.item);\n    }, [headerEditor, props.item, queryEditor, setActive, variableEditor]);\n\n  const handleDeleteItemFromHistory: MouseEventHandler<HTMLButtonElement> =\n    useCallback(\n      e => {\n        e.stopPropagation();\n        deleteFromHistory(props.item);\n      },\n      [props.item, deleteFromHistory],\n    );\n\n  const handleToggleFavorite: MouseEventHandler<HTMLButtonElement> =\n    useCallback(\n      e => {\n        e.stopPropagation();\n        toggleFavorite(props.item);\n      },\n      [props.item, toggleFavorite],\n    );\n\n  return (\n    <li className={clsx('graphiql-history-item', isEditable && 'editable')}>\n      {isEditable ? (\n        <>\n          <input\n            type=\"text\"\n            defaultValue={props.item.label}\n            ref={inputRef}\n            onKeyDown={e => {\n              if (e.key === 'Esc') {\n                setIsEditable(false);\n              } else if (e.key === 'Enter') {\n                setIsEditable(false);\n                editLabel({ ...props.item, label: e.currentTarget.value });\n              }\n            }}\n            placeholder=\"Type a label\"\n          />\n          <UnStyledButton type=\"button\" ref={buttonRef} onClick={handleSave}>\n            Save\n          </UnStyledButton>\n          <UnStyledButton type=\"button\" ref={buttonRef} onClick={handleClose}>\n            <CloseIcon />\n          </UnStyledButton>\n        </>\n      ) : (\n        <>\n          <Tooltip label=\"Set active\">\n            <UnStyledButton\n              type=\"button\"\n              className=\"graphiql-history-item-label\"\n              onClick={handleHistoryItemClick}\n              aria-label=\"Set active\"\n            >\n              {displayName}\n            </UnStyledButton>\n          </Tooltip>\n          <Tooltip label=\"Edit label\">\n            <UnStyledButton\n              type=\"button\"\n              className=\"graphiql-history-item-action\"\n              onClick={handleEditLabel}\n              aria-label=\"Edit label\"\n            >\n              <PenIcon aria-hidden=\"true\" />\n            </UnStyledButton>\n          </Tooltip>\n          <Tooltip\n            label={props.item.favorite ? 'Remove favorite' : 'Add favorite'}\n          >\n            <UnStyledButton\n              type=\"button\"\n              className=\"graphiql-history-item-action\"\n              onClick={handleToggleFavorite}\n              aria-label={\n                props.item.favorite ? 'Remove favorite' : 'Add favorite'\n              }\n            >\n              {props.item.favorite ? (\n                <StarFilledIcon aria-hidden=\"true\" />\n              ) : (\n                <StarIcon aria-hidden=\"true\" />\n              )}\n            </UnStyledButton>\n          </Tooltip>\n          <Tooltip label=\"Delete from history\">\n            <UnStyledButton\n              type=\"button\"\n              className=\"graphiql-history-item-action\"\n              onClick={handleDeleteItemFromHistory}\n              aria-label=\"Delete from history\"\n            >\n              <TrashIcon aria-hidden=\"true\" />\n            </UnStyledButton>\n          </Tooltip>\n        </>\n      )}\n    </li>\n  );\n}\n\nexport function formatQuery(query?: string) {\n  return query\n    ?.split('\\n')\n    .map(line => line.replace(/#(.*)/, ''))\n    .join(' ')\n    .replaceAll('{', ' { ')\n    .replaceAll('}', ' } ')\n    .replaceAll(/[\\s]{2,}/g, ' ');\n}\n","import {\n  Fetcher,\n  formatError,\n  formatResult,\n  isAsyncIterable,\n  isObservable,\n  Unsubscribable,\n} from '@graphiql/toolkit';\nimport {\n  ExecutionResult,\n  FragmentDefinitionNode,\n  GraphQLError,\n  print,\n} from 'graphql';\nimport { getFragmentDependenciesForAST } from 'graphql-language-service';\nimport { ReactNode, useCallback, useMemo, useRef, useState } from 'react';\nimport setValue from 'set-value';\n\nimport { useAutoCompleteLeafs, useEditorContext } from './editor';\nimport { UseAutoCompleteLeafsArgs } from './editor/hooks';\nimport { useHistoryContext } from './history';\nimport { createContextHook, createNullableContext } from './utility/context';\n\nexport type ExecutionContextType = {\n  /**\n   * If there is currently a GraphQL request in-flight. For multi-part\n   * requests like subscriptions, this will be `true` while fetching the\n   * first partial response and `false` while fetching subsequent batches.\n   */\n  isFetching: boolean;\n  /**\n   * If there is currently a GraphQL request in-flight. For multi-part\n   * requests like subscriptions, this will be `true` until the last batch\n   * has been fetched or the connection is closed from the client.\n   */\n  isSubscribed: boolean;\n  /**\n   * The operation name that will be sent with all GraphQL requests.\n   */\n  operationName: string | null;\n  /**\n   * Start a GraphQL requests based of the current editor contents.\n   */\n  run(): void;\n  /**\n   * Stop the GraphQL request that is currently in-flight.\n   */\n  stop(): void;\n};\n\nexport const ExecutionContext =\n  createNullableContext<ExecutionContextType>('ExecutionContext');\n\nexport type ExecutionContextProviderProps = Pick<\n  UseAutoCompleteLeafsArgs,\n  'getDefaultFieldNames'\n> & {\n  children: ReactNode;\n  /**\n   * A function which accepts GraphQL HTTP parameters and returns a `Promise`,\n   * `Observable` or `AsyncIterable` that returns the GraphQL response in\n   * parsed JSON format.\n   *\n   * We suggest using the `createGraphiQLFetcher` utility from `@graphiql/toolkit`\n   * to create these fetcher functions.\n   *\n   * @see {@link https://graphiql-test.netlify.app/typedoc/modules/graphiql_toolkit.html#creategraphiqlfetcher-2|`createGraphiQLFetcher`}\n   */\n  fetcher: Fetcher;\n  /**\n   * This prop sets the operation name that is passed with a GraphQL request.\n   */\n  operationName?: string;\n};\n\nexport function ExecutionContextProvider({\n  fetcher,\n  getDefaultFieldNames,\n  children,\n  operationName,\n}: ExecutionContextProviderProps) {\n  if (!fetcher) {\n    throw new TypeError(\n      'The `ExecutionContextProvider` component requires a `fetcher` function to be passed as prop.',\n    );\n  }\n\n  const {\n    externalFragments,\n    headerEditor,\n    queryEditor,\n    responseEditor,\n    variableEditor,\n    updateActiveTabValues,\n  } = useEditorContext({ nonNull: true, caller: ExecutionContextProvider });\n  const history = useHistoryContext();\n  const autoCompleteLeafs = useAutoCompleteLeafs({\n    getDefaultFieldNames,\n    caller: ExecutionContextProvider,\n  });\n  const [isFetching, setIsFetching] = useState(false);\n  const [subscription, setSubscription] = useState<Unsubscribable | null>(null);\n  const queryIdRef = useRef(0);\n\n  const stop = useCallback(() => {\n    subscription?.unsubscribe();\n    setIsFetching(false);\n    setSubscription(null);\n  }, [subscription]);\n\n  const run = useCallback<ExecutionContextType['run']>(async () => {\n    if (!queryEditor || !responseEditor) {\n      return;\n    }\n\n    // If there's an active subscription, unsubscribe it and return\n    if (subscription) {\n      stop();\n      return;\n    }\n\n    const setResponse = (value: string) => {\n      responseEditor.setValue(value);\n      updateActiveTabValues({ response: value });\n    };\n\n    queryIdRef.current += 1;\n    const queryId = queryIdRef.current;\n\n    // Use the edited query after autoCompleteLeafs() runs or,\n    // in case autoCompletion fails (the function returns undefined),\n    // the current query from the editor.\n    let query = autoCompleteLeafs() || queryEditor.getValue();\n\n    const variablesString = variableEditor?.getValue();\n    let variables: Record<string, unknown> | undefined;\n    try {\n      variables = tryParseJsonObject({\n        json: variablesString,\n        errorMessageParse: 'Variables are invalid JSON',\n        errorMessageType: 'Variables are not a JSON object.',\n      });\n    } catch (error) {\n      setResponse(error instanceof Error ? error.message : `${error}`);\n      return;\n    }\n\n    const headersString = headerEditor?.getValue();\n    let headers: Record<string, unknown> | undefined;\n    try {\n      headers = tryParseJsonObject({\n        json: headersString,\n        errorMessageParse: 'Headers are invalid JSON',\n        errorMessageType: 'Headers are not a JSON object.',\n      });\n    } catch (error) {\n      setResponse(error instanceof Error ? error.message : `${error}`);\n      return;\n    }\n\n    if (externalFragments) {\n      const fragmentDependencies = queryEditor.documentAST\n        ? getFragmentDependenciesForAST(\n            queryEditor.documentAST,\n            externalFragments,\n          )\n        : [];\n      if (fragmentDependencies.length > 0) {\n        query +=\n          '\\n' +\n          fragmentDependencies\n            .map((node: FragmentDefinitionNode) => print(node))\n            .join('\\n');\n      }\n    }\n\n    setResponse('');\n    setIsFetching(true);\n\n    const opName = operationName ?? queryEditor.operationName ?? undefined;\n\n    history?.addToHistory({\n      query,\n      variables: variablesString,\n      headers: headersString,\n      operationName: opName,\n    });\n\n    try {\n      const fullResponse: ExecutionResult = {};\n      const handleResponse = (result: ExecutionResult) => {\n        // A different query was dispatched in the meantime, so don't\n        // show the results of this one.\n        if (queryId !== queryIdRef.current) {\n          return;\n        }\n\n        let maybeMultipart = Array.isArray(result) ? result : false;\n        if (\n          !maybeMultipart &&\n          typeof result === 'object' &&\n          result !== null &&\n          'hasNext' in result\n        ) {\n          maybeMultipart = [result];\n        }\n\n        if (maybeMultipart) {\n          for (const part of maybeMultipart) {\n            mergeIncrementalResult(fullResponse, part);\n          }\n\n          setIsFetching(false);\n          setResponse(formatResult(fullResponse));\n        } else {\n          const response = formatResult(result);\n          setIsFetching(false);\n          setResponse(response);\n        }\n      };\n\n      const fetch = fetcher(\n        {\n          query,\n          variables,\n          operationName: opName,\n        },\n        {\n          headers: headers ?? undefined,\n          documentAST: queryEditor.documentAST ?? undefined,\n        },\n      );\n\n      const value = await Promise.resolve(fetch);\n      if (isObservable(value)) {\n        // If the fetcher returned an Observable, then subscribe to it, calling\n        // the callback on each next value, and handling both errors and the\n        // completion of the Observable.\n        setSubscription(\n          value.subscribe({\n            next(result) {\n              handleResponse(result);\n            },\n            error(error: Error) {\n              setIsFetching(false);\n              if (error) {\n                setResponse(formatError(error));\n              }\n              setSubscription(null);\n            },\n            complete() {\n              setIsFetching(false);\n              setSubscription(null);\n            },\n          }),\n        );\n      } else if (isAsyncIterable(value)) {\n        setSubscription({\n          unsubscribe: () => value[Symbol.asyncIterator]().return?.(),\n        });\n        for await (const result of value) {\n          handleResponse(result);\n        }\n        setIsFetching(false);\n        setSubscription(null);\n      } else {\n        handleResponse(value);\n      }\n    } catch (error) {\n      setIsFetching(false);\n      setResponse(formatError(error));\n      setSubscription(null);\n    }\n  }, [\n    autoCompleteLeafs,\n    externalFragments,\n    fetcher,\n    headerEditor,\n    history,\n    operationName,\n    queryEditor,\n    responseEditor,\n    stop,\n    subscription,\n    updateActiveTabValues,\n    variableEditor,\n  ]);\n\n  const isSubscribed = Boolean(subscription);\n  const value = useMemo<ExecutionContextType>(\n    () => ({\n      isFetching,\n      isSubscribed,\n      operationName: operationName ?? null,\n      run,\n      stop,\n    }),\n    [isFetching, isSubscribed, operationName, run, stop],\n  );\n\n  return (\n    <ExecutionContext.Provider value={value}>\n      {children}\n    </ExecutionContext.Provider>\n  );\n}\n\nexport const useExecutionContext = createContextHook(ExecutionContext);\n\nfunction tryParseJsonObject({\n  json,\n  errorMessageParse,\n  errorMessageType,\n}: {\n  json: string | undefined;\n  errorMessageParse: string;\n  errorMessageType: string;\n}) {\n  let parsed: Record<string, any> | undefined;\n  try {\n    parsed = json && json.trim() !== '' ? JSON.parse(json) : undefined;\n  } catch (error) {\n    throw new Error(\n      `${errorMessageParse}: ${\n        error instanceof Error ? error.message : error\n      }.`,\n    );\n  }\n  const isObject =\n    typeof parsed === 'object' && parsed !== null && !Array.isArray(parsed);\n  if (parsed !== undefined && !isObject) {\n    throw new Error(errorMessageType);\n  }\n  return parsed;\n}\n\ntype IncrementalResult = {\n  data?: Record<string, unknown> | null;\n  errors?: ReadonlyArray<GraphQLError>;\n  extensions?: Record<string, unknown>;\n  hasNext?: boolean;\n  path?: ReadonlyArray<string | number>;\n  incremental?: ReadonlyArray<IncrementalResult>;\n  label?: string;\n  items?: ReadonlyArray<Record<string, unknown>> | null;\n};\n\n/**\n * @param executionResult The complete execution result object which will be\n * mutated by merging the contents of the incremental result.\n * @param incrementalResult The incremental result that will be merged into the\n * complete execution result.\n */\nfunction mergeIncrementalResult(\n  executionResult: ExecutionResult,\n  incrementalResult: IncrementalResult,\n): void {\n  const path = ['data', ...(incrementalResult.path ?? [])];\n\n  if (incrementalResult.items) {\n    for (const item of incrementalResult.items) {\n      setValue(executionResult, path.join('.'), item);\n      // Increment the last path segment (the array index) to merge the next item at the next index\n      // eslint-disable-next-line unicorn/prefer-at -- cannot mutate the array using Array.at()\n      (path[path.length - 1] as number)++;\n    }\n  }\n\n  if (incrementalResult.data) {\n    setValue(executionResult, path.join('.'), incrementalResult.data, {\n      merge: true,\n    });\n  }\n\n  if (incrementalResult.errors) {\n    executionResult.errors ||= [];\n    (executionResult.errors as GraphQLError[]).push(\n      ...incrementalResult.errors,\n    );\n  }\n\n  if (incrementalResult.extensions) {\n    setValue(executionResult, 'extensions', incrementalResult.extensions, {\n      merge: true,\n    });\n  }\n\n  if (incrementalResult.incremental) {\n    for (const incrementalSubResult of incrementalResult.incremental) {\n      mergeIncrementalResult(executionResult, incrementalSubResult);\n    }\n  }\n}\n","import { KeyMap } from './types';\n\nexport const DEFAULT_EDITOR_THEME = 'graphiql';\nexport const DEFAULT_KEY_MAP: KeyMap = 'sublime';\n\nlet isMacOs = false;\n\nif (typeof window === 'object') {\n  isMacOs = window.navigator.platform.toLowerCase().indexOf('mac') === 0;\n}\n\nexport const commonKeys = {\n  // Persistent search box in Query Editor\n  [isMacOs ? 'Cmd-F' : 'Ctrl-F']: 'findPersistent',\n  'Cmd-G': 'findPersistent',\n  'Ctrl-G': 'findPersistent',\n\n  // Editor improvements\n  'Ctrl-Left': 'goSubwordLeft',\n  'Ctrl-Right': 'goSubwordRight',\n  'Alt-Left': 'goGroupLeft',\n  'Alt-Right': 'goGroupRight',\n};\n\n/**\n * Dynamically import codemirror and dependencies\n * This works for codemirror 5, not sure if the same imports work for 6\n */\nexport async function importCodeMirror(\n  addons: Promise<any>[],\n  options?: { useCommonAddons?: boolean },\n) {\n  const CodeMirror = await import('codemirror').then(c =>\n    // Depending on bundler and settings the dynamic import either returns a\n    // function (e.g. parcel) or an object containing a `default` property\n    typeof c === 'function' ? c : c.default,\n  );\n  await Promise.all(\n    options?.useCommonAddons === false\n      ? addons\n      : [\n          import('codemirror/addon/hint/show-hint'),\n          import('codemirror/addon/edit/matchbrackets'),\n          import('codemirror/addon/edit/closebrackets'),\n          import('codemirror/addon/fold/brace-fold'),\n          import('codemirror/addon/fold/foldgutter'),\n          import('codemirror/addon/lint/lint'),\n          import('codemirror/addon/search/searchcursor'),\n          import('codemirror/addon/search/jump-to-line'),\n          import('codemirror/addon/dialog/dialog'),\n          // @ts-expect-error\n          import('codemirror/keymap/sublime'),\n          ...addons,\n        ],\n  );\n  return CodeMirror;\n}\n","import { astFromValue, print, ValueNode } from 'graphql';\n\nimport { ExplorerFieldDef } from '../context';\n\nimport './default-value.css';\n\nconst printDefault = (ast?: ValueNode | null): string => {\n  if (!ast) {\n    return '';\n  }\n  return print(ast);\n};\n\ntype DefaultValueProps = {\n  /**\n   * The field or argument for which to render the default value.\n   */\n  field: ExplorerFieldDef;\n};\n\nexport function DefaultValue({ field }: DefaultValueProps) {\n  if (!('defaultValue' in field) || field.defaultValue === undefined) {\n    return null;\n  }\n  const ast = astFromValue(field.defaultValue, field.type);\n  if (!ast) {\n    return null;\n  }\n  return (\n    <>\n      {' = '}\n      <span className=\"graphiql-doc-explorer-default-value\">\n        {printDefault(ast)}\n      </span>\n    </>\n  );\n}\n","import {\n  Fetcher,\n  FetcherOpts,\n  fetcherReturnToPromise,\n  formatError,\n  formatResult,\n  isPromise,\n} from '@graphiql/toolkit';\nimport {\n  buildClientSchema,\n  getIntrospectionQuery,\n  GraphQLError,\n  GraphQLSchema,\n  IntrospectionQuery,\n  isSchema,\n  validateSchema,\n} from 'graphql';\nimport {\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useEditorContext } from './editor';\nimport { createContextHook, createNullableContext } from './utility/context';\n\ntype MaybeGraphQLSchema = GraphQLSchema | null | undefined;\n\nexport type SchemaContextType = {\n  /**\n   * Stores an error raised during introspecting or building the GraphQL schema\n   * from the introspection result.\n   */\n  fetchError: string | null;\n  /**\n   * Trigger building the GraphQL schema. This might trigger an introspection\n   * request if no schema is passed via props and if using a schema is not\n   * explicitly disabled by passing `null` as value for the `schema` prop. If\n   * there is a schema (either fetched using introspection or passed via props)\n   * it will be validated, unless this is explicitly skipped using the\n   * `dangerouslyAssumeSchemaIsValid` prop.\n   */\n  introspect(): void;\n  /**\n   * If there currently is an introspection request in-flight.\n   */\n  isFetching: boolean;\n  /**\n   * The current GraphQL schema.\n   */\n  schema: MaybeGraphQLSchema;\n  /**\n   * A list of errors from validating the current GraphQL schema. The schema is\n   * valid if and only if this list is empty.\n   */\n  validationErrors: readonly GraphQLError[];\n};\n\nexport const SchemaContext =\n  createNullableContext<SchemaContextType>('SchemaContext');\n\nexport type SchemaContextProviderProps = {\n  children: ReactNode;\n  /**\n   * This prop can be used to skip validating the GraphQL schema. This applies\n   * to both schemas fetched via introspection and schemas explicitly passed\n   * via the `schema` prop.\n   *\n   * IMPORTANT NOTE: Without validating the schema, GraphiQL and its components\n   * are vulnerable to numerous exploits and might break. Only use this prop if\n   * you have full control over the schema passed to GraphiQL.\n   *\n   * @default false\n   */\n  dangerouslyAssumeSchemaIsValid?: boolean;\n  /**\n   * A function which accepts GraphQL HTTP parameters and returns a `Promise`,\n   * `Observable` or `AsyncIterable` that returns the GraphQL response in\n   * parsed JSON format.\n   *\n   * We suggest using the `createGraphiQLFetcher` utility from `@graphiql/toolkit`\n   * to create these fetcher functions.\n   *\n   * @see {@link https://graphiql-test.netlify.app/typedoc/modules/graphiql_toolkit.html#creategraphiqlfetcher-2|`createGraphiQLFetcher`}\n   */\n  fetcher: Fetcher;\n  /**\n   * Invoked after a new GraphQL schema was built. This includes both fetching\n   * the schema via introspection and passing the schema using the `schema`\n   * prop.\n   * @param schema The GraphQL schema that is now used for GraphiQL.\n   */\n  onSchemaChange?(schema: GraphQLSchema): void;\n  /**\n   * Explicitly provide the GraphiQL schema that shall be used for GraphiQL.\n   * If this props is...\n   * - ...passed and the value is a GraphQL schema, it will be validated and\n   *   then used for GraphiQL if it is valid.\n   * - ...passed and the value is the result of an introspection query, a\n   *   GraphQL schema will be built from this introspection data, it will be\n   *   validated, and then used for GraphiQL if it is valid.\n   * - ...set to `null`, no introspection request will be triggered and\n   *   GraphiQL will run without a schema.\n   * - ...set to `undefined` or not set at all, an introspection request will\n   *   be triggered. If this request succeeds, a GraphQL schema will be built\n   *   from the returned introspection data, it will be validated, and then\n   *   used for GraphiQL if it is valid. If this request fails, GraphiQL will\n   *   run without a schema.\n   */\n  schema?: GraphQLSchema | IntrospectionQuery | null;\n} & IntrospectionArgs;\n\nexport function SchemaContextProvider(props: SchemaContextProviderProps) {\n  if (!props.fetcher) {\n    throw new TypeError(\n      'The `SchemaContextProvider` component requires a `fetcher` function to be passed as prop.',\n    );\n  }\n\n  const { initialHeaders, headerEditor } = useEditorContext({\n    nonNull: true,\n    caller: SchemaContextProvider,\n  });\n  const [schema, setSchema] = useState<MaybeGraphQLSchema>();\n  const [isFetching, setIsFetching] = useState(false);\n  const [fetchError, setFetchError] = useState<string | null>(null);\n\n  /**\n   * A counter that is incremented each time introspection is triggered or the\n   * schema state is updated.\n   */\n  const counterRef = useRef(0);\n\n  /**\n   * Synchronize prop changes with state\n   */\n  useEffect(() => {\n    setSchema(\n      isSchema(props.schema) ||\n        props.schema === null ||\n        props.schema === undefined\n        ? props.schema\n        : undefined,\n    );\n\n    /**\n     * Increment the counter so that in-flight introspection requests don't\n     * override this change.\n     */\n    counterRef.current++;\n  }, [props.schema]);\n\n  /**\n   * Keep a ref to the current headers\n   */\n  const headersRef = useRef(initialHeaders);\n  useEffect(() => {\n    if (headerEditor) {\n      headersRef.current = headerEditor.getValue();\n    }\n  });\n\n  /**\n   * Get introspection query for settings given via props\n   */\n  const {\n    introspectionQuery,\n    introspectionQueryName,\n    introspectionQuerySansSubscriptions,\n  } = useIntrospectionQuery({\n    inputValueDeprecation: props.inputValueDeprecation,\n    introspectionQueryName: props.introspectionQueryName,\n    schemaDescription: props.schemaDescription,\n  });\n\n  /**\n   * Fetch the schema\n   */\n  const { fetcher, onSchemaChange, dangerouslyAssumeSchemaIsValid, children } =\n    props;\n  const introspect = useCallback(() => {\n    /**\n     * Only introspect if there is no schema provided via props. If the\n     * prop is passed an introspection result, we do continue but skip the\n     * introspection request.\n     */\n    if (isSchema(props.schema) || props.schema === null) {\n      return;\n    }\n\n    const counter = ++counterRef.current;\n\n    const maybeIntrospectionData = props.schema;\n\n    async function fetchIntrospectionData() {\n      if (maybeIntrospectionData) {\n        // No need to introspect if we already have the data\n        return maybeIntrospectionData;\n      }\n\n      const parsedHeaders = parseHeaderString(headersRef.current);\n      if (!parsedHeaders.isValidJSON) {\n        setFetchError('Introspection failed as headers are invalid.');\n        return;\n      }\n\n      const fetcherOpts: FetcherOpts = parsedHeaders.headers\n        ? { headers: parsedHeaders.headers }\n        : {};\n\n      const fetch = fetcherReturnToPromise(\n        fetcher(\n          {\n            query: introspectionQuery,\n            operationName: introspectionQueryName,\n          },\n          fetcherOpts,\n        ),\n      );\n\n      if (!isPromise(fetch)) {\n        setFetchError('Fetcher did not return a Promise for introspection.');\n        return;\n      }\n\n      setIsFetching(true);\n      setFetchError(null);\n\n      let result = await fetch;\n\n      if (\n        typeof result !== 'object' ||\n        result === null ||\n        !('data' in result)\n      ) {\n        // Try the stock introspection query first, falling back on the\n        // sans-subscriptions query for services which do not yet support it.\n        const fetch2 = fetcherReturnToPromise(\n          fetcher(\n            {\n              query: introspectionQuerySansSubscriptions,\n              operationName: introspectionQueryName,\n            },\n            fetcherOpts,\n          ),\n        );\n        if (!isPromise(fetch2)) {\n          throw new Error(\n            'Fetcher did not return a Promise for introspection.',\n          );\n        }\n        result = await fetch2;\n      }\n\n      setIsFetching(false);\n\n      if (result?.data && '__schema' in result.data) {\n        return result.data as IntrospectionQuery;\n      }\n\n      // handle as if it were an error if the fetcher response is not a string or response.data is not present\n      const responseString =\n        typeof result === 'string' ? result : formatResult(result);\n      setFetchError(responseString);\n    }\n\n    fetchIntrospectionData()\n      .then(introspectionData => {\n        /**\n         * Don't continue if another introspection request has been started in\n         * the meantime or if there is no introspection data.\n         */\n        if (counter !== counterRef.current || !introspectionData) {\n          return;\n        }\n\n        try {\n          const newSchema = buildClientSchema(introspectionData);\n          setSchema(newSchema);\n          onSchemaChange?.(newSchema);\n        } catch (error) {\n          setFetchError(formatError(error));\n        }\n      })\n      .catch(error => {\n        /**\n         * Don't continue if another introspection request has been started in\n         * the meantime.\n         */\n        if (counter !== counterRef.current) {\n          return;\n        }\n\n        setFetchError(formatError(error));\n        setIsFetching(false);\n      });\n  }, [\n    fetcher,\n    introspectionQueryName,\n    introspectionQuery,\n    introspectionQuerySansSubscriptions,\n    onSchemaChange,\n    props.schema,\n  ]);\n\n  /**\n   * Trigger introspection automatically\n   */\n  useEffect(() => {\n    introspect();\n  }, [introspect]);\n\n  /**\n   * Trigger introspection manually via short key\n   */\n  useEffect(() => {\n    function triggerIntrospection(event: KeyboardEvent) {\n      if (event.ctrlKey && event.key === 'R') {\n        introspect();\n      }\n    }\n\n    window.addEventListener('keydown', triggerIntrospection);\n    return () => window.removeEventListener('keydown', triggerIntrospection);\n  });\n\n  /**\n   * Derive validation errors from the schema\n   */\n  const validationErrors = useMemo(() => {\n    if (!schema || dangerouslyAssumeSchemaIsValid) {\n      return [];\n    }\n    return validateSchema(schema);\n  }, [schema, dangerouslyAssumeSchemaIsValid]);\n\n  /**\n   * Memoize context value\n   */\n  const value = useMemo(\n    () => ({\n      fetchError,\n      introspect,\n      isFetching,\n      schema,\n      validationErrors,\n    }),\n    [fetchError, introspect, isFetching, schema, validationErrors],\n  );\n\n  return (\n    <SchemaContext.Provider value={value}>{children}</SchemaContext.Provider>\n  );\n}\n\nexport const useSchemaContext = createContextHook(SchemaContext);\n\ntype IntrospectionArgs = {\n  /**\n   * Can be used to set the equally named option for introspecting a GraphQL\n   * server.\n   * @default false\n   * @see {@link https://github.com/graphql/graphql-js/blob/main/src/utilities/getIntrospectionQuery.ts|Utility for creating the introspection query}\n   */\n  inputValueDeprecation?: boolean;\n  /**\n   * Can be used to set a custom operation name for the introspection query.\n   */\n  introspectionQueryName?: string;\n  /**\n   * Can be used to set the equally named option for introspecting a GraphQL\n   * server.\n   * @default false\n   * @see {@link https://github.com/graphql/graphql-js/blob/main/src/utilities/getIntrospectionQuery.ts|Utility for creating the introspection query}\n   */\n  schemaDescription?: boolean;\n};\n\nfunction useIntrospectionQuery({\n  inputValueDeprecation,\n  introspectionQueryName,\n  schemaDescription,\n}: IntrospectionArgs) {\n  return useMemo(() => {\n    const queryName = introspectionQueryName || 'IntrospectionQuery';\n\n    let query = getIntrospectionQuery({\n      inputValueDeprecation,\n      schemaDescription,\n    });\n    if (introspectionQueryName) {\n      query = query.replace('query IntrospectionQuery', `query ${queryName}`);\n    }\n\n    const querySansSubscriptions = query.replace(\n      'subscriptionType { name }',\n      '',\n    );\n\n    return {\n      introspectionQueryName: queryName,\n      introspectionQuery: query,\n      introspectionQuerySansSubscriptions: querySansSubscriptions,\n    };\n  }, [inputValueDeprecation, introspectionQueryName, schemaDescription]);\n}\n\nfunction parseHeaderString(headersString: string | undefined) {\n  let headers: Record<string, unknown> | null = null;\n  let isValidJSON = true;\n\n  try {\n    if (headersString) {\n      headers = JSON.parse(headersString);\n    }\n  } catch {\n    isValidJSON = false;\n  }\n  return { headers, isValidJSON };\n}\n","import type {\n  GraphQLArgument,\n  GraphQLField,\n  GraphQLInputField,\n  GraphQLNamedType,\n} from 'graphql';\nimport {\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isNamedType,\n  isObjectType,\n  isScalarType,\n  isUnionType,\n} from 'graphql';\nimport { ReactNode, useCallback, useEffect, useMemo, useState } from 'react';\nimport { useSchemaContext } from '../schema';\nimport { createContextHook, createNullableContext } from '../utility/context';\n\nexport type ExplorerFieldDef =\n  | GraphQLField<{}, {}, {}>\n  | GraphQLInputField\n  | GraphQLArgument;\n\nexport type ExplorerNavStackItem = {\n  /**\n   * The name of the item.\n   */\n  name: string;\n  /**\n   * The definition object of the item, this can be a named type, a field, an\n   * input field or an argument.\n   */\n  def?: GraphQLNamedType | ExplorerFieldDef;\n};\n\n// There's always at least one item in the nav stack\nexport type ExplorerNavStack = [\n  ExplorerNavStackItem,\n  ...ExplorerNavStackItem[],\n];\n\nconst initialNavStackItem: ExplorerNavStackItem = { name: 'Docs' };\n\nexport type ExplorerContextType = {\n  /**\n   * A stack of navigation items. The last item in the list is the current one.\n   * This list always contains at least one item.\n   */\n  explorerNavStack: ExplorerNavStack;\n  /**\n   * Push an item to the navigation stack.\n   * @param item The item that should be pushed to the stack.\n   */\n  push(item: ExplorerNavStackItem): void;\n  /**\n   * Pop the last item from the navigation stack.\n   */\n  pop(): void;\n  /**\n   * Reset the navigation stack to its initial state, this will remove all but\n   * the initial stack item.\n   */\n  reset(): void;\n};\n\nexport const ExplorerContext =\n  createNullableContext<ExplorerContextType>('ExplorerContext');\n\nexport type ExplorerContextProviderProps = {\n  children: ReactNode;\n};\n\nexport function ExplorerContextProvider(props: ExplorerContextProviderProps) {\n  const { schema, validationErrors } = useSchemaContext({\n    nonNull: true,\n    caller: ExplorerContextProvider,\n  });\n\n  const [navStack, setNavStack] = useState<ExplorerNavStack>([\n    initialNavStackItem,\n  ]);\n\n  const push = useCallback((item: ExplorerNavStackItem) => {\n    setNavStack(currentState => {\n      const lastItem = currentState.at(-1)!;\n      return lastItem.def === item.def\n        ? // Avoid pushing duplicate items\n          currentState\n        : [...currentState, item];\n    });\n  }, []);\n\n  const pop = useCallback(() => {\n    setNavStack(currentState =>\n      currentState.length > 1\n        ? (currentState.slice(0, -1) as ExplorerNavStack)\n        : currentState,\n    );\n  }, []);\n\n  const reset = useCallback(() => {\n    setNavStack(currentState =>\n      currentState.length === 1 ? currentState : [initialNavStackItem],\n    );\n  }, []);\n\n  useEffect(() => {\n    // Whenever the schema changes, we must revalidate/replace the nav stack.\n    if (schema == null || validationErrors.length > 0) {\n      reset();\n    } else {\n      // Replace the nav stack with an updated version using the new schema\n      setNavStack(oldNavStack => {\n        if (oldNavStack.length === 1) {\n          return oldNavStack;\n        }\n        const newNavStack: ExplorerNavStack = [initialNavStackItem];\n        let lastEntity: GraphQLNamedType | GraphQLField<any, any, any> | null =\n          null;\n        for (const item of oldNavStack) {\n          if (item === initialNavStackItem) {\n            // No need to copy the initial item\n            continue;\n          }\n          if (item.def) {\n            // If item.def isn't a named type, it must be a field, inputField, or argument\n            if (isNamedType(item.def)) {\n              // The type needs to be replaced with the new schema type of the same name\n              const newType = schema.getType(item.def.name);\n              if (newType) {\n                newNavStack.push({\n                  name: item.name,\n                  def: newType,\n                });\n                lastEntity = newType;\n              } else {\n                // This type no longer exists; the stack cannot be built beyond here\n                break;\n              }\n            } else if (lastEntity === null) {\n              // We can't have a sub-entity if we have no entity; stop rebuilding the nav stack\n              break;\n            } else if (\n              isObjectType(lastEntity) ||\n              isInputObjectType(lastEntity)\n            ) {\n              // item.def must be a Field / input field; replace with the new field of the same name\n              const field = lastEntity.getFields()[item.name];\n              if (field) {\n                newNavStack.push({\n                  name: item.name,\n                  def: field,\n                });\n              } else {\n                // This field no longer exists; the stack cannot be built beyond here\n                break;\n              }\n            } else if (\n              isScalarType(lastEntity) ||\n              isEnumType(lastEntity) ||\n              isInterfaceType(lastEntity) ||\n              isUnionType(lastEntity)\n            ) {\n              // These don't (currently) have non-type sub-entries; something has gone wrong.\n              // Handle gracefully by discontinuing rebuilding the stack.\n              break;\n            } else {\n              // lastEntity must be a field (because it's not a named type)\n              const field: GraphQLField<any, any, any> = lastEntity;\n              // Thus item.def must be an argument, so find the same named argument in the new schema\n              const arg = field.args.find(a => a.name === item.name);\n              if (arg) {\n                newNavStack.push({\n                  name: item.name,\n                  def: field,\n                });\n              } else {\n                // This argument no longer exists; the stack cannot be built beyond here\n                break;\n              }\n            }\n          } else {\n            lastEntity = null;\n            newNavStack.push(item);\n          }\n        }\n        return newNavStack;\n      });\n    }\n  }, [reset, schema, validationErrors]);\n\n  const value = useMemo<ExplorerContextType>(\n    () => ({ explorerNavStack: navStack, push, pop, reset }),\n    [navStack, push, pop, reset],\n  );\n\n  return (\n    <ExplorerContext.Provider value={value}>\n      {props.children}\n    </ExplorerContext.Provider>\n  );\n}\n\nexport const useExplorerContext = createContextHook(ExplorerContext);\n","import {\n  GraphQLNamedType,\n  GraphQLType,\n  isListType,\n  isNonNullType,\n} from 'graphql';\n\nexport function renderType(\n  type: GraphQLType,\n  renderNamedType: (namedType: GraphQLNamedType) => JSX.Element,\n): JSX.Element {\n  if (isNonNullType(type)) {\n    return <>{renderType(type.ofType, renderNamedType)}!</>;\n  }\n  if (isListType(type)) {\n    return <>[{renderType(type.ofType, renderNamedType)}]</>;\n  }\n  return renderNamedType(type);\n}\n","import { GraphQLType } from 'graphql';\n\nimport { useExplorerContext } from '../context';\nimport { renderType } from './utils';\n\nimport './type-link.css';\n\ntype TypeLinkProps = {\n  /**\n   * The type that should be linked to.\n   */\n  type: GraphQLType;\n};\n\nexport function TypeLink(props: TypeLinkProps) {\n  const { push } = useExplorerContext({ nonNull: true, caller: TypeLink });\n\n  if (!props.type) {\n    return null;\n  }\n\n  return renderType(props.type, namedType => (\n    <a\n      className=\"graphiql-doc-explorer-type-name\"\n      onClick={event => {\n        event.preventDefault();\n        push({ name: namedType.name, def: namedType });\n      }}\n      href=\"#\"\n    >\n      {namedType.name}\n    </a>\n  ));\n}\n","import { GraphQLArgument } from 'graphql';\n\nimport { DefaultValue } from './default-value';\nimport { TypeLink } from './type-link';\n\nimport './argument.css';\nimport { MarkdownContent } from '../../ui';\n\ntype ArgumentProps = {\n  /**\n   * The argument that should be rendered.\n   */\n  arg: GraphQLArgument;\n  /**\n   * Toggle if the default value for the argument is shown (if there is one)\n   * @default false\n   */\n  showDefaultValue?: boolean;\n  /**\n   * Toggle whether to render the whole argument including description and\n   * deprecation reason (`false`) or to just render the argument name, type,\n   * and default value in a single line (`true`).\n   * @default false\n   */\n  inline?: boolean;\n};\n\nexport function Argument({ arg, showDefaultValue, inline }: ArgumentProps) {\n  const definition = (\n    <span>\n      <span className=\"graphiql-doc-explorer-argument-name\">{arg.name}</span>\n      {': '}\n      <TypeLink type={arg.type} />\n      {showDefaultValue !== false && <DefaultValue field={arg} />}\n    </span>\n  );\n  if (inline) {\n    return definition;\n  }\n  return (\n    <div className=\"graphiql-doc-explorer-argument\">\n      {definition}\n      {arg.description ? (\n        <MarkdownContent type=\"description\">{arg.description}</MarkdownContent>\n      ) : null}\n      {arg.deprecationReason ? (\n        <div className=\"graphiql-doc-explorer-argument-deprecation\">\n          <div className=\"graphiql-doc-explorer-argument-deprecation-label\">\n            Deprecated\n          </div>\n          <MarkdownContent type=\"deprecation\">\n            {arg.deprecationReason}\n          </MarkdownContent>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import { MarkdownContent } from '../../ui';\n\nimport './deprecation-reason.css';\n\ntype DeprecationReasonProps = {\n  /**\n   * The deprecation reason as markdown string.\n   */\n  children?: string | null;\n  preview?: boolean;\n};\n\nexport function DeprecationReason(props: DeprecationReasonProps) {\n  return props.children ? (\n    <div className=\"graphiql-doc-explorer-deprecation\">\n      <div className=\"graphiql-doc-explorer-deprecation-label\">Deprecated</div>\n      <MarkdownContent\n        type=\"deprecation\"\n        onlyShowFirstChild={props.preview ?? true}\n      >\n        {props.children}\n      </MarkdownContent>\n    </div>\n  ) : null;\n}\n","import { DirectiveNode } from 'graphql';\n\nimport './directive.css';\n\ntype DirectiveProps = {\n  /**\n   * The directive that should be rendered.\n   */\n  directive: DirectiveNode;\n};\n\nexport function Directive({ directive }: DirectiveProps) {\n  return (\n    <span className=\"graphiql-doc-explorer-directive\">\n      @{directive.name.value}\n    </span>\n  );\n}\n","import { ComponentType, ReactNode } from 'react';\n\nimport {\n  ArgumentIcon,\n  DeprecatedArgumentIcon,\n  DeprecatedEnumValueIcon,\n  DeprecatedFieldIcon,\n  DirectiveIcon,\n  EnumValueIcon,\n  FieldIcon,\n  ImplementsIcon,\n  RootTypeIcon,\n  TypeIcon,\n} from '../../icons';\n\nimport './section.css';\n\ntype ExplorerSectionProps = {\n  children: ReactNode;\n  /**\n   * The title of the section, which will also determine the icon rendered next\n   * to the headline.\n   */\n  title:\n    | 'Root Types'\n    | 'Fields'\n    | 'Deprecated Fields'\n    | 'Type'\n    | 'Arguments'\n    | 'Deprecated Arguments'\n    | 'Implements'\n    | 'Implementations'\n    | 'Possible Types'\n    | 'Enum Values'\n    | 'Deprecated Enum Values'\n    | 'Directives'\n    | 'All Schema Types';\n};\n\nexport function ExplorerSection(props: ExplorerSectionProps) {\n  const Icon = TYPE_TO_ICON[props.title];\n  return (\n    <div>\n      <div className=\"graphiql-doc-explorer-section-title\">\n        <Icon />\n        {props.title}\n      </div>\n      <div className=\"graphiql-doc-explorer-section-content\">\n        {props.children}\n      </div>\n    </div>\n  );\n}\n\nconst TYPE_TO_ICON: Record<ExplorerSectionProps['title'], ComponentType> = {\n  Arguments: ArgumentIcon,\n  'Deprecated Arguments': DeprecatedArgumentIcon,\n  'Deprecated Enum Values': DeprecatedEnumValueIcon,\n  'Deprecated Fields': DeprecatedFieldIcon,\n  Directives: DirectiveIcon,\n  'Enum Values': EnumValueIcon,\n  Fields: FieldIcon,\n  Implements: ImplementsIcon,\n  Implementations: TypeIcon,\n  'Possible Types': TypeIcon,\n  'Root Types': RootTypeIcon,\n  Type: TypeIcon,\n  'All Schema Types': TypeIcon,\n};\n","import { GraphQLArgument } from 'graphql';\nimport { useCallback, useState } from 'react';\n\nimport { Button, MarkdownContent } from '../../ui';\nimport { ExplorerFieldDef } from '../context';\nimport { Argument } from './argument';\nimport { DeprecationReason } from './deprecation-reason';\nimport { Directive } from './directive';\nimport { ExplorerSection } from './section';\nimport { TypeLink } from './type-link';\n\ntype FieldDocumentationProps = {\n  /**\n   * The field or argument that should be rendered.\n   */\n  field: ExplorerFieldDef;\n};\n\nexport function FieldDocumentation(props: FieldDocumentationProps) {\n  return (\n    <>\n      {props.field.description ? (\n        <MarkdownContent type=\"description\">\n          {props.field.description}\n        </MarkdownContent>\n      ) : null}\n      <DeprecationReason preview={false}>\n        {props.field.deprecationReason}\n      </DeprecationReason>\n      <ExplorerSection title=\"Type\">\n        <TypeLink type={props.field.type} />\n      </ExplorerSection>\n      <Arguments field={props.field} />\n      <Directives field={props.field} />\n    </>\n  );\n}\n\nfunction Arguments({ field }: { field: ExplorerFieldDef }) {\n  const [showDeprecated, setShowDeprecated] = useState(false);\n  const handleShowDeprecated = useCallback(() => {\n    setShowDeprecated(true);\n  }, []);\n\n  if (!('args' in field)) {\n    return null;\n  }\n\n  const args: GraphQLArgument[] = [];\n  const deprecatedArgs: GraphQLArgument[] = [];\n  for (const argument of field.args) {\n    if (argument.deprecationReason) {\n      deprecatedArgs.push(argument);\n    } else {\n      args.push(argument);\n    }\n  }\n\n  return (\n    <>\n      {args.length > 0 ? (\n        <ExplorerSection title=\"Arguments\">\n          {args.map(arg => (\n            <Argument key={arg.name} arg={arg} />\n          ))}\n        </ExplorerSection>\n      ) : null}\n      {deprecatedArgs.length > 0 ? (\n        showDeprecated || args.length === 0 ? (\n          <ExplorerSection title=\"Deprecated Arguments\">\n            {deprecatedArgs.map(arg => (\n              <Argument key={arg.name} arg={arg} />\n            ))}\n          </ExplorerSection>\n        ) : (\n          <Button type=\"button\" onClick={handleShowDeprecated}>\n            Show Deprecated Arguments\n          </Button>\n        )\n      ) : null}\n    </>\n  );\n}\n\nfunction Directives({ field }: { field: ExplorerFieldDef }) {\n  const directives = field.astNode?.directives || [];\n  if (!directives || directives.length === 0) {\n    return null;\n  }\n  return (\n    <ExplorerSection title=\"Directives\">\n      {directives.map(directive => (\n        <div key={directive.name.value}>\n          <Directive directive={directive} />\n        </div>\n      ))}\n    </ExplorerSection>\n  );\n}\n","import type { GraphQLSchema } from 'graphql';\n\nimport { MarkdownContent } from '../../ui';\nimport { ExplorerSection } from './section';\nimport { TypeLink } from './type-link';\n\nimport './schema-documentation.css';\n\ntype SchemaDocumentationProps = {\n  /**\n   * The schema that should be rendered.\n   */\n  schema: GraphQLSchema;\n};\n\nexport function SchemaDocumentation(props: SchemaDocumentationProps) {\n  const queryType = props.schema.getQueryType();\n  const mutationType = props.schema.getMutationType?.();\n  const subscriptionType = props.schema.getSubscriptionType?.();\n  const typeMap = props.schema.getTypeMap();\n  const ignoreTypesInAllSchema = [\n    queryType?.name,\n    mutationType?.name,\n    subscriptionType?.name,\n  ];\n\n  return (\n    <>\n      <MarkdownContent type=\"description\">\n        {props.schema.description ||\n          'A GraphQL schema provides a root type for each kind of operation.'}\n      </MarkdownContent>\n      <ExplorerSection title=\"Root Types\">\n        {queryType ? (\n          <div>\n            <span className=\"graphiql-doc-explorer-root-type\">query</span>\n            {': '}\n            <TypeLink type={queryType} />\n          </div>\n        ) : null}\n        {mutationType && (\n          <div>\n            <span className=\"graphiql-doc-explorer-root-type\">mutation</span>\n            {': '}\n            <TypeLink type={mutationType} />\n          </div>\n        )}\n        {subscriptionType && (\n          <div>\n            <span className=\"graphiql-doc-explorer-root-type\">\n              subscription\n            </span>\n            {': '}\n            <TypeLink type={subscriptionType} />\n          </div>\n        )}\n      </ExplorerSection>\n      <ExplorerSection title=\"All Schema Types\">\n        {typeMap && (\n          <div>\n            {Object.values(typeMap).map(type => {\n              if (\n                ignoreTypesInAllSchema.includes(type.name) ||\n                type.name.startsWith('__')\n              ) {\n                return null;\n              }\n\n              return (\n                <div key={type.name}>\n                  <TypeLink type={type} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </ExplorerSection>\n    </>\n  );\n}\n","/**\n * Provided a duration and a function, returns a new function which is called\n * `duration` milliseconds after the last call.\n */\nexport default function debounce<F extends (...args: any[]) => any>(\n  duration: number,\n  fn: F,\n) {\n  let timeout: number | null;\n  return function (...args) {\n    if (timeout) {\n      window.clearTimeout(timeout);\n    }\n    timeout = window.setTimeout(() => {\n      timeout = null;\n      fn(...args);\n    }, duration);\n  } as F;\n}\n","import {\n  GraphQLArgument,\n  GraphQLField,\n  GraphQLInputField,\n  GraphQLNamedType,\n  isInputObjectType,\n  isInterfaceType,\n  isObjectType,\n} from 'graphql';\nimport {\n  FocusEventHandler,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { Combobox } from '@headlessui/react';\nimport { MagnifyingGlassIcon } from '../../icons';\nimport { useSchemaContext } from '../../schema';\nimport debounce from '../../utility/debounce';\n\nimport { useExplorerContext } from '../context';\n\nimport './search.css';\nimport { renderType } from './utils';\n\nexport function Search() {\n  const { explorerNavStack, push } = useExplorerContext({\n    nonNull: true,\n    caller: Search,\n  });\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const getSearchResults = useSearchResults();\n  const [searchValue, setSearchValue] = useState('');\n  const [results, setResults] = useState(getSearchResults(searchValue));\n  const debouncedGetSearchResults = useMemo(\n    () =>\n      debounce(200, (search: string) => {\n        setResults(getSearchResults(search));\n      }),\n    [getSearchResults],\n  );\n  useEffect(() => {\n    debouncedGetSearchResults(searchValue);\n  }, [debouncedGetSearchResults, searchValue]);\n\n  useEffect(() => {\n    function handleKeyDown(event: KeyboardEvent) {\n      if (event.metaKey && event.key === 'k') {\n        inputRef.current?.focus();\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  const navItem = explorerNavStack.at(-1)!;\n\n  const onSelect = useCallback(\n    (def: TypeMatch | FieldMatch) => {\n      push(\n        'field' in def\n          ? { name: def.field.name, def: def.field }\n          : { name: def.type.name, def: def.type },\n      );\n    },\n    [push],\n  );\n  const isFocused = useRef(false);\n  const handleFocus: FocusEventHandler = useCallback(e => {\n    isFocused.current = e.type === 'focus';\n  }, []);\n\n  const shouldSearchBoxAppear =\n    explorerNavStack.length === 1 ||\n    isObjectType(navItem.def) ||\n    isInterfaceType(navItem.def) ||\n    isInputObjectType(navItem.def);\n  if (!shouldSearchBoxAppear) {\n    return null;\n  }\n\n  return (\n    <Combobox\n      as=\"div\"\n      className=\"graphiql-doc-explorer-search\"\n      onChange={onSelect}\n      data-state={isFocused ? undefined : 'idle'}\n      aria-label={`Search ${navItem.name}...`}\n    >\n      <div\n        className=\"graphiql-doc-explorer-search-input\"\n        onClick={() => {\n          inputRef.current?.focus();\n        }}\n      >\n        <MagnifyingGlassIcon />\n        <Combobox.Input\n          autoComplete=\"off\"\n          onFocus={handleFocus}\n          onBlur={handleFocus}\n          onChange={event => setSearchValue(event.target.value)}\n          placeholder=\"&#x2318; K\"\n          ref={inputRef}\n          value={searchValue}\n          data-cy=\"doc-explorer-input\"\n        />\n      </div>\n\n      {/* display on focus */}\n      {isFocused.current && (\n        <Combobox.Options data-cy=\"doc-explorer-list\">\n          {results.within.length +\n            results.types.length +\n            results.fields.length ===\n          0 ? (\n            <li className=\"graphiql-doc-explorer-search-empty\">\n              No results found\n            </li>\n          ) : (\n            results.within.map((result, i) => (\n              <Combobox.Option\n                key={`within-${i}`}\n                value={result}\n                data-cy=\"doc-explorer-option\"\n              >\n                <Field field={result.field} argument={result.argument} />\n              </Combobox.Option>\n            ))\n          )}\n          {results.within.length > 0 &&\n          results.types.length + results.fields.length > 0 ? (\n            <div className=\"graphiql-doc-explorer-search-divider\">\n              Other results\n            </div>\n          ) : null}\n          {results.types.map((result, i) => (\n            <Combobox.Option\n              key={`type-${i}`}\n              value={result}\n              data-cy=\"doc-explorer-option\"\n            >\n              <Type type={result.type} />\n            </Combobox.Option>\n          ))}\n          {results.fields.map((result, i) => (\n            <Combobox.Option\n              key={`field-${i}`}\n              value={result}\n              data-cy=\"doc-explorer-option\"\n            >\n              <Type type={result.type} />.\n              <Field field={result.field} argument={result.argument} />\n            </Combobox.Option>\n          ))}\n        </Combobox.Options>\n      )}\n    </Combobox>\n  );\n}\n\ntype TypeMatch = { type: GraphQLNamedType };\n\ntype FieldMatch = {\n  type: GraphQLNamedType;\n  field: GraphQLField<unknown, unknown> | GraphQLInputField;\n  argument?: GraphQLArgument;\n};\n\nexport function useSearchResults(caller?: Function) {\n  const { explorerNavStack } = useExplorerContext({\n    nonNull: true,\n    caller: caller || useSearchResults,\n  });\n  const { schema } = useSchemaContext({\n    nonNull: true,\n    caller: caller || useSearchResults,\n  });\n\n  const navItem = explorerNavStack.at(-1)!;\n\n  return useCallback(\n    (searchValue: string) => {\n      const matches: {\n        within: FieldMatch[];\n        types: TypeMatch[];\n        fields: FieldMatch[];\n      } = {\n        within: [],\n        types: [],\n        fields: [],\n      };\n\n      if (!schema) {\n        return matches;\n      }\n\n      const withinType = navItem.def;\n\n      const typeMap = schema.getTypeMap();\n      let typeNames = Object.keys(typeMap);\n\n      // Move the within type name to be the first searched.\n      if (withinType) {\n        typeNames = typeNames.filter(n => n !== withinType.name);\n        typeNames.unshift(withinType.name);\n      }\n      for (const typeName of typeNames) {\n        if (\n          matches.within.length +\n            matches.types.length +\n            matches.fields.length >=\n          100\n        ) {\n          break;\n        }\n\n        const type = typeMap[typeName];\n        if (withinType !== type && isMatch(typeName, searchValue)) {\n          matches.types.push({ type });\n        }\n\n        if (\n          !isObjectType(type) &&\n          !isInterfaceType(type) &&\n          !isInputObjectType(type)\n        ) {\n          continue;\n        }\n\n        const fields = type.getFields();\n        for (const fieldName in fields) {\n          const field = fields[fieldName];\n          let matchingArgs: GraphQLArgument[] | undefined;\n\n          if (!isMatch(fieldName, searchValue)) {\n            if ('args' in field) {\n              matchingArgs = field.args.filter(arg =>\n                isMatch(arg.name, searchValue),\n              );\n              if (matchingArgs.length === 0) {\n                continue;\n              }\n            } else {\n              continue;\n            }\n          }\n\n          matches[withinType === type ? 'within' : 'fields'].push(\n            ...(matchingArgs\n              ? matchingArgs.map(argument => ({ type, field, argument }))\n              : [{ type, field }]),\n          );\n        }\n      }\n\n      return matches;\n    },\n    [navItem.def, schema],\n  );\n}\n\nfunction isMatch(sourceText: string, searchValue: string): boolean {\n  try {\n    const escaped = searchValue.replaceAll(/[^_0-9A-Za-z]/g, ch => '\\\\' + ch);\n    return sourceText.search(new RegExp(escaped, 'i')) !== -1;\n  } catch {\n    return sourceText.toLowerCase().includes(searchValue.toLowerCase());\n  }\n}\n\ntype TypeProps = { type: GraphQLNamedType };\n\nfunction Type(props: TypeProps) {\n  return (\n    <span className=\"graphiql-doc-explorer-search-type\">{props.type.name}</span>\n  );\n}\n\ntype FieldProps = {\n  field: GraphQLField<unknown, unknown> | GraphQLInputField;\n  argument?: GraphQLArgument;\n};\n\nfunction Field({ field, argument }: FieldProps) {\n  return (\n    <>\n      <span className=\"graphiql-doc-explorer-search-field\">{field.name}</span>\n      {argument ? (\n        <>\n          (\n          <span className=\"graphiql-doc-explorer-search-argument\">\n            {argument.name}\n          </span>\n          :{' '}\n          {renderType(argument.type, namedType => (\n            <Type type={namedType} />\n          ))}\n          )\n        </>\n      ) : null}\n    </>\n  );\n}\n","import { ExplorerFieldDef, useExplorerContext } from '../context';\n\nimport './field-link.css';\n\ntype FieldLinkProps = {\n  /**\n   * The field or argument that should be linked to.\n   */\n  field: ExplorerFieldDef;\n};\n\nexport function FieldLink(props: FieldLinkProps) {\n  const { push } = useExplorerContext({ nonNull: true });\n\n  return (\n    <a\n      className=\"graphiql-doc-explorer-field-name\"\n      onClick={event => {\n        event.preventDefault();\n        push({ name: props.field.name, def: props.field });\n      }}\n      href=\"#\"\n    >\n      {props.field.name}\n    </a>\n  );\n}\n","import {\n  GraphQLEnumValue,\n  GraphQLNamedType,\n  isAbstractType,\n  isEnumType,\n  isInputObjectType,\n  isInterfaceType,\n  isNamedType,\n  isObjectType,\n} from 'graphql';\nimport { useCallback, useState } from 'react';\n\nimport { useSchemaContext } from '../../schema';\nimport { Button, MarkdownContent } from '../../ui';\nimport { ExplorerFieldDef } from '../context';\nimport { Argument } from './argument';\nimport { DefaultValue } from './default-value';\nimport { DeprecationReason } from './deprecation-reason';\nimport { FieldLink } from './field-link';\nimport { ExplorerSection } from './section';\nimport { TypeLink } from './type-link';\n\nimport './type-documentation.css';\n\ntype TypeDocumentationProps = {\n  /**\n   * The type that should be rendered.\n   */\n  type: GraphQLNamedType;\n};\n\nexport function TypeDocumentation(props: TypeDocumentationProps) {\n  return isNamedType(props.type) ? (\n    <>\n      {props.type.description ? (\n        <MarkdownContent type=\"description\">\n          {props.type.description}\n        </MarkdownContent>\n      ) : null}\n      <ImplementsInterfaces type={props.type} />\n      <Fields type={props.type} />\n      <EnumValues type={props.type} />\n      <PossibleTypes type={props.type} />\n    </>\n  ) : null;\n}\n\nfunction ImplementsInterfaces({ type }: { type: GraphQLNamedType }) {\n  if (!isObjectType(type)) {\n    return null;\n  }\n  const interfaces = type.getInterfaces();\n  return interfaces.length > 0 ? (\n    <ExplorerSection title=\"Implements\">\n      {type.getInterfaces().map(implementedInterface => (\n        <div key={implementedInterface.name}>\n          <TypeLink type={implementedInterface} />\n        </div>\n      ))}\n    </ExplorerSection>\n  ) : null;\n}\n\nfunction Fields({ type }: { type: GraphQLNamedType }) {\n  const [showDeprecated, setShowDeprecated] = useState(false);\n  const handleShowDeprecated = useCallback(() => {\n    setShowDeprecated(true);\n  }, []);\n\n  if (\n    !isObjectType(type) &&\n    !isInterfaceType(type) &&\n    !isInputObjectType(type)\n  ) {\n    return null;\n  }\n\n  const fieldMap = type.getFields();\n\n  const fields: ExplorerFieldDef[] = [];\n  const deprecatedFields: ExplorerFieldDef[] = [];\n\n  for (const field of Object.keys(fieldMap).map(name => fieldMap[name])) {\n    if (field.deprecationReason) {\n      deprecatedFields.push(field);\n    } else {\n      fields.push(field);\n    }\n  }\n\n  return (\n    <>\n      {fields.length > 0 ? (\n        <ExplorerSection title=\"Fields\">\n          {fields.map(field => (\n            <Field key={field.name} field={field} />\n          ))}\n        </ExplorerSection>\n      ) : null}\n      {deprecatedFields.length > 0 ? (\n        showDeprecated || fields.length === 0 ? (\n          <ExplorerSection title=\"Deprecated Fields\">\n            {deprecatedFields.map(field => (\n              <Field key={field.name} field={field} />\n            ))}\n          </ExplorerSection>\n        ) : (\n          <Button type=\"button\" onClick={handleShowDeprecated}>\n            Show Deprecated Fields\n          </Button>\n        )\n      ) : null}\n    </>\n  );\n}\n\nfunction Field({ field }: { field: ExplorerFieldDef }) {\n  const args =\n    'args' in field ? field.args.filter(arg => !arg.deprecationReason) : [];\n  return (\n    <div className=\"graphiql-doc-explorer-item\">\n      <div>\n        <FieldLink field={field} />\n        {args.length > 0 ? (\n          <>\n            (\n            <span>\n              {args.map(arg =>\n                args.length === 1 ? (\n                  <Argument key={arg.name} arg={arg} inline />\n                ) : (\n                  <div\n                    key={arg.name}\n                    className=\"graphiql-doc-explorer-argument-multiple\"\n                  >\n                    <Argument arg={arg} inline />\n                  </div>\n                ),\n              )}\n            </span>\n            )\n          </>\n        ) : null}\n        {': '}\n        <TypeLink type={field.type} />\n        <DefaultValue field={field} />\n      </div>\n      {field.description ? (\n        <MarkdownContent type=\"description\" onlyShowFirstChild>\n          {field.description}\n        </MarkdownContent>\n      ) : null}\n      <DeprecationReason>{field.deprecationReason}</DeprecationReason>\n    </div>\n  );\n}\n\nfunction EnumValues({ type }: { type: GraphQLNamedType }) {\n  const [showDeprecated, setShowDeprecated] = useState(false);\n  const handleShowDeprecated = useCallback(() => {\n    setShowDeprecated(true);\n  }, []);\n\n  if (!isEnumType(type)) {\n    return null;\n  }\n\n  const values: GraphQLEnumValue[] = [];\n  const deprecatedValues: GraphQLEnumValue[] = [];\n  for (const value of type.getValues()) {\n    if (value.deprecationReason) {\n      deprecatedValues.push(value);\n    } else {\n      values.push(value);\n    }\n  }\n\n  return (\n    <>\n      {values.length > 0 ? (\n        <ExplorerSection title=\"Enum Values\">\n          {values.map(value => (\n            <EnumValue key={value.name} value={value} />\n          ))}\n        </ExplorerSection>\n      ) : null}\n      {deprecatedValues.length > 0 ? (\n        showDeprecated || values.length === 0 ? (\n          <ExplorerSection title=\"Deprecated Enum Values\">\n            {deprecatedValues.map(value => (\n              <EnumValue key={value.name} value={value} />\n            ))}\n          </ExplorerSection>\n        ) : (\n          <Button type=\"button\" onClick={handleShowDeprecated}>\n            Show Deprecated Values\n          </Button>\n        )\n      ) : null}\n    </>\n  );\n}\n\nfunction EnumValue({ value }: { value: GraphQLEnumValue }) {\n  return (\n    <div className=\"graphiql-doc-explorer-item\">\n      <div className=\"graphiql-doc-explorer-enum-value\">{value.name}</div>\n      {value.description ? (\n        <MarkdownContent type=\"description\">\n          {value.description}\n        </MarkdownContent>\n      ) : null}\n      {value.deprecationReason ? (\n        <MarkdownContent type=\"deprecation\">\n          {value.deprecationReason}\n        </MarkdownContent>\n      ) : null}\n    </div>\n  );\n}\n\nfunction PossibleTypes({ type }: { type: GraphQLNamedType }) {\n  const { schema } = useSchemaContext({ nonNull: true });\n  if (!schema || !isAbstractType(type)) {\n    return null;\n  }\n  return (\n    <ExplorerSection\n      title={isInterfaceType(type) ? 'Implementations' : 'Possible Types'}\n    >\n      {schema.getPossibleTypes(type).map(possibleType => (\n        <div key={possibleType.name}>\n          <TypeLink type={possibleType} />\n        </div>\n      ))}\n    </ExplorerSection>\n  );\n}\n","import { isType } from 'graphql';\nimport { ReactNode } from 'react';\n\nimport { ChevronLeftIcon } from '../../icons';\nimport { useSchemaContext } from '../../schema';\nimport { Spinner } from '../../ui';\nimport { useExplorerContext } from '../context';\nimport { FieldDocumentation } from './field-documentation';\nimport { SchemaDocumentation } from './schema-documentation';\nimport { Search } from './search';\nimport { TypeDocumentation } from './type-documentation';\n\nimport './doc-explorer.css';\n\nexport function DocExplorer() {\n  const { fetchError, isFetching, schema, validationErrors } = useSchemaContext(\n    { nonNull: true, caller: DocExplorer },\n  );\n  const { explorerNavStack, pop } = useExplorerContext({\n    nonNull: true,\n    caller: DocExplorer,\n  });\n\n  const navItem = explorerNavStack.at(-1)!;\n\n  let content: ReactNode = null;\n  if (fetchError) {\n    content = (\n      <div className=\"graphiql-doc-explorer-error\">Error fetching schema</div>\n    );\n  } else if (validationErrors.length > 0) {\n    content = (\n      <div className=\"graphiql-doc-explorer-error\">\n        Schema is invalid: {validationErrors[0].message}\n      </div>\n    );\n  } else if (isFetching) {\n    // Schema is undefined when it is being loaded via introspection.\n    content = <Spinner />;\n  } else if (!schema) {\n    // Schema is null when it explicitly does not exist, typically due to\n    // an error during introspection.\n    content = (\n      <div className=\"graphiql-doc-explorer-error\">\n        No GraphQL schema available\n      </div>\n    );\n  } else if (explorerNavStack.length === 1) {\n    content = <SchemaDocumentation schema={schema} />;\n  } else if (isType(navItem.def)) {\n    content = <TypeDocumentation type={navItem.def} />;\n  } else if (navItem.def) {\n    content = <FieldDocumentation field={navItem.def} />;\n  }\n\n  let prevName;\n  if (explorerNavStack.length > 1) {\n    prevName = explorerNavStack.at(-2)!.name;\n  }\n\n  return (\n    <section\n      className=\"graphiql-doc-explorer\"\n      aria-label=\"Documentation Explorer\"\n    >\n      <div className=\"graphiql-doc-explorer-header\">\n        <div className=\"graphiql-doc-explorer-header-content\">\n          {prevName && (\n            <a\n              href=\"#\"\n              className=\"graphiql-doc-explorer-back\"\n              onClick={event => {\n                event.preventDefault();\n                pop();\n              }}\n              aria-label={`Go back to ${prevName}`}\n            >\n              <ChevronLeftIcon />\n              {prevName}\n            </a>\n          )}\n          <div className=\"graphiql-doc-explorer-title\">{navItem.name}</div>\n        </div>\n        <Search key={navItem.name} />\n      </div>\n      <div className=\"graphiql-doc-explorer-content\">{content}</div>\n    </section>\n  );\n}\n","import {\n  ComponentType,\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from 'react';\nimport { DocExplorer, useExplorerContext } from './explorer';\nimport { History, useHistoryContext } from './history';\nimport { DocsFilledIcon, DocsIcon, HistoryIcon } from './icons';\nimport { useStorageContext } from './storage';\nimport { createContextHook, createNullableContext } from './utility/context';\n\nexport type GraphiQLPlugin = {\n  /**\n   * A component that renders content into the plugin pane.\n   */\n  content: ComponentType;\n  /**\n   * A component that renders an icon that will be shown inside a button that\n   * toggles the plugin visibility.\n   */\n  icon: ComponentType;\n  /**\n   * The unique title of the plugin. If two plugins are present with the same\n   * title the provider component will throw an error.\n   */\n  title: string;\n};\n\nexport const DOC_EXPLORER_PLUGIN: GraphiQLPlugin = {\n  title: 'Documentation Explorer',\n  icon: function Icon() {\n    const pluginContext = usePluginContext();\n    return pluginContext?.visiblePlugin === DOC_EXPLORER_PLUGIN ? (\n      <DocsFilledIcon />\n    ) : (\n      <DocsIcon />\n    );\n  },\n  content: DocExplorer,\n};\nexport const HISTORY_PLUGIN: GraphiQLPlugin = {\n  title: 'History',\n  icon: HistoryIcon,\n  content: History,\n};\n\nexport type PluginContextType = {\n  /**\n   * A list of all current plugins, including the built-in ones (the doc\n   * explorer and the history).\n   */\n  plugins: GraphiQLPlugin[];\n  /**\n   * Defines the plugin which is currently visible.\n   * @param plugin The plugin that should become visible. You can either pass\n   * the plugin object (has to be referentially equal to the one passed as\n   * prop) or the plugin title as string. If `null` is passed, no plugin will\n   * be visible.\n   */\n  setVisiblePlugin(plugin: GraphiQLPlugin | string | null): void;\n  /**\n   * The plugin which is currently visible.\n   */\n  visiblePlugin: GraphiQLPlugin | null;\n};\n\nexport const PluginContext =\n  createNullableContext<PluginContextType>('PluginContext');\n\nexport type PluginContextProviderProps = {\n  children: ReactNode;\n  /**\n   * Invoked when the visibility state of any plugin changes.\n   * @param visiblePlugin The plugin object that is now visible. If no plugin\n   * is visible, the function will be invoked with `null`.\n   */\n  onTogglePluginVisibility?(visiblePlugin: GraphiQLPlugin | null): void;\n  /**\n   * This props accepts a list of plugins that will be shown in addition to the\n   * built-in ones (the doc explorer and the history).\n   */\n  plugins?: GraphiQLPlugin[];\n  /**\n   * This prop can be used to set the visibility state of plugins. Every time\n   * this prop changes, the visibility state will be overridden. Note that the\n   * visibility state can change in between these updates, for example by\n   * calling the `setVisiblePlugin` function provided by the context.\n   */\n  visiblePlugin?: GraphiQLPlugin | string;\n};\n\nexport function PluginContextProvider(props: PluginContextProviderProps) {\n  const storage = useStorageContext();\n  const explorerContext = useExplorerContext();\n  const historyContext = useHistoryContext();\n\n  const hasExplorerContext = Boolean(explorerContext);\n  const hasHistoryContext = Boolean(historyContext);\n  const plugins = useMemo(() => {\n    const pluginList: GraphiQLPlugin[] = [];\n    const pluginTitles: Record<string, true> = {};\n\n    if (hasExplorerContext) {\n      pluginList.push(DOC_EXPLORER_PLUGIN);\n      pluginTitles[DOC_EXPLORER_PLUGIN.title] = true;\n    }\n    if (hasHistoryContext) {\n      pluginList.push(HISTORY_PLUGIN);\n      pluginTitles[HISTORY_PLUGIN.title] = true;\n    }\n\n    for (const plugin of props.plugins || []) {\n      if (typeof plugin.title !== 'string' || !plugin.title) {\n        throw new Error('All GraphiQL plugins must have a unique title');\n      }\n      if (pluginTitles[plugin.title]) {\n        throw new Error(\n          `All GraphiQL plugins must have a unique title, found two plugins with the title '${plugin.title}'`,\n        );\n      } else {\n        pluginList.push(plugin);\n        pluginTitles[plugin.title] = true;\n      }\n    }\n\n    return pluginList;\n  }, [hasExplorerContext, hasHistoryContext, props.plugins]);\n\n  const [visiblePlugin, internalSetVisiblePlugin] =\n    useState<GraphiQLPlugin | null>(() => {\n      const storedValue = storage?.get(STORAGE_KEY);\n      const pluginForStoredValue = plugins.find(\n        plugin => plugin.title === storedValue,\n      );\n      if (pluginForStoredValue) {\n        return pluginForStoredValue;\n      }\n      if (storedValue) {\n        storage?.set(STORAGE_KEY, '');\n      }\n\n      if (!props.visiblePlugin) {\n        return null;\n      }\n\n      return (\n        plugins.find(\n          plugin =>\n            (typeof props.visiblePlugin === 'string'\n              ? plugin.title\n              : plugin) === props.visiblePlugin,\n        ) || null\n      );\n    });\n\n  const { onTogglePluginVisibility, children } = props;\n  const setVisiblePlugin = useCallback<PluginContextType['setVisiblePlugin']>(\n    plugin => {\n      const newVisiblePlugin = plugin\n        ? plugins.find(\n            p => (typeof plugin === 'string' ? p.title : p) === plugin,\n          ) || null\n        : null;\n      internalSetVisiblePlugin(current => {\n        if (newVisiblePlugin === current) {\n          return current;\n        }\n        onTogglePluginVisibility?.(newVisiblePlugin);\n        return newVisiblePlugin;\n      });\n    },\n    [onTogglePluginVisibility, plugins],\n  );\n\n  useEffect(() => {\n    if (props.visiblePlugin) {\n      setVisiblePlugin(props.visiblePlugin);\n    }\n  }, [plugins, props.visiblePlugin, setVisiblePlugin]);\n\n  const value = useMemo<PluginContextType>(\n    () => ({ plugins, setVisiblePlugin, visiblePlugin }),\n    [plugins, setVisiblePlugin, visiblePlugin],\n  );\n\n  return (\n    <PluginContext.Provider value={value}>{children}</PluginContext.Provider>\n  );\n}\n\nexport const usePluginContext = createContextHook(PluginContext);\n\nconst STORAGE_KEY = 'visiblePlugin';\n","import type { Editor, EditorChange } from 'codemirror';\nimport type { IHint } from 'codemirror-graphql/hint';\nimport {\n  GraphQLNamedType,\n  GraphQLSchema,\n  GraphQLType,\n  isListType,\n  isNonNullType,\n} from 'graphql';\n\nimport { ExplorerContextType } from '../explorer';\nimport { markdown } from '../markdown';\nimport { DOC_EXPLORER_PLUGIN, PluginContextType } from '../plugin';\nimport { importCodeMirror } from './common';\n\n/**\n * Render a custom UI for CodeMirror's hint which includes additional info\n * about the type and description for the selected context.\n */\nexport function onHasCompletion(\n  _cm: Editor,\n  data: EditorChange | undefined,\n  schema: GraphQLSchema | null | undefined,\n  explorer: ExplorerContextType | null,\n  plugin: PluginContextType | null,\n  callback?: (type: GraphQLNamedType) => void,\n): void {\n  void importCodeMirror([], { useCommonAddons: false }).then(CodeMirror => {\n    let information: HTMLDivElement | null;\n    let fieldName: HTMLSpanElement | null;\n    let typeNamePill: HTMLSpanElement | null;\n    let typeNamePrefix: HTMLSpanElement | null;\n    let typeName: HTMLAnchorElement | null;\n    let typeNameSuffix: HTMLSpanElement | null;\n    let description: HTMLDivElement | null;\n    let deprecation: HTMLDivElement | null;\n    let deprecationReason: HTMLDivElement | null;\n    CodeMirror.on(\n      data,\n      'select',\n      // @ts-expect-error\n      (ctx: IHint, el: HTMLDivElement) => {\n        // Only the first time (usually when the hint UI is first displayed)\n        // do we create the information nodes.\n        if (!information) {\n          const hintsUl = el.parentNode as HTMLUListElement & ParentNode;\n\n          // This \"information\" node will contain the additional info about the\n          // highlighted typeahead option.\n          information = document.createElement('div');\n          information.className = 'CodeMirror-hint-information';\n          hintsUl.append(information);\n\n          const header = document.createElement('header');\n          header.className = 'CodeMirror-hint-information-header';\n          information.append(header);\n\n          fieldName = document.createElement('span');\n          fieldName.className = 'CodeMirror-hint-information-field-name';\n          header.append(fieldName);\n\n          typeNamePill = document.createElement('span');\n          typeNamePill.className = 'CodeMirror-hint-information-type-name-pill';\n          header.append(typeNamePill);\n\n          typeNamePrefix = document.createElement('span');\n          typeNamePill.append(typeNamePrefix);\n\n          typeName = document.createElement('a');\n          typeName.className = 'CodeMirror-hint-information-type-name';\n          typeName.href = 'javascript:void 0'; // eslint-disable-line no-script-url\n          typeName.addEventListener('click', onClickHintInformation);\n          typeNamePill.append(typeName);\n\n          typeNameSuffix = document.createElement('span');\n          typeNamePill.append(typeNameSuffix);\n\n          description = document.createElement('div');\n          description.className = 'CodeMirror-hint-information-description';\n          information.append(description);\n\n          deprecation = document.createElement('div');\n          deprecation.className = 'CodeMirror-hint-information-deprecation';\n          information.append(deprecation);\n\n          const deprecationLabel = document.createElement('span');\n          deprecationLabel.className =\n            'CodeMirror-hint-information-deprecation-label';\n          deprecationLabel.textContent = 'Deprecated';\n          deprecation.append(deprecationLabel);\n\n          deprecationReason = document.createElement('div');\n          deprecationReason.className =\n            'CodeMirror-hint-information-deprecation-reason';\n          deprecation.append(deprecationReason);\n\n          /**\n           * This is a bit hacky: By default, codemirror renders all hints\n           * inside a single container element. The only possibility to add\n           * something into this list is to add to the container element (which\n           * is a `ul` element).\n           *\n           * However, in the UI we want to have a two-column layout for the\n           * hints:\n           * - The first column contains the actual hints, i.e. the things that\n           *   are returned from the `hint` module from `codemirror-graphql`.\n           * - The second column contains the description and optionally the\n           *   deprecation reason for the given field.\n           *\n           * We solve this with a CSS grid layout that has an auto number of\n           * rows and two columns. All the hints go in the first column, and\n           * the description container (which is the `information` element\n           * here) goes in the second column. To make the hints scrollable, the\n           * container element has `overflow-y: auto`.\n           *\n           * Now here comes the crux: When scrolling down the list of hints we\n           * still want the description to be \"sticky\" to the top. We can't\n           * solve this with `position: sticky` as the container element itself\n           * is already positioned absolutely.\n           *\n           * There are two things to the solution here:\n           * - We add a `max-height` and another `overflow: auto` to the\n           *   `information` element. This makes it scrollable on its own\n           *   if the description or deprecation reason is higher that the\n           *   container element.\n           * - We add an `onscroll` handler to the container element. When the\n           *   user scrolls here we dynamically adjust the top padding and the\n           *   max-height of the information element such that it looks like\n           *   it's sticking to the top. (Since the `information` element has\n           *   some padding by default we also have to make sure to use this\n           *   as baseline for the total padding.)\n           *   Note that we need to also adjust the max-height because we\n           *   default to using `border-box` for box sizing. When using\n           *   `content-box` this would not be necessary.\n           */\n          const defaultInformationPadding =\n            parseInt(\n              window\n                .getComputedStyle(information)\n                .paddingBottom.replace(/px$/, ''),\n              10,\n            ) || 0;\n          const defaultInformationMaxHeight =\n            parseInt(\n              window.getComputedStyle(information).maxHeight.replace(/px$/, ''),\n              10,\n            ) || 0;\n          const handleScroll = () => {\n            if (information) {\n              information.style.paddingTop =\n                hintsUl.scrollTop + defaultInformationPadding + 'px';\n              information.style.maxHeight =\n                hintsUl.scrollTop + defaultInformationMaxHeight + 'px';\n            }\n          };\n          hintsUl.addEventListener('scroll', handleScroll);\n\n          // When CodeMirror attempts to remove the hint UI, we detect that it was\n          // removed and in turn remove the information nodes.\n          let onRemoveFn: EventListener | null;\n          hintsUl.addEventListener(\n            'DOMNodeRemoved',\n            (onRemoveFn = (event: Event) => {\n              if (event.target !== hintsUl) {\n                return;\n              }\n              hintsUl.removeEventListener('scroll', handleScroll);\n              hintsUl.removeEventListener('DOMNodeRemoved', onRemoveFn);\n              if (information) {\n                information.removeEventListener(\n                  'click',\n                  onClickHintInformation,\n                );\n              }\n              information = null;\n              fieldName = null;\n              typeNamePill = null;\n              typeNamePrefix = null;\n              typeName = null;\n              typeNameSuffix = null;\n              description = null;\n              deprecation = null;\n              deprecationReason = null;\n              onRemoveFn = null;\n            }),\n          );\n        }\n\n        if (fieldName) {\n          fieldName.textContent = ctx.text;\n        }\n\n        if (typeNamePill && typeNamePrefix && typeName && typeNameSuffix) {\n          if (ctx.type) {\n            typeNamePill.style.display = 'inline';\n\n            const renderType = (type: GraphQLType) => {\n              if (isNonNullType(type)) {\n                typeNameSuffix!.textContent = '!' + typeNameSuffix!.textContent;\n                renderType(type.ofType);\n              } else if (isListType(type)) {\n                typeNamePrefix!.textContent += '[';\n                typeNameSuffix!.textContent = ']' + typeNameSuffix!.textContent;\n                renderType(type.ofType);\n              } else {\n                typeName!.textContent = type.name;\n              }\n            };\n\n            typeNamePrefix.textContent = '';\n            typeNameSuffix.textContent = '';\n            renderType(ctx.type);\n          } else {\n            typeNamePrefix.textContent = '';\n            typeName.textContent = '';\n            typeNameSuffix.textContent = '';\n            typeNamePill.style.display = 'none';\n          }\n        }\n\n        if (description) {\n          if (ctx.description) {\n            description.style.display = 'block';\n            description.innerHTML = markdown.render(ctx.description);\n          } else {\n            description.style.display = 'none';\n            description.innerHTML = '';\n          }\n        }\n\n        if (deprecation && deprecationReason) {\n          if (ctx.deprecationReason) {\n            deprecation.style.display = 'block';\n            deprecationReason.innerHTML = markdown.render(\n              ctx.deprecationReason,\n            );\n          } else {\n            deprecation.style.display = 'none';\n            deprecationReason.innerHTML = '';\n          }\n        }\n      },\n    );\n  });\n\n  function onClickHintInformation(event: Event) {\n    if (\n      !schema ||\n      !explorer ||\n      !plugin ||\n      !(event.currentTarget instanceof HTMLElement)\n    ) {\n      return;\n    }\n\n    const typeName = event.currentTarget.textContent || '';\n    const type = schema.getType(typeName);\n    if (type) {\n      plugin.setVisiblePlugin(DOC_EXPLORER_PLUGIN);\n      explorer.push({ name: type.name, def: type });\n      callback?.(type);\n    }\n  }\n}\n","import { fillLeafs, GetDefaultFieldNamesFn, mergeAst } from '@graphiql/toolkit';\nimport type { EditorChange, EditorConfiguration } from 'codemirror';\nimport type { SchemaReference } from 'codemirror-graphql/utils/SchemaReference';\nimport copyToClipboard from 'copy-to-clipboard';\nimport { parse, print } from 'graphql';\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react';\n\nimport { useExplorerContext } from '../explorer';\nimport { usePluginContext } from '../plugin';\nimport { useSchemaContext } from '../schema';\nimport { useStorageContext } from '../storage';\nimport debounce from '../utility/debounce';\nimport { onHasCompletion } from './completion';\nimport { useEditorContext } from './context';\nimport { CodeMirrorEditor } from './types';\n\nexport function useSynchronizeValue(\n  editor: CodeMirrorEditor | null,\n  value: string | undefined,\n) {\n  useEffect(() => {\n    if (editor && typeof value === 'string' && value !== editor.getValue()) {\n      editor.setValue(value);\n    }\n  }, [editor, value]);\n}\n\nexport function useSynchronizeOption<K extends keyof EditorConfiguration>(\n  editor: CodeMirrorEditor | null,\n  option: K,\n  value: EditorConfiguration[K],\n) {\n  useEffect(() => {\n    if (editor) {\n      editor.setOption(option, value);\n    }\n  }, [editor, option, value]);\n}\n\nexport function useChangeHandler(\n  editor: CodeMirrorEditor | null,\n  callback: ((value: string) => void) | undefined,\n  storageKey: string | null,\n  tabProperty: 'variables' | 'headers',\n  caller: Function,\n) {\n  const { updateActiveTabValues } = useEditorContext({ nonNull: true, caller });\n  const storage = useStorageContext();\n\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    const store = debounce(500, (value: string) => {\n      if (!storage || storageKey === null) {\n        return;\n      }\n      storage.set(storageKey, value);\n    });\n\n    const updateTab = debounce(100, (value: string) => {\n      updateActiveTabValues({ [tabProperty]: value });\n    });\n\n    const handleChange = (\n      editorInstance: CodeMirrorEditor,\n      changeObj: EditorChange | undefined,\n    ) => {\n      // When we signal a change manually without actually changing anything\n      // we don't want to invoke the callback.\n      if (!changeObj) {\n        return;\n      }\n\n      const newValue = editorInstance.getValue();\n      store(newValue);\n      updateTab(newValue);\n      callback?.(newValue);\n    };\n    editor.on('change', handleChange);\n    return () => editor.off('change', handleChange);\n  }, [\n    callback,\n    editor,\n    storage,\n    storageKey,\n    tabProperty,\n    updateActiveTabValues,\n  ]);\n}\n\nexport function useCompletion(\n  editor: CodeMirrorEditor | null,\n  callback: ((reference: SchemaReference) => void) | null,\n  caller: Function,\n) {\n  const { schema } = useSchemaContext({ nonNull: true, caller });\n  const explorer = useExplorerContext();\n  const plugin = usePluginContext();\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    const handleCompletion = (\n      instance: CodeMirrorEditor,\n      changeObj?: EditorChange,\n    ) => {\n      onHasCompletion(instance, changeObj, schema, explorer, plugin, type => {\n        callback?.({ kind: 'Type', type, schema: schema || undefined });\n      });\n    };\n    editor.on(\n      // @ts-expect-error @TODO additional args for hasCompletion event\n      'hasCompletion',\n      handleCompletion,\n    );\n    return () =>\n      editor.off(\n        // @ts-expect-error @TODO additional args for hasCompletion event\n        'hasCompletion',\n        handleCompletion,\n      );\n  }, [callback, editor, explorer, plugin, schema]);\n}\n\ntype EmptyCallback = () => void;\n\nexport function useKeyMap(\n  editor: CodeMirrorEditor | null,\n  keys: string[],\n  callback: EmptyCallback | undefined,\n) {\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n    for (const key of keys) {\n      editor.removeKeyMap(key);\n    }\n\n    if (callback) {\n      const keyMap: Record<string, EmptyCallback> = {};\n      for (const key of keys) {\n        keyMap[key] = () => callback();\n      }\n      editor.addKeyMap(keyMap);\n    }\n  }, [editor, keys, callback]);\n}\n\nexport type UseCopyQueryArgs = {\n  /**\n   * This is only meant to be used internally in `@graphiql/react`.\n   */\n  caller?: Function;\n  /**\n   * Invoked when the current contents of the query editor are copied to the\n   * clipboard.\n   * @param query The content that has been copied.\n   */\n  onCopyQuery?: (query: string) => void;\n};\n\nexport function useCopyQuery({ caller, onCopyQuery }: UseCopyQueryArgs = {}) {\n  const { queryEditor } = useEditorContext({\n    nonNull: true,\n    caller: caller || useCopyQuery,\n  });\n  return useCallback(() => {\n    if (!queryEditor) {\n      return;\n    }\n\n    const query = queryEditor.getValue();\n    copyToClipboard(query);\n\n    onCopyQuery?.(query);\n  }, [queryEditor, onCopyQuery]);\n}\n\ntype UseMergeQueryArgs = {\n  /**\n   * This is only meant to be used internally in `@graphiql/react`.\n   */\n  caller?: Function;\n};\n\nexport function useMergeQuery({ caller }: UseMergeQueryArgs = {}) {\n  const { queryEditor } = useEditorContext({\n    nonNull: true,\n    caller: caller || useMergeQuery,\n  });\n  const { schema } = useSchemaContext({ nonNull: true, caller: useMergeQuery });\n  return useCallback(() => {\n    const documentAST = queryEditor?.documentAST;\n    const query = queryEditor?.getValue();\n    if (!documentAST || !query) {\n      return;\n    }\n\n    queryEditor.setValue(print(mergeAst(documentAST, schema)));\n  }, [queryEditor, schema]);\n}\n\ntype UsePrettifyEditorsArgs = {\n  /**\n   * This is only meant to be used internally in `@graphiql/react`.\n   */\n  caller?: Function;\n};\n\nexport function usePrettifyEditors({ caller }: UsePrettifyEditorsArgs = {}) {\n  const { queryEditor, headerEditor, variableEditor } = useEditorContext({\n    nonNull: true,\n    caller: caller || usePrettifyEditors,\n  });\n  return useCallback(() => {\n    if (variableEditor) {\n      const variableEditorContent = variableEditor.getValue();\n      try {\n        const prettifiedVariableEditorContent = JSON.stringify(\n          JSON.parse(variableEditorContent),\n          null,\n          2,\n        );\n        if (prettifiedVariableEditorContent !== variableEditorContent) {\n          variableEditor.setValue(prettifiedVariableEditorContent);\n        }\n      } catch {\n        /* Parsing JSON failed, skip prettification */\n      }\n    }\n\n    if (headerEditor) {\n      const headerEditorContent = headerEditor.getValue();\n\n      try {\n        const prettifiedHeaderEditorContent = JSON.stringify(\n          JSON.parse(headerEditorContent),\n          null,\n          2,\n        );\n        if (prettifiedHeaderEditorContent !== headerEditorContent) {\n          headerEditor.setValue(prettifiedHeaderEditorContent);\n        }\n      } catch {\n        /* Parsing JSON failed, skip prettification */\n      }\n    }\n\n    if (queryEditor) {\n      const editorContent = queryEditor.getValue();\n      const prettifiedEditorContent = print(parse(editorContent));\n\n      if (prettifiedEditorContent !== editorContent) {\n        queryEditor.setValue(prettifiedEditorContent);\n      }\n    }\n  }, [queryEditor, variableEditor, headerEditor]);\n}\n\nexport type UseAutoCompleteLeafsArgs = {\n  /**\n   * A function to determine which field leafs are automatically added when\n   * trying to execute a query with missing selection sets. It will be called\n   * with the `GraphQLType` for which fields need to be added.\n   */\n  getDefaultFieldNames?: GetDefaultFieldNamesFn;\n  /**\n   * This is only meant to be used internally in `@graphiql/react`.\n   */\n  caller?: Function;\n};\n\nexport function useAutoCompleteLeafs({\n  getDefaultFieldNames,\n  caller,\n}: UseAutoCompleteLeafsArgs = {}) {\n  const { schema } = useSchemaContext({\n    nonNull: true,\n    caller: caller || useAutoCompleteLeafs,\n  });\n  const { queryEditor } = useEditorContext({\n    nonNull: true,\n    caller: caller || useAutoCompleteLeafs,\n  });\n  return useCallback(() => {\n    if (!queryEditor) {\n      return;\n    }\n\n    const query = queryEditor.getValue();\n    const { insertions, result } = fillLeafs(\n      schema,\n      query,\n      getDefaultFieldNames,\n    );\n    if (insertions && insertions.length > 0) {\n      queryEditor.operation(() => {\n        const cursor = queryEditor.getCursor();\n        const cursorIndex = queryEditor.indexFromPos(cursor);\n        queryEditor.setValue(result || '');\n        let added = 0;\n        const markers = insertions.map(({ index, string }) =>\n          queryEditor.markText(\n            queryEditor.posFromIndex(index + added),\n            queryEditor.posFromIndex(index + (added += string.length)),\n            {\n              className: 'auto-inserted-leaf',\n              clearOnEnter: true,\n              title: 'Automatically added leaf fields',\n            },\n          ),\n        );\n        setTimeout(() => {\n          for (const marker of markers) {\n            marker.clear();\n          }\n        }, 7000);\n        let newCursorIndex = cursorIndex;\n        for (const { index, string } of insertions) {\n          if (index < cursorIndex) {\n            newCursorIndex += string.length;\n          }\n        }\n        queryEditor.setCursor(queryEditor.posFromIndex(newCursorIndex));\n      });\n    }\n\n    return result;\n  }, [getDefaultFieldNames, queryEditor, schema]);\n}\n\nexport type InitialState = string | (() => string);\n\n// https://react.dev/learn/you-might-not-need-an-effect\n\nexport const useEditorState = (editor: 'query' | 'variable' | 'header') => {\n  const context = useEditorContext({\n    nonNull: true,\n  });\n\n  const editorInstance = context[`${editor}Editor` as const];\n  let valueString = '';\n  const editorValue = editorInstance?.getValue() ?? false;\n  if (editorValue && editorValue.length > 0) {\n    valueString = editorValue;\n  }\n\n  const handleEditorValue = useCallback(\n    (value: string) => editorInstance?.setValue(value),\n    [editorInstance],\n  );\n  return useMemo<[string, (val: string) => void]>(\n    () => [valueString, handleEditorValue],\n    [valueString, handleEditorValue],\n  );\n};\n\n/**\n * useState-like hook for current tab operations editor state\n */\nexport const useOperationsEditorState = (): [\n  operations: string,\n  setOperations: (content: string) => void,\n] => {\n  return useEditorState('query');\n};\n\n/**\n * useState-like hook for current tab variables editor state\n */\nexport const useVariablesEditorState = (): [\n  variables: string,\n  setVariables: (content: string) => void,\n] => {\n  return useEditorState('variable');\n};\n\n/**\n * useState-like hook for current tab variables editor state\n */\nexport const useHeadersEditorState = (): [\n  headers: string,\n  setHeaders: (content: string) => void,\n] => {\n  return useEditorState('header');\n};\n\n/**\n * Implements an optimistic caching strategy around a useState-like hook in\n * order to prevent loss of updates when the hook has an internal delay and the\n * update function is called again before the updated state is sent out.\n *\n * Use this as a wrapper around `useOperationsEditorState`,\n * `useVariablesEditorState`, or `useHeadersEditorState` if you anticipate\n * calling them with great frequency (due to, for instance, mouse, keyboard, or\n * network events).\n *\n * Example:\n *\n * ```ts\n * const [operationsString, handleEditOperations] =\n *   useOptimisticState(useOperationsEditorState());\n * ```\n */\nexport function useOptimisticState([\n  upstreamState,\n  upstreamSetState,\n]: ReturnType<typeof useEditorState>): ReturnType<typeof useEditorState> {\n  const lastStateRef = useRef({\n    /** The last thing that we sent upstream; we're expecting this back */\n    pending: null as string | null,\n    /** The last thing we received from upstream */\n    last: upstreamState,\n  });\n\n  const [state, setOperationsText] = useState(upstreamState);\n\n  useEffect(() => {\n    if (lastStateRef.current.last === upstreamState) {\n      // No change; ignore\n    } else {\n      lastStateRef.current.last = upstreamState;\n      if (lastStateRef.current.pending === null) {\n        // Gracefully accept update from upstream\n        setOperationsText(upstreamState);\n      } else if (lastStateRef.current.pending === upstreamState) {\n        // They received our update and sent it back to us - clear pending, and\n        // send next if appropriate\n        lastStateRef.current.pending = null;\n        if (upstreamState !== state) {\n          // Change has occurred; upstream it\n          lastStateRef.current.pending = state;\n          upstreamSetState(state);\n        }\n      } else {\n        // They got a different update; overwrite our local state (!!)\n        lastStateRef.current.pending = null;\n        setOperationsText(upstreamState);\n      }\n    }\n  }, [upstreamState, state, upstreamSetState]);\n\n  const setState = useCallback(\n    (newState: string) => {\n      setOperationsText(newState);\n      if (\n        lastStateRef.current.pending === null &&\n        lastStateRef.current.last !== newState\n      ) {\n        // No pending updates and change has occurred... send it upstream\n        lastStateRef.current.pending = newState;\n        upstreamSetState(newState);\n      }\n    },\n    [upstreamSetState],\n  );\n\n  return useMemo(() => [state, setState], [state, setState]);\n}\n","import { useEffect, useRef } from 'react';\n\nimport { useExecutionContext } from '../execution';\nimport {\n  commonKeys,\n  DEFAULT_EDITOR_THEME,\n  DEFAULT_KEY_MAP,\n  importCodeMirror,\n} from './common';\nimport { useEditorContext } from './context';\nimport {\n  useChangeHandler,\n  useKeyMap,\n  useMergeQuery,\n  usePrettifyEditors,\n  useSynchronizeOption,\n} from './hooks';\nimport { WriteableEditorProps } from './types';\n\nexport type UseHeaderEditorArgs = WriteableEditorProps & {\n  /**\n   * Invoked when the contents of the headers editor change.\n   * @param value The new contents of the editor.\n   */\n  onEdit?(value: string): void;\n};\n\nexport function useHeaderEditor(\n  {\n    editorTheme = DEFAULT_EDITOR_THEME,\n    keyMap = DEFAULT_KEY_MAP,\n    onEdit,\n    readOnly = false,\n  }: UseHeaderEditorArgs = {},\n  caller?: Function,\n) {\n  const {\n    initialHeaders,\n    headerEditor,\n    setHeaderEditor,\n    shouldPersistHeaders,\n  } = useEditorContext({\n    nonNull: true,\n    caller: caller || useHeaderEditor,\n  });\n  const executionContext = useExecutionContext();\n  const merge = useMergeQuery({ caller: caller || useHeaderEditor });\n  const prettify = usePrettifyEditors({ caller: caller || useHeaderEditor });\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    let isActive = true;\n\n    void importCodeMirror([\n      // @ts-expect-error\n      import('codemirror/mode/javascript/javascript'),\n    ]).then(CodeMirror => {\n      // Don't continue if the effect has already been cleaned up\n      if (!isActive) {\n        return;\n      }\n\n      const container = ref.current;\n      if (!container) {\n        return;\n      }\n\n      const newEditor = CodeMirror(container, {\n        value: initialHeaders,\n        lineNumbers: true,\n        tabSize: 2,\n        mode: { name: 'javascript', json: true },\n        theme: editorTheme,\n        autoCloseBrackets: true,\n        matchBrackets: true,\n        showCursorWhenSelecting: true,\n        readOnly: readOnly ? 'nocursor' : false,\n        foldGutter: true,\n        gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n        extraKeys: commonKeys,\n      });\n\n      newEditor.addKeyMap({\n        'Cmd-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Ctrl-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Alt-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Shift-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n      });\n\n      newEditor.on('keyup', (editorInstance, event) => {\n        const { code, key, shiftKey } = event;\n        const isLetter = code.startsWith('Key');\n        const isNumber = !shiftKey && code.startsWith('Digit');\n        if (isLetter || isNumber || key === '_' || key === '\"') {\n          editorInstance.execCommand('autocomplete');\n        }\n      });\n\n      setHeaderEditor(newEditor);\n    });\n\n    return () => {\n      isActive = false;\n    };\n  }, [editorTheme, initialHeaders, readOnly, setHeaderEditor]);\n\n  useSynchronizeOption(headerEditor, 'keyMap', keyMap);\n\n  useChangeHandler(\n    headerEditor,\n    onEdit,\n    shouldPersistHeaders ? STORAGE_KEY : null,\n    'headers',\n    useHeaderEditor,\n  );\n\n  useKeyMap(headerEditor, ['Cmd-Enter', 'Ctrl-Enter'], executionContext?.run);\n  useKeyMap(headerEditor, ['Shift-Ctrl-P'], prettify);\n  useKeyMap(headerEditor, ['Shift-Ctrl-M'], merge);\n\n  return ref;\n}\n\nexport const STORAGE_KEY = 'headers';\n","// Unicode whitespace characters that break the interface.\nexport const invalidCharacters = Array.from({ length: 11 }, (_, i) => {\n  // \\u2000 -> \\u200a\n  return String.fromCharCode(0x2000 + i);\n}).concat(['\\u2028', '\\u2029', '\\u202f', '\\u00a0']);\n\nconst sanitizeRegex = new RegExp('[' + invalidCharacters.join('') + ']', 'g');\n\nexport function normalizeWhitespace(line: string) {\n  return line.replace(sanitizeRegex, ' ');\n}\n","import { getSelectedOperationName } from '@graphiql/toolkit';\nimport type { SchemaReference } from 'codemirror-graphql/utils/SchemaReference';\nimport type {\n  DocumentNode,\n  FragmentDefinitionNode,\n  GraphQLSchema,\n  ValidationRule,\n} from 'graphql';\nimport {\n  getOperationFacts,\n  GraphQLDocumentMode,\n} from 'graphql-language-service';\nimport {\n  MutableRefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n} from 'react';\n\nimport { useExecutionContext } from '../execution';\nimport { useExplorerContext } from '../explorer';\nimport { markdown } from '../markdown';\nimport { DOC_EXPLORER_PLUGIN, usePluginContext } from '../plugin';\nimport { useSchemaContext } from '../schema';\nimport { useStorageContext } from '../storage';\nimport debounce from '../utility/debounce';\nimport {\n  commonKeys,\n  DEFAULT_EDITOR_THEME,\n  DEFAULT_KEY_MAP,\n  importCodeMirror,\n} from './common';\nimport {\n  CodeMirrorEditorWithOperationFacts,\n  useEditorContext,\n} from './context';\nimport {\n  useCompletion,\n  useCopyQuery,\n  UseCopyQueryArgs,\n  useKeyMap,\n  useMergeQuery,\n  usePrettifyEditors,\n  useSynchronizeOption,\n} from './hooks';\nimport {\n  CodeMirrorEditor,\n  CodeMirrorType,\n  WriteableEditorProps,\n} from './types';\nimport { normalizeWhitespace } from './whitespace';\n\nexport type UseQueryEditorArgs = WriteableEditorProps &\n  Pick<UseCopyQueryArgs, 'onCopyQuery'> & {\n    /**\n     * Invoked when a reference to the GraphQL schema (type or field) is clicked\n     * as part of the editor or one of its tooltips.\n     * @param reference The reference that has been clicked.\n     */\n    onClickReference?(reference: SchemaReference): void;\n    /**\n     * Invoked when the contents of the query editor change.\n     * @param value The new contents of the editor.\n     * @param documentAST The editor contents parsed into a GraphQL document.\n     */\n    onEdit?(value: string, documentAST?: DocumentNode): void;\n  };\n\nexport function useQueryEditor(\n  {\n    editorTheme = DEFAULT_EDITOR_THEME,\n    keyMap = DEFAULT_KEY_MAP,\n    onClickReference,\n    onCopyQuery,\n    onEdit,\n    readOnly = false,\n  }: UseQueryEditorArgs = {},\n  caller?: Function,\n) {\n  const { schema } = useSchemaContext({\n    nonNull: true,\n    caller: caller || useQueryEditor,\n  });\n  const {\n    externalFragments,\n    initialQuery,\n    queryEditor,\n    setOperationName,\n    setQueryEditor,\n    validationRules,\n    variableEditor,\n    updateActiveTabValues,\n  } = useEditorContext({\n    nonNull: true,\n    caller: caller || useQueryEditor,\n  });\n  const executionContext = useExecutionContext();\n  const storage = useStorageContext();\n  const explorer = useExplorerContext();\n  const plugin = usePluginContext();\n  const copy = useCopyQuery({ caller: caller || useQueryEditor, onCopyQuery });\n  const merge = useMergeQuery({ caller: caller || useQueryEditor });\n  const prettify = usePrettifyEditors({ caller: caller || useQueryEditor });\n  const ref = useRef<HTMLDivElement>(null);\n  const codeMirrorRef = useRef<CodeMirrorType>();\n\n  const onClickReferenceRef = useRef<\n    NonNullable<UseQueryEditorArgs['onClickReference']>\n  >(() => {});\n  useEffect(() => {\n    onClickReferenceRef.current = reference => {\n      if (!explorer || !plugin) {\n        return;\n      }\n      plugin.setVisiblePlugin(DOC_EXPLORER_PLUGIN);\n      switch (reference.kind) {\n        case 'Type': {\n          explorer.push({ name: reference.type.name, def: reference.type });\n          break;\n        }\n        case 'Field': {\n          explorer.push({ name: reference.field.name, def: reference.field });\n          break;\n        }\n        case 'Argument': {\n          if (reference.field) {\n            explorer.push({ name: reference.field.name, def: reference.field });\n          }\n          break;\n        }\n        case 'EnumValue': {\n          if (reference.type) {\n            explorer.push({ name: reference.type.name, def: reference.type });\n          }\n          break;\n        }\n      }\n      onClickReference?.(reference);\n    };\n  }, [explorer, onClickReference, plugin]);\n\n  useEffect(() => {\n    let isActive = true;\n\n    void importCodeMirror([\n      import('codemirror/addon/comment/comment'),\n      import('codemirror/addon/search/search'),\n      import('codemirror-graphql/esm/hint'),\n      import('codemirror-graphql/esm/lint'),\n      import('codemirror-graphql/esm/info'),\n      import('codemirror-graphql/esm/jump'),\n      import('codemirror-graphql/esm/mode'),\n    ]).then(CodeMirror => {\n      // Don't continue if the effect has already been cleaned up\n      if (!isActive) {\n        return;\n      }\n\n      codeMirrorRef.current = CodeMirror;\n\n      const container = ref.current;\n      if (!container) {\n        return;\n      }\n\n      const newEditor = CodeMirror(container, {\n        value: initialQuery,\n        lineNumbers: true,\n        tabSize: 2,\n        foldGutter: true,\n        mode: 'graphql',\n        theme: editorTheme,\n        autoCloseBrackets: true,\n        matchBrackets: true,\n        showCursorWhenSelecting: true,\n        readOnly: readOnly ? 'nocursor' : false,\n        lint: {\n          // @ts-expect-error\n          schema: undefined,\n          validationRules: null,\n          // linting accepts string or FragmentDefinitionNode[]\n          externalFragments: undefined,\n        },\n        hintOptions: {\n          // @ts-expect-error\n          schema: undefined,\n          closeOnUnfocus: false,\n          completeSingle: false,\n          container,\n          externalFragments: undefined,\n          autocompleteOptions: {\n            // for the query editor, restrict to executable type definitions\n            mode: GraphQLDocumentMode.EXECUTABLE,\n          },\n        },\n        info: {\n          schema: undefined,\n          renderDescription: (text: string) => markdown.render(text),\n          onClick(reference: SchemaReference) {\n            onClickReferenceRef.current(reference);\n          },\n        },\n        jump: {\n          schema: undefined,\n          onClick(reference: SchemaReference) {\n            onClickReferenceRef.current(reference);\n          },\n        },\n        gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n        extraKeys: {\n          ...commonKeys,\n          'Cmd-S'() {\n            // empty\n          },\n          'Ctrl-S'() {\n            // empty\n          },\n        },\n      }) as CodeMirrorEditorWithOperationFacts;\n\n      newEditor.addKeyMap({\n        'Cmd-Space'() {\n          newEditor.showHint({ completeSingle: true, container });\n        },\n        'Ctrl-Space'() {\n          newEditor.showHint({ completeSingle: true, container });\n        },\n        'Alt-Space'() {\n          newEditor.showHint({ completeSingle: true, container });\n        },\n        'Shift-Space'() {\n          newEditor.showHint({ completeSingle: true, container });\n        },\n        'Shift-Alt-Space'() {\n          newEditor.showHint({ completeSingle: true, container });\n        },\n      });\n\n      newEditor.on('keyup', (editorInstance, event) => {\n        if (AUTO_COMPLETE_AFTER_KEY.test(event.key)) {\n          editorInstance.execCommand('autocomplete');\n        }\n      });\n\n      let showingHints = false;\n\n      // fired whenever a hint dialog opens\n      newEditor.on('startCompletion', () => {\n        showingHints = true;\n      });\n\n      // the codemirror hint extension fires this anytime the dialog is closed\n      // via any method (e.g. focus blur, escape key, ...)\n      newEditor.on('endCompletion', () => {\n        showingHints = false;\n      });\n\n      newEditor.on('keydown', (editorInstance, event) => {\n        if (event.key === 'Escape' && showingHints) {\n          event.stopPropagation();\n        }\n      });\n\n      newEditor.on('beforeChange', (editorInstance, change) => {\n        // The update function is only present on non-redo, non-undo events.\n        if (change.origin === 'paste') {\n          const text = change.text.map(normalizeWhitespace);\n          change.update?.(change.from, change.to, text);\n        }\n      });\n\n      newEditor.documentAST = null;\n      newEditor.operationName = null;\n      newEditor.operations = null;\n      newEditor.variableToType = null;\n\n      setQueryEditor(newEditor);\n    });\n\n    return () => {\n      isActive = false;\n    };\n  }, [editorTheme, initialQuery, readOnly, setQueryEditor]);\n\n  useSynchronizeOption(queryEditor, 'keyMap', keyMap);\n\n  /**\n   * We don't use the generic `useChangeHandler` hook here because we want to\n   * have additional logic that updates the operation facts that we store as\n   * properties on the editor.\n   */\n  useEffect(() => {\n    if (!queryEditor) {\n      return;\n    }\n\n    function getAndUpdateOperationFacts(\n      editorInstance: CodeMirrorEditorWithOperationFacts,\n    ) {\n      const operationFacts = getOperationFacts(\n        schema,\n        editorInstance.getValue(),\n      );\n\n      // Update operation name should any query names change.\n      const operationName = getSelectedOperationName(\n        editorInstance.operations ?? undefined,\n        editorInstance.operationName ?? undefined,\n        operationFacts?.operations,\n      );\n\n      // Store the operation facts on editor properties\n      editorInstance.documentAST = operationFacts?.documentAST ?? null;\n      editorInstance.operationName = operationName ?? null;\n      editorInstance.operations = operationFacts?.operations ?? null;\n\n      // Update variable types for the variable editor\n      if (variableEditor) {\n        variableEditor.state.lint.linterOptions.variableToType =\n          operationFacts?.variableToType;\n        variableEditor.options.lint.variableToType =\n          operationFacts?.variableToType;\n        variableEditor.options.hintOptions.variableToType =\n          operationFacts?.variableToType;\n        codeMirrorRef.current?.signal(variableEditor, 'change', variableEditor);\n      }\n\n      return operationFacts ? { ...operationFacts, operationName } : null;\n    }\n\n    const handleChange = debounce(\n      100,\n      (editorInstance: CodeMirrorEditorWithOperationFacts) => {\n        const query = editorInstance.getValue();\n        storage?.set(STORAGE_KEY_QUERY, query);\n\n        const currentOperationName = editorInstance.operationName;\n        const operationFacts = getAndUpdateOperationFacts(editorInstance);\n        if (operationFacts?.operationName !== undefined) {\n          storage?.set(\n            STORAGE_KEY_OPERATION_NAME,\n            operationFacts.operationName,\n          );\n        }\n\n        // Invoke callback props only after the operation facts have been updated\n        onEdit?.(query, operationFacts?.documentAST);\n        if (\n          operationFacts?.operationName &&\n          currentOperationName !== operationFacts.operationName\n        ) {\n          setOperationName(operationFacts.operationName);\n        }\n\n        updateActiveTabValues({\n          query,\n          operationName: operationFacts?.operationName ?? null,\n        });\n      },\n    ) as (editorInstance: CodeMirrorEditor) => void;\n\n    // Call once to initially update the values\n    getAndUpdateOperationFacts(queryEditor);\n\n    queryEditor.on('change', handleChange);\n    return () => queryEditor.off('change', handleChange);\n  }, [\n    onEdit,\n    queryEditor,\n    schema,\n    setOperationName,\n    storage,\n    variableEditor,\n    updateActiveTabValues,\n  ]);\n\n  useSynchronizeSchema(queryEditor, schema ?? null, codeMirrorRef);\n  useSynchronizeValidationRules(\n    queryEditor,\n    validationRules ?? null,\n    codeMirrorRef,\n  );\n  useSynchronizeExternalFragments(\n    queryEditor,\n    externalFragments,\n    codeMirrorRef,\n  );\n\n  useCompletion(queryEditor, onClickReference || null, useQueryEditor);\n\n  const run = executionContext?.run;\n  const runAtCursor = useCallback(() => {\n    if (\n      !run ||\n      !queryEditor ||\n      !queryEditor.operations ||\n      !queryEditor.hasFocus()\n    ) {\n      run?.();\n      return;\n    }\n\n    const cursorIndex = queryEditor.indexFromPos(queryEditor.getCursor());\n\n    // Loop through all operations to see if one contains the cursor.\n    let operationName: string | undefined;\n    for (const operation of queryEditor.operations) {\n      if (\n        operation.loc &&\n        operation.loc.start <= cursorIndex &&\n        operation.loc.end >= cursorIndex\n      ) {\n        operationName = operation.name?.value;\n      }\n    }\n\n    if (operationName && operationName !== queryEditor.operationName) {\n      setOperationName(operationName);\n    }\n\n    run();\n  }, [queryEditor, run, setOperationName]);\n\n  useKeyMap(queryEditor, ['Cmd-Enter', 'Ctrl-Enter'], runAtCursor);\n  useKeyMap(queryEditor, ['Shift-Ctrl-C'], copy);\n  useKeyMap(\n    queryEditor,\n    [\n      'Shift-Ctrl-P',\n      // Shift-Ctrl-P is hard coded in Firefox for private browsing so adding an alternative to prettify\n      'Shift-Ctrl-F',\n    ],\n    prettify,\n  );\n  useKeyMap(queryEditor, ['Shift-Ctrl-M'], merge);\n\n  return ref;\n}\n\nfunction useSynchronizeSchema(\n  editor: CodeMirrorEditor | null,\n  schema: GraphQLSchema | null,\n  codeMirrorRef: MutableRefObject<CodeMirrorType | undefined>,\n) {\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    const didChange = editor.options.lint.schema !== schema;\n\n    editor.state.lint.linterOptions.schema = schema;\n    editor.options.lint.schema = schema;\n    editor.options.hintOptions.schema = schema;\n    editor.options.info.schema = schema;\n    editor.options.jump.schema = schema;\n\n    if (didChange && codeMirrorRef.current) {\n      codeMirrorRef.current.signal(editor, 'change', editor);\n    }\n  }, [editor, schema, codeMirrorRef]);\n}\n\nfunction useSynchronizeValidationRules(\n  editor: CodeMirrorEditor | null,\n  validationRules: ValidationRule[] | null,\n  codeMirrorRef: MutableRefObject<CodeMirrorType | undefined>,\n) {\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    const didChange = editor.options.lint.validationRules !== validationRules;\n\n    editor.state.lint.linterOptions.validationRules = validationRules;\n    editor.options.lint.validationRules = validationRules;\n\n    if (didChange && codeMirrorRef.current) {\n      codeMirrorRef.current.signal(editor, 'change', editor);\n    }\n  }, [editor, validationRules, codeMirrorRef]);\n}\n\nfunction useSynchronizeExternalFragments(\n  editor: CodeMirrorEditor | null,\n  externalFragments: Map<string, FragmentDefinitionNode>,\n  codeMirrorRef: MutableRefObject<CodeMirrorType | undefined>,\n) {\n  const externalFragmentList = useMemo(\n    () => [...externalFragments.values()],\n    [externalFragments],\n  );\n\n  useEffect(() => {\n    if (!editor) {\n      return;\n    }\n\n    const didChange =\n      editor.options.lint.externalFragments !== externalFragmentList;\n\n    editor.state.lint.linterOptions.externalFragments = externalFragmentList;\n    editor.options.lint.externalFragments = externalFragmentList;\n    editor.options.hintOptions.externalFragments = externalFragmentList;\n\n    if (didChange && codeMirrorRef.current) {\n      codeMirrorRef.current.signal(editor, 'change', editor);\n    }\n  }, [editor, externalFragmentList, codeMirrorRef]);\n}\n\nconst AUTO_COMPLETE_AFTER_KEY = /^[a-zA-Z0-9_@(]$/;\n\nexport const STORAGE_KEY_QUERY = 'query';\n\nconst STORAGE_KEY_OPERATION_NAME = 'operationName';\n","import { StorageAPI } from '@graphiql/toolkit';\nimport { useCallback, useMemo } from 'react';\n\nimport debounce from '../utility/debounce';\nimport { CodeMirrorEditorWithOperationFacts } from './context';\nimport { CodeMirrorEditor } from './types';\n\nexport type TabDefinition = {\n  /**\n   * The contents of the query editor of this tab.\n   */\n  query: string | null;\n  /**\n   * The contents of the variable editor of this tab.\n   */\n  variables?: string | null;\n  /**\n   * The contents of the headers editor of this tab.\n   */\n  headers?: string | null;\n};\n\n/**\n * This object describes the state of a single tab.\n */\nexport type TabState = TabDefinition & {\n  /**\n   * A GUID value generated when the tab was created.\n   */\n  id: string;\n  /**\n   * A hash that is unique for a combination of the contents of the query\n   * editor, the variable editor and the header editor (i.e. all the editor\n   * where the contents are persisted in storage).\n   */\n  hash: string;\n  /**\n   * The title of the tab shown in the tab element.\n   */\n  title: string;\n  /**\n   * The operation name derived from the contents of the query editor of this\n   * tab.\n   */\n  operationName: string | null;\n  /**\n   * The contents of the response editor of this tab.\n   */\n  response: string | null;\n};\n\n/**\n * This object describes the state of all tabs.\n */\nexport type TabsState = {\n  /**\n   * A list of state objects for each tab.\n   */\n  tabs: TabState[];\n  /**\n   * The index of the currently active tab with regards to the `tabs` list of\n   * this object.\n   */\n  activeTabIndex: number;\n};\n\nexport function getDefaultTabState({\n  defaultQuery,\n  defaultHeaders,\n  headers,\n  defaultTabs,\n  query,\n  variables,\n  storage,\n  shouldPersistHeaders,\n}: {\n  defaultQuery: string;\n  defaultHeaders?: string;\n  headers: string | null;\n  defaultTabs?: TabDefinition[];\n  query: string | null;\n  variables: string | null;\n  storage: StorageAPI | null;\n  shouldPersistHeaders?: boolean;\n}) {\n  const storedState = storage?.get(STORAGE_KEY);\n  try {\n    if (!storedState) {\n      throw new Error('Storage for tabs is empty');\n    }\n    const parsed = JSON.parse(storedState);\n    // if headers are not persisted, do not derive the hash using default headers state\n    // or else you will get new tabs on every refresh\n    const headersForHash = shouldPersistHeaders ? headers : undefined;\n    if (isTabsState(parsed)) {\n      const expectedHash = hashFromTabContents({\n        query,\n        variables,\n        headers: headersForHash,\n      });\n      let matchingTabIndex = -1;\n\n      for (let index = 0; index < parsed.tabs.length; index++) {\n        const tab = parsed.tabs[index];\n        tab.hash = hashFromTabContents({\n          query: tab.query,\n          variables: tab.variables,\n          headers: tab.headers,\n        });\n        if (tab.hash === expectedHash) {\n          matchingTabIndex = index;\n        }\n      }\n\n      if (matchingTabIndex >= 0) {\n        parsed.activeTabIndex = matchingTabIndex;\n      } else {\n        const operationName = query ? fuzzyExtractOperationName(query) : null;\n        parsed.tabs.push({\n          id: guid(),\n          hash: expectedHash,\n          title: operationName || DEFAULT_TITLE,\n          query,\n          variables,\n          headers,\n          operationName,\n          response: null,\n        });\n        parsed.activeTabIndex = parsed.tabs.length - 1;\n      }\n\n      return parsed;\n    }\n    throw new Error('Storage for tabs is invalid');\n  } catch {\n    return {\n      activeTabIndex: 0,\n      tabs: (\n        defaultTabs || [\n          {\n            query: query ?? defaultQuery,\n            variables,\n            headers: headers ?? defaultHeaders,\n          },\n        ]\n      ).map(createTab),\n    };\n  }\n}\n\nfunction isTabsState(obj: any): obj is TabsState {\n  return (\n    obj &&\n    typeof obj === 'object' &&\n    !Array.isArray(obj) &&\n    hasNumberKey(obj, 'activeTabIndex') &&\n    'tabs' in obj &&\n    Array.isArray(obj.tabs) &&\n    obj.tabs.every(isTabState)\n  );\n}\n\nfunction isTabState(obj: any): obj is TabState {\n  // We don't persist the hash, so we skip the check here\n  return (\n    obj &&\n    typeof obj === 'object' &&\n    !Array.isArray(obj) &&\n    hasStringKey(obj, 'id') &&\n    hasStringKey(obj, 'title') &&\n    hasStringOrNullKey(obj, 'query') &&\n    hasStringOrNullKey(obj, 'variables') &&\n    hasStringOrNullKey(obj, 'headers') &&\n    hasStringOrNullKey(obj, 'operationName') &&\n    hasStringOrNullKey(obj, 'response')\n  );\n}\n\nfunction hasNumberKey(obj: Record<string, any>, key: string) {\n  return key in obj && typeof obj[key] === 'number';\n}\n\nfunction hasStringKey(obj: Record<string, any>, key: string) {\n  return key in obj && typeof obj[key] === 'string';\n}\n\nfunction hasStringOrNullKey(obj: Record<string, any>, key: string) {\n  return key in obj && (typeof obj[key] === 'string' || obj[key] === null);\n}\n\nexport function useSynchronizeActiveTabValues({\n  queryEditor,\n  variableEditor,\n  headerEditor,\n  responseEditor,\n}: {\n  queryEditor: CodeMirrorEditorWithOperationFacts | null;\n  variableEditor: CodeMirrorEditor | null;\n  headerEditor: CodeMirrorEditor | null;\n  responseEditor: CodeMirrorEditor | null;\n}) {\n  return useCallback<(state: TabsState) => TabsState>(\n    state => {\n      const query = queryEditor?.getValue() ?? null;\n      const variables = variableEditor?.getValue() ?? null;\n      const headers = headerEditor?.getValue() ?? null;\n      const operationName = queryEditor?.operationName ?? null;\n      const response = responseEditor?.getValue() ?? null;\n      return setPropertiesInActiveTab(state, {\n        query,\n        variables,\n        headers,\n        response,\n        operationName,\n      });\n    },\n    [queryEditor, variableEditor, headerEditor, responseEditor],\n  );\n}\n\nexport function serializeTabState(\n  tabState: TabsState,\n  shouldPersistHeaders = false,\n) {\n  return JSON.stringify(tabState, (key, value) =>\n    key === 'hash' ||\n    key === 'response' ||\n    (!shouldPersistHeaders && key === 'headers')\n      ? null\n      : value,\n  );\n}\n\nexport function useStoreTabs({\n  storage,\n  shouldPersistHeaders,\n}: {\n  storage: StorageAPI | null;\n  shouldPersistHeaders?: boolean;\n}) {\n  const store = useMemo(\n    () =>\n      debounce(500, (value: string) => {\n        storage?.set(STORAGE_KEY, value);\n      }),\n    [storage],\n  );\n  return useCallback(\n    (currentState: TabsState) => {\n      store(serializeTabState(currentState, shouldPersistHeaders));\n    },\n    [shouldPersistHeaders, store],\n  );\n}\n\nexport function useSetEditorValues({\n  queryEditor,\n  variableEditor,\n  headerEditor,\n  responseEditor,\n  defaultHeaders,\n}: {\n  queryEditor: CodeMirrorEditorWithOperationFacts | null;\n  variableEditor: CodeMirrorEditor | null;\n  headerEditor: CodeMirrorEditor | null;\n  responseEditor: CodeMirrorEditor | null;\n  defaultHeaders?: string;\n}) {\n  return useCallback(\n    ({\n      query,\n      variables,\n      headers,\n      response,\n    }: {\n      query: string | null;\n      variables?: string | null;\n      headers?: string | null;\n      response: string | null;\n    }) => {\n      queryEditor?.setValue(query ?? '');\n      variableEditor?.setValue(variables ?? '');\n      headerEditor?.setValue(headers ?? defaultHeaders ?? '');\n      responseEditor?.setValue(response ?? '');\n    },\n    [headerEditor, queryEditor, responseEditor, variableEditor, defaultHeaders],\n  );\n}\n\nexport function createTab({\n  query = null,\n  variables = null,\n  headers = null,\n}: Partial<TabDefinition> = {}): TabState {\n  return {\n    id: guid(),\n    hash: hashFromTabContents({ query, variables, headers }),\n    title: (query && fuzzyExtractOperationName(query)) || DEFAULT_TITLE,\n    query,\n    variables,\n    headers,\n    operationName: null,\n    response: null,\n  };\n}\n\nexport function setPropertiesInActiveTab(\n  state: TabsState,\n  partialTab: Partial<Omit<TabState, 'id' | 'hash' | 'title'>>,\n): TabsState {\n  return {\n    ...state,\n    tabs: state.tabs.map((tab, index) => {\n      if (index !== state.activeTabIndex) {\n        return tab;\n      }\n      const newTab = { ...tab, ...partialTab };\n      return {\n        ...newTab,\n        hash: hashFromTabContents(newTab),\n        title:\n          newTab.operationName ||\n          (newTab.query\n            ? fuzzyExtractOperationName(newTab.query)\n            : undefined) ||\n          DEFAULT_TITLE,\n      };\n    }),\n  };\n}\n\nfunction guid(): string {\n  const s4 = () => {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .slice(1);\n  };\n  // return id of format 'aaaaaaaa'-'aaaa'-'aaaa'-'aaaa'-'aaaaaaaaaaaa'\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n}\n\nfunction hashFromTabContents(args: {\n  query: string | null;\n  variables?: string | null;\n  headers?: string | null;\n}): string {\n  return [args.query ?? '', args.variables ?? '', args.headers ?? ''].join('|');\n}\n\nexport function fuzzyExtractOperationName(str: string): string | null {\n  const regex = /^(?!#).*(query|subscription|mutation)\\s+([a-zA-Z0-9_]+)/m;\n\n  const match = regex.exec(str);\n\n  return match?.[2] ?? null;\n}\n\nexport function clearHeadersFromTabs(storage: StorageAPI | null) {\n  const persistedTabs = storage?.get(STORAGE_KEY);\n  if (persistedTabs) {\n    const parsedTabs = JSON.parse(persistedTabs);\n    storage?.set(\n      STORAGE_KEY,\n      JSON.stringify(parsedTabs, (key, value) =>\n        key === 'headers' ? null : value,\n      ),\n    );\n  }\n}\n\nconst DEFAULT_TITLE = '<untitled>';\n\nexport const STORAGE_KEY = 'tabState';\n","import type { SchemaReference } from 'codemirror-graphql/utils/SchemaReference';\nimport { useEffect, useRef } from 'react';\n\nimport { useExecutionContext } from '../execution';\nimport {\n  commonKeys,\n  DEFAULT_EDITOR_THEME,\n  DEFAULT_KEY_MAP,\n  importCodeMirror,\n} from './common';\nimport { useEditorContext } from './context';\nimport {\n  useChangeHandler,\n  useCompletion,\n  useKeyMap,\n  useMergeQuery,\n  usePrettifyEditors,\n  useSynchronizeOption,\n} from './hooks';\nimport { CodeMirrorType, WriteableEditorProps } from './types';\n\nexport type UseVariableEditorArgs = WriteableEditorProps & {\n  /**\n   * Invoked when a reference to the GraphQL schema (type or field) is clicked\n   * as part of the editor or one of its tooltips.\n   * @param reference The reference that has been clicked.\n   */\n  onClickReference?(reference: SchemaReference): void;\n  /**\n   * Invoked when the contents of the variables editor change.\n   * @param value The new contents of the editor.\n   */\n  onEdit?(value: string): void;\n};\n\nexport function useVariableEditor(\n  {\n    editorTheme = DEFAULT_EDITOR_THEME,\n    keyMap = DEFAULT_KEY_MAP,\n    onClickReference,\n    onEdit,\n    readOnly = false,\n  }: UseVariableEditorArgs = {},\n  caller?: Function,\n) {\n  const { initialVariables, variableEditor, setVariableEditor } =\n    useEditorContext({\n      nonNull: true,\n      caller: caller || useVariableEditor,\n    });\n  const executionContext = useExecutionContext();\n  const merge = useMergeQuery({ caller: caller || useVariableEditor });\n  const prettify = usePrettifyEditors({ caller: caller || useVariableEditor });\n  const ref = useRef<HTMLDivElement>(null);\n  const codeMirrorRef = useRef<CodeMirrorType>();\n\n  useEffect(() => {\n    let isActive = true;\n\n    void importCodeMirror([\n      import('codemirror-graphql/esm/variables/hint'),\n      import('codemirror-graphql/esm/variables/lint'),\n      import('codemirror-graphql/esm/variables/mode'),\n    ]).then(CodeMirror => {\n      // Don't continue if the effect has already been cleaned up\n      if (!isActive) {\n        return;\n      }\n\n      codeMirrorRef.current = CodeMirror;\n\n      const container = ref.current;\n      if (!container) {\n        return;\n      }\n\n      const newEditor = CodeMirror(container, {\n        value: initialVariables,\n        lineNumbers: true,\n        tabSize: 2,\n        mode: 'graphql-variables',\n        theme: editorTheme,\n        autoCloseBrackets: true,\n        matchBrackets: true,\n        showCursorWhenSelecting: true,\n        readOnly: readOnly ? 'nocursor' : false,\n        foldGutter: true,\n        lint: {\n          // @ts-expect-error\n          variableToType: undefined,\n        },\n        hintOptions: {\n          closeOnUnfocus: false,\n          completeSingle: false,\n          container,\n          // @ts-expect-error\n          variableToType: undefined,\n        },\n        gutters: ['CodeMirror-linenumbers', 'CodeMirror-foldgutter'],\n        extraKeys: commonKeys,\n      });\n\n      newEditor.addKeyMap({\n        'Cmd-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Ctrl-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Alt-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n        'Shift-Space'() {\n          newEditor.showHint({ completeSingle: false, container });\n        },\n      });\n\n      newEditor.on('keyup', (editorInstance, event) => {\n        const { code, key, shiftKey } = event;\n        const isLetter = code.startsWith('Key');\n        const isNumber = !shiftKey && code.startsWith('Digit');\n        if (isLetter || isNumber || key === '_' || key === '\"') {\n          editorInstance.execCommand('autocomplete');\n        }\n      });\n\n      setVariableEditor(newEditor);\n    });\n\n    return () => {\n      isActive = false;\n    };\n  }, [editorTheme, initialVariables, readOnly, setVariableEditor]);\n\n  useSynchronizeOption(variableEditor, 'keyMap', keyMap);\n\n  useChangeHandler(\n    variableEditor,\n    onEdit,\n    STORAGE_KEY,\n    'variables',\n    useVariableEditor,\n  );\n\n  useCompletion(variableEditor, onClickReference || null, useVariableEditor);\n\n  useKeyMap(variableEditor, ['Cmd-Enter', 'Ctrl-Enter'], executionContext?.run);\n  useKeyMap(variableEditor, ['Shift-Ctrl-P'], prettify);\n  useKeyMap(variableEditor, ['Shift-Ctrl-M'], merge);\n\n  return ref;\n}\n\nexport const STORAGE_KEY = 'variables';\n","import {\n  DocumentNode,\n  FragmentDefinitionNode,\n  OperationDefinitionNode,\n  parse,\n  ValidationRule,\n  visit,\n} from 'graphql';\nimport { VariableToType } from 'graphql-language-service';\nimport {\n  ReactNode,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useStorageContext } from '../storage';\nimport { createContextHook, createNullableContext } from '../utility/context';\nimport { STORAGE_KEY as STORAGE_KEY_HEADERS } from './header-editor';\nimport { useSynchronizeValue } from './hooks';\nimport { STORAGE_KEY_QUERY } from './query-editor';\nimport {\n  createTab,\n  getDefaultTabState,\n  setPropertiesInActiveTab,\n  TabDefinition,\n  TabsState,\n  TabState,\n  useSetEditorValues,\n  useStoreTabs,\n  useSynchronizeActiveTabValues,\n  clearHeadersFromTabs,\n  serializeTabState,\n  STORAGE_KEY as STORAGE_KEY_TABS,\n} from './tabs';\nimport { CodeMirrorEditor } from './types';\nimport { STORAGE_KEY as STORAGE_KEY_VARIABLES } from './variable-editor';\n\nexport type CodeMirrorEditorWithOperationFacts = CodeMirrorEditor & {\n  documentAST: DocumentNode | null;\n  operationName: string | null;\n  operations: OperationDefinitionNode[] | null;\n  variableToType: VariableToType | null;\n};\n\nexport type EditorContextType = TabsState & {\n  /**\n   * Add a new tab.\n   */\n  addTab(): void;\n  /**\n   * Switch to a different tab.\n   * @param index The index of the tab that should be switched to.\n   */\n  changeTab(index: number): void;\n  /**\n   * Move a tab to a new spot.\n   * @param newOrder The new order for the tabs.\n   */\n  moveTab(newOrder: TabState[]): void;\n  /**\n   * Close a tab. If the currently active tab is closed, the tab before it will\n   * become active. If there is no tab before the closed one, the tab after it\n   * will become active.\n   * @param index The index of the tab that should be closed.\n   */\n  closeTab(index: number): void;\n  /**\n   * Update the state for the tab that is currently active. This will be\n   * reflected in the `tabs` object and the state will be persisted in storage\n   * (if available).\n   * @param partialTab A partial tab state object that will override the\n   * current values. The properties `id`, `hash` and `title` cannot be changed.\n   */\n  updateActiveTabValues(\n    partialTab: Partial<Omit<TabState, 'id' | 'hash' | 'title'>>,\n  ): void;\n\n  /**\n   * The CodeMirror editor instance for the headers editor.\n   */\n  headerEditor: CodeMirrorEditor | null;\n  /**\n   * The CodeMirror editor instance for the query editor. This editor also\n   * stores the operation facts that are derived from the current editor\n   * contents.\n   */\n  queryEditor: CodeMirrorEditorWithOperationFacts | null;\n  /**\n   * The CodeMirror editor instance for the response editor.\n   */\n  responseEditor: CodeMirrorEditor | null;\n  /**\n   * The CodeMirror editor instance for the variables editor.\n   */\n  variableEditor: CodeMirrorEditor | null;\n  /**\n   * Set the CodeMirror editor instance for the headers editor.\n   */\n  setHeaderEditor(newEditor: CodeMirrorEditor): void;\n  /**\n   * Set the CodeMirror editor instance for the query editor.\n   */\n  setQueryEditor(newEditor: CodeMirrorEditorWithOperationFacts): void;\n  /**\n   * Set the CodeMirror editor instance for the response editor.\n   */\n  setResponseEditor(newEditor: CodeMirrorEditor): void;\n  /**\n   * Set the CodeMirror editor instance for the variables editor.\n   */\n  setVariableEditor(newEditor: CodeMirrorEditor): void;\n\n  /**\n   * Changes the operation name and invokes the `onEditOperationName` callback.\n   */\n  setOperationName(operationName: string): void;\n\n  /**\n   * The contents of the headers editor when initially rendering the provider\n   * component.\n   */\n  initialHeaders: string;\n  /**\n   * The contents of the query editor when initially rendering the provider\n   * component.\n   */\n  initialQuery: string;\n  /**\n   * The contents of the response editor when initially rendering the provider\n   * component.\n   */\n  initialResponse: string;\n  /**\n   * The contents of the variables editor when initially rendering the provider\n   * component.\n   */\n  initialVariables: string;\n\n  /**\n   * A map of fragment definitions using the fragment name as key which are\n   * made available to include in the query.\n   */\n  externalFragments: Map<string, FragmentDefinitionNode>;\n  /**\n   * A list of custom validation rules that are run in addition to the rules\n   * provided by the GraphQL spec.\n   */\n  validationRules: ValidationRule[];\n\n  /**\n   * If the contents of the headers editor are persisted in storage.\n   */\n  shouldPersistHeaders: boolean;\n  /**\n   * Changes if headers should be persisted.\n   */\n  setShouldPersistHeaders(persist: boolean): void;\n};\n\nexport const EditorContext =\n  createNullableContext<EditorContextType>('EditorContext');\n\nexport type EditorContextProviderProps = {\n  children: ReactNode;\n  /**\n   * The initial contents of the query editor when loading GraphiQL and there\n   * is no other source for the editor state. Other sources can be:\n   * - The `query` prop\n   * - The value persisted in storage\n   * These default contents will only be used for the first tab. When opening\n   * more tabs the query editor will start out empty.\n   */\n  defaultQuery?: string;\n  /**\n   * With this prop you can pass so-called \"external\" fragments that will be\n   * included in the query document (depending on usage). You can either pass\n   * the fragments using SDL (passing a string) or you can pass a list of\n   * `FragmentDefinitionNode` objects.\n   */\n  externalFragments?: string | FragmentDefinitionNode[];\n  /**\n   * This prop can be used to set the contents of the headers editor. Every\n   * time this prop changes, the contents of the headers editor are replaced.\n   * Note that the editor contents can be changed in between these updates by\n   * typing in the editor.\n   */\n  headers?: string;\n  /**\n   * This prop can be used to define the default set of tabs, with their\n   * queries, variables, and headers. It will be used as default only if\n   * there is no tab state persisted in storage.\n   *\n   * @example\n   * ```tsx\n   * <GraphiQL\n   *   defaultTabs={[\n   *     { query: 'query myExampleQuery {}' },\n   *     { query: '{ id }' }\n   *   ]}\n   * />\n   *```\n   */\n  defaultTabs?: TabDefinition[];\n  /**\n   * Invoked when the operation name changes. Possible triggers are:\n   * - Editing the contents of the query editor\n   * - Selecting a operation for execution in a document that contains multiple\n   *   operation definitions\n   * @param operationName The operation name after it has been changed.\n   */\n  onEditOperationName?(operationName: string): void;\n  /**\n   * Invoked when the state of the tabs changes. Possible triggers are:\n   * - Updating any editor contents inside the currently active tab\n   * - Adding a tab\n   * - Switching to a different tab\n   * - Closing a tab\n   * @param tabState The tabs state after it has been updated.\n   */\n  onTabChange?(tabState: TabsState): void;\n  /**\n   * This prop can be used to set the contents of the query editor. Every time\n   * this prop changes, the contents of the query editor are replaced. Note\n   * that the editor contents can be changed in between these updates by typing\n   * in the editor.\n   */\n  query?: string;\n  /**\n   * This prop can be used to set the contents of the response editor. Every\n   * time this prop changes, the contents of the response editor are replaced.\n   * Note that the editor contents can change in between these updates by\n   * executing queries that will show a response.\n   */\n  response?: string;\n  /**\n   * This prop toggles if the contents of the headers editor are persisted in\n   * storage.\n   * @default false\n   */\n  shouldPersistHeaders?: boolean;\n  /**\n   * This prop accepts custom validation rules for GraphQL documents that are\n   * run against the contents of the query editor (in addition to the rules\n   * that are specified in the GraphQL spec).\n   */\n  validationRules?: ValidationRule[];\n  /**\n   * This prop can be used to set the contents of the variables editor. Every\n   * time this prop changes, the contents of the variables editor are replaced.\n   * Note that the editor contents can be changed in between these updates by\n   * typing in the editor.\n   */\n  variables?: string;\n\n  /**\n   * Headers to be set when opening a new tab\n   */\n  defaultHeaders?: string;\n};\n\nexport function EditorContextProvider(props: EditorContextProviderProps) {\n  const storage = useStorageContext();\n  const [headerEditor, setHeaderEditor] = useState<CodeMirrorEditor | null>(\n    null,\n  );\n  const [queryEditor, setQueryEditor] =\n    useState<CodeMirrorEditorWithOperationFacts | null>(null);\n  const [responseEditor, setResponseEditor] = useState<CodeMirrorEditor | null>(\n    null,\n  );\n  const [variableEditor, setVariableEditor] = useState<CodeMirrorEditor | null>(\n    null,\n  );\n\n  const [shouldPersistHeaders, setShouldPersistHeadersInternal] = useState(\n    () => {\n      const isStored = storage?.get(PERSIST_HEADERS_STORAGE_KEY) !== null;\n      return props.shouldPersistHeaders !== false && isStored\n        ? storage?.get(PERSIST_HEADERS_STORAGE_KEY) === 'true'\n        : Boolean(props.shouldPersistHeaders);\n    },\n  );\n\n  useSynchronizeValue(headerEditor, props.headers);\n  useSynchronizeValue(queryEditor, props.query);\n  useSynchronizeValue(responseEditor, props.response);\n  useSynchronizeValue(variableEditor, props.variables);\n\n  const storeTabs = useStoreTabs({\n    storage,\n    shouldPersistHeaders,\n  });\n\n  // We store this in state but never update it. By passing a function we only\n  // need to compute it lazily during the initial render.\n  const [initialState] = useState(() => {\n    const query = props.query ?? storage?.get(STORAGE_KEY_QUERY) ?? null;\n    const variables =\n      props.variables ?? storage?.get(STORAGE_KEY_VARIABLES) ?? null;\n    const headers = props.headers ?? storage?.get(STORAGE_KEY_HEADERS) ?? null;\n    const response = props.response ?? '';\n\n    const tabState = getDefaultTabState({\n      query,\n      variables,\n      headers,\n      defaultTabs: props.defaultTabs,\n      defaultQuery: props.defaultQuery || DEFAULT_QUERY,\n      defaultHeaders: props.defaultHeaders,\n      storage,\n      shouldPersistHeaders,\n    });\n    storeTabs(tabState);\n\n    return {\n      query:\n        query ??\n        (tabState.activeTabIndex === 0 ? tabState.tabs[0].query : null) ??\n        '',\n      variables: variables ?? '',\n      headers: headers ?? props.defaultHeaders ?? '',\n      response,\n      tabState,\n    };\n  });\n\n  const [tabState, setTabState] = useState<TabsState>(initialState.tabState);\n\n  const setShouldPersistHeaders = useCallback(\n    (persist: boolean) => {\n      if (persist) {\n        storage?.set(STORAGE_KEY_HEADERS, headerEditor?.getValue() ?? '');\n        const serializedTabs = serializeTabState(tabState, true);\n        storage?.set(STORAGE_KEY_TABS, serializedTabs);\n      } else {\n        storage?.set(STORAGE_KEY_HEADERS, '');\n        clearHeadersFromTabs(storage);\n      }\n      setShouldPersistHeadersInternal(persist);\n      storage?.set(PERSIST_HEADERS_STORAGE_KEY, persist.toString());\n    },\n    [storage, tabState, headerEditor],\n  );\n\n  const lastShouldPersistHeadersProp = useRef<boolean | undefined>();\n  useEffect(() => {\n    const propValue = Boolean(props.shouldPersistHeaders);\n    if (lastShouldPersistHeadersProp?.current !== propValue) {\n      setShouldPersistHeaders(propValue);\n      lastShouldPersistHeadersProp.current = propValue;\n    }\n  }, [props.shouldPersistHeaders, setShouldPersistHeaders]);\n\n  const synchronizeActiveTabValues = useSynchronizeActiveTabValues({\n    queryEditor,\n    variableEditor,\n    headerEditor,\n    responseEditor,\n  });\n  const { onTabChange, defaultHeaders, children } = props;\n  const setEditorValues = useSetEditorValues({\n    queryEditor,\n    variableEditor,\n    headerEditor,\n    responseEditor,\n    defaultHeaders,\n  });\n\n  const addTab = useCallback<EditorContextType['addTab']>(() => {\n    setTabState(current => {\n      // Make sure the current tab stores the latest values\n      const updatedValues = synchronizeActiveTabValues(current);\n      const updated = {\n        tabs: [...updatedValues.tabs, createTab({ headers: defaultHeaders })],\n        activeTabIndex: updatedValues.tabs.length,\n      };\n      storeTabs(updated);\n      setEditorValues(updated.tabs[updated.activeTabIndex]);\n      onTabChange?.(updated);\n      return updated;\n    });\n  }, [\n    defaultHeaders,\n    onTabChange,\n    setEditorValues,\n    storeTabs,\n    synchronizeActiveTabValues,\n  ]);\n\n  const changeTab = useCallback<EditorContextType['changeTab']>(\n    index => {\n      setTabState(current => {\n        const updated = {\n          ...current,\n          activeTabIndex: index,\n        };\n        storeTabs(updated);\n        setEditorValues(updated.tabs[updated.activeTabIndex]);\n        onTabChange?.(updated);\n        return updated;\n      });\n    },\n    [onTabChange, setEditorValues, storeTabs],\n  );\n\n  const moveTab = useCallback<EditorContextType['moveTab']>(\n    newOrder => {\n      setTabState(current => {\n        const activeTab = current.tabs[current.activeTabIndex];\n        const updated = {\n          tabs: newOrder,\n          activeTabIndex: newOrder.indexOf(activeTab),\n        };\n        storeTabs(updated);\n        setEditorValues(updated.tabs[updated.activeTabIndex]);\n        onTabChange?.(updated);\n        return updated;\n      });\n    },\n    [onTabChange, setEditorValues, storeTabs],\n  );\n\n  const closeTab = useCallback<EditorContextType['closeTab']>(\n    index => {\n      setTabState(current => {\n        const updated = {\n          tabs: current.tabs.filter((_tab, i) => index !== i),\n          activeTabIndex: Math.max(current.activeTabIndex - 1, 0),\n        };\n        storeTabs(updated);\n        setEditorValues(updated.tabs[updated.activeTabIndex]);\n        onTabChange?.(updated);\n        return updated;\n      });\n    },\n    [onTabChange, setEditorValues, storeTabs],\n  );\n\n  const updateActiveTabValues = useCallback<\n    EditorContextType['updateActiveTabValues']\n  >(\n    partialTab => {\n      setTabState(current => {\n        const updated = setPropertiesInActiveTab(current, partialTab);\n        storeTabs(updated);\n        onTabChange?.(updated);\n        return updated;\n      });\n    },\n    [onTabChange, storeTabs],\n  );\n\n  const { onEditOperationName } = props;\n  const setOperationName = useCallback<EditorContextType['setOperationName']>(\n    operationName => {\n      if (!queryEditor) {\n        return;\n      }\n\n      queryEditor.operationName = operationName;\n      updateActiveTabValues({ operationName });\n      onEditOperationName?.(operationName);\n    },\n    [onEditOperationName, queryEditor, updateActiveTabValues],\n  );\n\n  const externalFragments = useMemo(() => {\n    const map = new Map<string, FragmentDefinitionNode>();\n    if (Array.isArray(props.externalFragments)) {\n      for (const fragment of props.externalFragments) {\n        map.set(fragment.name.value, fragment);\n      }\n    } else if (typeof props.externalFragments === 'string') {\n      visit(parse(props.externalFragments, {}), {\n        FragmentDefinition(fragment) {\n          map.set(fragment.name.value, fragment);\n        },\n      });\n    } else if (props.externalFragments) {\n      throw new Error(\n        'The `externalFragments` prop must either be a string that contains the fragment definitions in SDL or a list of FragmentDefinitionNode objects.',\n      );\n    }\n    return map;\n  }, [props.externalFragments]);\n\n  const validationRules = useMemo(\n    () => props.validationRules || [],\n    [props.validationRules],\n  );\n\n  const value = useMemo<EditorContextType>(\n    () => ({\n      ...tabState,\n      addTab,\n      changeTab,\n      moveTab,\n      closeTab,\n      updateActiveTabValues,\n\n      headerEditor,\n      queryEditor,\n      responseEditor,\n      variableEditor,\n      setHeaderEditor,\n      setQueryEditor,\n      setResponseEditor,\n      setVariableEditor,\n\n      setOperationName,\n\n      initialQuery: initialState.query,\n      initialVariables: initialState.variables,\n      initialHeaders: initialState.headers,\n      initialResponse: initialState.response,\n\n      externalFragments,\n      validationRules,\n\n      shouldPersistHeaders,\n      setShouldPersistHeaders,\n    }),\n    [\n      tabState,\n      addTab,\n      changeTab,\n      moveTab,\n      closeTab,\n      updateActiveTabValues,\n\n      headerEditor,\n      queryEditor,\n      responseEditor,\n      variableEditor,\n\n      setOperationName,\n\n      initialState,\n\n      externalFragments,\n      validationRules,\n\n      shouldPersistHeaders,\n      setShouldPersistHeaders,\n    ],\n  );\n\n  return (\n    <EditorContext.Provider value={value}>{children}</EditorContext.Provider>\n  );\n}\n\nexport const useEditorContext = createContextHook(EditorContext);\n\nconst PERSIST_HEADERS_STORAGE_KEY = 'shouldPersistHeaders';\n\nexport const DEFAULT_QUERY = `# Welcome to GraphiQL\n#\n# GraphiQL is an in-browser tool for writing, validating, and\n# testing GraphQL queries.\n#\n# Type queries into this side of the screen, and you will see intelligent\n# typeaheads aware of the current GraphQL type schema and live syntax and\n# validation errors highlighted within the text.\n#\n# GraphQL queries typically start with a \"{\" character. Lines that start\n# with a # are ignored.\n#\n# An example GraphQL query might look like:\n#\n#     {\n#       field(arg: \"value\") {\n#         subField\n#       }\n#     }\n#\n# Keyboard shortcuts:\n#\n#   Prettify query:  Shift-Ctrl-P (or press the prettify button)\n#\n#  Merge fragments:  Shift-Ctrl-M (or press the merge button)\n#\n#        Run Query:  Ctrl-Enter (or press the play button)\n#\n#    Auto Complete:  Ctrl-Space (or just start typing)\n#\n\n`;\n","import { useEffect } from 'react';\nimport { clsx } from 'clsx';\n\nimport { useEditorContext } from '../context';\nimport { useHeaderEditor, UseHeaderEditorArgs } from '../header-editor';\n\nimport '../style/codemirror.css';\nimport '../style/fold.css';\nimport '../style/editor.css';\n\ntype HeaderEditorProps = UseHeaderEditorArgs & {\n  /**\n   * Visually hide the header editor.\n   * @default false\n   */\n  isHidden?: boolean;\n};\n\nexport function HeaderEditor({ isHidden, ...hookArgs }: HeaderEditorProps) {\n  const { headerEditor } = useEditorContext({\n    nonNull: true,\n    caller: HeaderEditor,\n  });\n  const ref = useHeaderEditor(hookArgs, HeaderEditor);\n\n  useEffect(() => {\n    if (!isHidden) {\n      headerEditor?.refresh();\n    }\n  }, [headerEditor, isHidden]);\n\n  return (\n    <div className={clsx('graphiql-editor', isHidden && 'hidden')} ref={ref} />\n  );\n}\n","import type { Token } from 'codemirror';\nimport { useEffect, useRef, useState } from 'react';\n\ntype ImagePreviewProps = { token: Token };\n\ntype Dimensions = {\n  width: number | null;\n  height: number | null;\n};\n\nexport function ImagePreview(props: ImagePreviewProps) {\n  const [dimensions, setDimensions] = useState<Dimensions>({\n    width: null,\n    height: null,\n  });\n  const [mime, setMime] = useState<string | null>(null);\n\n  const ref = useRef<HTMLImageElement>(null);\n\n  const src = tokenToURL(props.token)?.href;\n\n  useEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n    if (!src) {\n      setDimensions({ width: null, height: null });\n      setMime(null);\n      return;\n    }\n\n    fetch(src, { method: 'HEAD' })\n      .then(response => {\n        setMime(response.headers.get('Content-Type'));\n      })\n      .catch(() => {\n        setMime(null);\n      });\n  }, [src]);\n\n  const dims =\n    dimensions.width !== null && dimensions.height !== null ? (\n      <div>\n        {dimensions.width}x{dimensions.height}\n        {mime === null ? null : ' ' + mime}\n      </div>\n    ) : null;\n\n  return (\n    <div>\n      <img\n        onLoad={() => {\n          setDimensions({\n            width: ref.current?.naturalWidth ?? null,\n            height: ref.current?.naturalHeight ?? null,\n          });\n        }}\n        ref={ref}\n        src={src}\n      />\n      {dims}\n    </div>\n  );\n}\n\nImagePreview.shouldRender = function shouldRender(token: Token) {\n  const url = tokenToURL(token);\n  return url ? isImageURL(url) : false;\n};\n\nfunction tokenToURL(token: Token) {\n  if (token.type !== 'string') {\n    return;\n  }\n\n  const value = token.string.slice(1).slice(0, -1).trim();\n\n  try {\n    const { location } = window;\n    return new URL(value, location.protocol + '//' + location.host);\n  } catch {\n    return;\n  }\n}\n\nfunction isImageURL(url: URL) {\n  return /(bmp|gif|jpeg|jpg|png|svg)$/.test(url.pathname);\n}\n","import { useQueryEditor, UseQueryEditorArgs } from '../query-editor';\n\nimport '../style/codemirror.css';\nimport '../style/fold.css';\nimport '../style/lint.css';\nimport '../style/hint.css';\nimport '../style/info.css';\nimport '../style/jump.css';\nimport '../style/auto-insertion.css';\nimport '../style/editor.css';\n\nexport function QueryEditor(props: UseQueryEditorArgs) {\n  const ref = useQueryEditor(props, QueryEditor);\n  return <div className=\"graphiql-editor\" ref={ref} />;\n}\n","import { formatError } from '@graphiql/toolkit';\nimport type { Position, Token } from 'codemirror';\nimport { ComponentType, useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useSchemaContext } from '../schema';\n\nimport {\n  commonKeys,\n  DEFAULT_EDITOR_THEME,\n  DEFAULT_KEY_MAP,\n  importCodeMirror,\n} from './common';\nimport { ImagePreview } from './components';\nimport { useEditorContext } from './context';\nimport { useSynchronizeOption } from './hooks';\nimport { CodeMirrorEditor, CommonEditorProps } from './types';\n\nexport type ResponseTooltipType = ComponentType<{\n  /**\n   * The position of the token in the editor contents.\n   */\n  pos: Position;\n  /**\n   * The token that has been hovered over.\n   */\n  token: Token;\n}>;\n\nexport type UseResponseEditorArgs = CommonEditorProps & {\n  /**\n   * Customize the tooltip when hovering over properties in the response\n   * editor.\n   */\n  responseTooltip?: ResponseTooltipType;\n};\n\nexport function useResponseEditor(\n  {\n    responseTooltip,\n    editorTheme = DEFAULT_EDITOR_THEME,\n    keyMap = DEFAULT_KEY_MAP,\n  }: UseResponseEditorArgs = {},\n  caller?: Function,\n) {\n  const { fetchError, validationErrors } = useSchemaContext({\n    nonNull: true,\n    caller: caller || useResponseEditor,\n  });\n  const { initialResponse, responseEditor, setResponseEditor } =\n    useEditorContext({\n      nonNull: true,\n      caller: caller || useResponseEditor,\n    });\n  const ref = useRef<HTMLDivElement>(null);\n\n  const responseTooltipRef = useRef<ResponseTooltipType | undefined>(\n    responseTooltip,\n  );\n  useEffect(() => {\n    responseTooltipRef.current = responseTooltip;\n  }, [responseTooltip]);\n\n  useEffect(() => {\n    let isActive = true;\n    void importCodeMirror(\n      [\n        import('codemirror/addon/fold/foldgutter'),\n        import('codemirror/addon/fold/brace-fold'),\n        import('codemirror/addon/dialog/dialog'),\n        import('codemirror/addon/search/search'),\n        import('codemirror/addon/search/searchcursor'),\n        import('codemirror/addon/search/jump-to-line'),\n        // @ts-expect-error\n        import('codemirror/keymap/sublime'),\n        import('codemirror-graphql/esm/results/mode'),\n        import('codemirror-graphql/esm/utils/info-addon'),\n      ],\n      { useCommonAddons: false },\n    ).then(CodeMirror => {\n      // Don't continue if the effect has already been cleaned up\n      if (!isActive) {\n        return;\n      }\n\n      // Handle image tooltips and custom tooltips\n      const tooltipDiv = document.createElement('div');\n      CodeMirror.registerHelper(\n        'info',\n        'graphql-results',\n        (token: Token, _options: any, _cm: CodeMirrorEditor, pos: Position) => {\n          const infoElements: JSX.Element[] = [];\n\n          const ResponseTooltipComponent = responseTooltipRef.current;\n          if (ResponseTooltipComponent) {\n            infoElements.push(\n              <ResponseTooltipComponent pos={pos} token={token} />,\n            );\n          }\n\n          if (ImagePreview.shouldRender(token)) {\n            infoElements.push(\n              <ImagePreview key=\"image-preview\" token={token} />,\n            );\n          }\n\n          // We can't refactor to root.unmount() from React 18 because we support React 16/17 too\n          if (!infoElements.length) {\n            // eslint-disable-next-line react/no-deprecated -- We still support React 16/17\n            ReactDOM.unmountComponentAtNode(tooltipDiv);\n            return null;\n          }\n          // eslint-disable-next-line react/no-deprecated -- We still support React 16/17\n          ReactDOM.render(infoElements, tooltipDiv);\n          return tooltipDiv;\n        },\n      );\n\n      const container = ref.current;\n      if (!container) {\n        return;\n      }\n\n      const newEditor = CodeMirror(container, {\n        value: initialResponse,\n        lineWrapping: true,\n        readOnly: true,\n        theme: editorTheme,\n        mode: 'graphql-results',\n        foldGutter: true,\n        gutters: ['CodeMirror-foldgutter'],\n        // @ts-expect-error\n        info: true,\n        extraKeys: commonKeys,\n      });\n\n      setResponseEditor(newEditor);\n    });\n\n    return () => {\n      isActive = false;\n    };\n  }, [editorTheme, initialResponse, setResponseEditor]);\n\n  useSynchronizeOption(responseEditor, 'keyMap', keyMap);\n\n  useEffect(() => {\n    if (fetchError) {\n      responseEditor?.setValue(fetchError);\n    }\n    if (validationErrors.length > 0) {\n      responseEditor?.setValue(formatError(validationErrors));\n    }\n  }, [responseEditor, fetchError, validationErrors]);\n\n  return ref;\n}\n","import { useResponseEditor, UseResponseEditorArgs } from '../response-editor';\n\nimport '../style/codemirror.css';\nimport '../style/fold.css';\nimport '../style/info.css';\nimport '../style/editor.css';\n\nexport function ResponseEditor(props: UseResponseEditorArgs) {\n  const ref = useResponseEditor(props, ResponseEditor);\n  return (\n    <section\n      className=\"result-window\"\n      aria-label=\"Result Window\"\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      ref={ref}\n    />\n  );\n}\n","import { useEffect } from 'react';\nimport { clsx } from 'clsx';\n\nimport { useEditorContext } from '../context';\nimport { useVariableEditor, UseVariableEditorArgs } from '../variable-editor';\n\nimport '../style/codemirror.css';\nimport '../style/fold.css';\nimport '../style/lint.css';\nimport '../style/hint.css';\nimport '../style/editor.css';\n\ntype VariableEditorProps = UseVariableEditorArgs & {\n  /**\n   * Visually hide the header editor.\n   * @default false\n   */\n  isHidden?: boolean;\n};\n\nexport function VariableEditor({ isHidden, ...hookArgs }: VariableEditorProps) {\n  const { variableEditor } = useEditorContext({\n    nonNull: true,\n    caller: VariableEditor,\n  });\n  const ref = useVariableEditor(hookArgs, VariableEditor);\n\n  useEffect(() => {\n    if (variableEditor && !isHidden) {\n      variableEditor.refresh();\n    }\n  }, [variableEditor, isHidden]);\n\n  return (\n    <div className={clsx('graphiql-editor', isHidden && 'hidden')} ref={ref} />\n  );\n}\n","import { EditorContextProvider, EditorContextProviderProps } from './editor';\nimport {\n  ExecutionContextProvider,\n  ExecutionContextProviderProps,\n} from './execution';\nimport {\n  ExplorerContextProvider,\n  ExplorerContextProviderProps,\n} from './explorer/context';\nimport { HistoryContextProvider, HistoryContextProviderProps } from './history';\nimport { PluginContextProvider, PluginContextProviderProps } from './plugin';\nimport { SchemaContextProvider, SchemaContextProviderProps } from './schema';\nimport { StorageContextProvider, StorageContextProviderProps } from './storage';\n\nexport type GraphiQLProviderProps = EditorContextProviderProps &\n  ExecutionContextProviderProps &\n  ExplorerContextProviderProps &\n  HistoryContextProviderProps &\n  PluginContextProviderProps &\n  SchemaContextProviderProps &\n  StorageContextProviderProps;\n\nexport function GraphiQLProvider({\n  children,\n  dangerouslyAssumeSchemaIsValid,\n  defaultQuery,\n  defaultHeaders,\n  defaultTabs,\n  externalFragments,\n  fetcher,\n  getDefaultFieldNames,\n  headers,\n  inputValueDeprecation,\n  introspectionQueryName,\n  maxHistoryLength,\n  onEditOperationName,\n  onSchemaChange,\n  onTabChange,\n  onTogglePluginVisibility,\n  operationName,\n  plugins,\n  query,\n  response,\n  schema,\n  schemaDescription,\n  shouldPersistHeaders,\n  storage,\n  validationRules,\n  variables,\n  visiblePlugin,\n}: GraphiQLProviderProps) {\n  return (\n    <StorageContextProvider storage={storage}>\n      <HistoryContextProvider maxHistoryLength={maxHistoryLength}>\n        <EditorContextProvider\n          defaultQuery={defaultQuery}\n          defaultHeaders={defaultHeaders}\n          defaultTabs={defaultTabs}\n          externalFragments={externalFragments}\n          headers={headers}\n          onEditOperationName={onEditOperationName}\n          onTabChange={onTabChange}\n          query={query}\n          response={response}\n          shouldPersistHeaders={shouldPersistHeaders}\n          validationRules={validationRules}\n          variables={variables}\n        >\n          <SchemaContextProvider\n            dangerouslyAssumeSchemaIsValid={dangerouslyAssumeSchemaIsValid}\n            fetcher={fetcher}\n            inputValueDeprecation={inputValueDeprecation}\n            introspectionQueryName={introspectionQueryName}\n            onSchemaChange={onSchemaChange}\n            schema={schema}\n            schemaDescription={schemaDescription}\n          >\n            <ExecutionContextProvider\n              getDefaultFieldNames={getDefaultFieldNames}\n              fetcher={fetcher}\n              operationName={operationName}\n            >\n              <ExplorerContextProvider>\n                <PluginContextProvider\n                  onTogglePluginVisibility={onTogglePluginVisibility}\n                  plugins={plugins}\n                  visiblePlugin={visiblePlugin}\n                >\n                  {children}\n                </PluginContextProvider>\n              </ExplorerContextProvider>\n            </ExecutionContextProvider>\n          </SchemaContextProvider>\n        </EditorContextProvider>\n      </HistoryContextProvider>\n    </StorageContextProvider>\n  );\n}\n","import { useCallback, useLayoutEffect, useMemo, useState } from 'react';\nimport { useStorageContext } from './storage';\n\n/**\n * The value `null` semantically means that the user does not explicitly choose\n * any theme, so we use the system default.\n */\nexport type Theme = 'light' | 'dark' | null;\n\nexport function useTheme() {\n  const storageContext = useStorageContext();\n\n  const [theme, setThemeInternal] = useState<Theme>(() => {\n    if (!storageContext) {\n      return null;\n    }\n\n    const stored = storageContext.get(STORAGE_KEY);\n    switch (stored) {\n      case 'light':\n        return 'light';\n      case 'dark':\n        return 'dark';\n      default:\n        if (typeof stored === 'string') {\n          // Remove the invalid stored value\n          storageContext.set(STORAGE_KEY, '');\n        }\n        return null;\n    }\n  });\n\n  useLayoutEffect(() => {\n    if (typeof window === 'undefined') {\n      return;\n    }\n\n    document.body.classList.remove('graphiql-light', 'graphiql-dark');\n    if (theme) {\n      document.body.classList.add(`graphiql-${theme}`);\n    }\n  }, [theme]);\n\n  const setTheme = useCallback(\n    (newTheme: Theme) => {\n      storageContext?.set(STORAGE_KEY, newTheme || '');\n      setThemeInternal(newTheme);\n    },\n    [storageContext],\n  );\n\n  return useMemo(() => ({ theme, setTheme }), [theme, setTheme]);\n}\n\nconst STORAGE_KEY = 'theme';\n","import {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useStorageContext } from '../storage';\nimport debounce from './debounce';\n\ntype ResizableElement = 'first' | 'second';\n\ntype UseDragResizeArgs = {\n  /**\n   * Set the default sizes for the two resizable halves by passing their ratio\n   * (first divided by second).\n   */\n  defaultSizeRelation?: number;\n  /**\n   * The direction in which the two halves should be resizable.\n   */\n  direction: 'horizontal' | 'vertical';\n  /**\n   * Choose one of the two halves that should initially be hidden.\n   */\n  initiallyHidden?: ResizableElement;\n  /**\n   * Invoked when the visibility of one of the halves changes.\n   * @param hiddenElement The element that is now hidden after the change\n   * (`null` if both are visible).\n   */\n  onHiddenElementChange?(hiddenElement: ResizableElement | null): void;\n  /**\n   * The minimum width in pixels for the first half. If it is resized to a\n   * width smaller than this threshold, the half will be hidden.\n   */\n  sizeThresholdFirst?: number;\n  /**\n   * The minimum width in pixels for the second half. If it is resized to a\n   * width smaller than this threshold, the half will be hidden.\n   */\n  sizeThresholdSecond?: number;\n  /**\n   * A key for which the state of resizing is persisted in storage (if storage\n   * is available).\n   */\n  storageKey?: string;\n};\n\nexport function useDragResize({\n  defaultSizeRelation = DEFAULT_FLEX,\n  direction,\n  initiallyHidden,\n  onHiddenElementChange,\n  sizeThresholdFirst = 100,\n  sizeThresholdSecond = 100,\n  storageKey,\n}: UseDragResizeArgs) {\n  const storage = useStorageContext();\n\n  const store = useMemo(\n    () =>\n      debounce(500, (value: string) => {\n        if (storageKey) {\n          storage?.set(storageKey, value);\n        }\n      }),\n    [storage, storageKey],\n  );\n\n  const [hiddenElement, setHiddenElement] = useState<ResizableElement | null>(\n    () => {\n      const storedValue = storageKey && storage?.get(storageKey);\n      if (storedValue === HIDE_FIRST || initiallyHidden === 'first') {\n        return 'first';\n      }\n      if (storedValue === HIDE_SECOND || initiallyHidden === 'second') {\n        return 'second';\n      }\n      return null;\n    },\n  );\n\n  const setHiddenElementWithCallback = useCallback(\n    (element: ResizableElement | null) => {\n      if (element !== hiddenElement) {\n        setHiddenElement(element);\n        onHiddenElementChange?.(element);\n      }\n    },\n    [hiddenElement, onHiddenElementChange],\n  );\n\n  const firstRef = useRef<HTMLDivElement>(null);\n  const dragBarRef = useRef<HTMLDivElement>(null);\n  const secondRef = useRef<HTMLDivElement>(null);\n\n  const defaultFlexRef = useRef(`${defaultSizeRelation}`);\n\n  /**\n   * Set initial flex values\n   */\n  useLayoutEffect(() => {\n    const storedValue =\n      (storageKey && storage?.get(storageKey)) || defaultFlexRef.current;\n\n    if (firstRef.current) {\n      firstRef.current.style.display = 'flex';\n      firstRef.current.style.flex =\n        storedValue === HIDE_FIRST || storedValue === HIDE_SECOND\n          ? defaultFlexRef.current\n          : storedValue;\n    }\n\n    if (secondRef.current) {\n      secondRef.current.style.display = 'flex';\n      secondRef.current.style.flex = '1';\n    }\n\n    if (dragBarRef.current) {\n      dragBarRef.current.style.display = 'flex';\n    }\n  }, [direction, storage, storageKey]);\n\n  const hide = useCallback((resizableElement: ResizableElement) => {\n    const element =\n      resizableElement === 'first' ? firstRef.current : secondRef.current;\n    if (!element) {\n      return;\n    }\n\n    // We hide elements off screen because of codemirror. If the page is loaded\n    // and the codemirror container would have zero width, the layout isn't\n    // instant pretty. By always giving the editor some width we avoid any\n    // layout shifts when the editor reappears.\n    element.style.left = '-1000px';\n    element.style.position = 'absolute';\n    element.style.opacity = '0';\n    element.style.height = '500px';\n    element.style.width = '500px';\n\n    // Make sure that the flex value of the first item is at least equal to one\n    // so that the entire space of the parent element is filled up\n    if (firstRef.current) {\n      const flex = parseFloat(firstRef.current.style.flex);\n      if (!Number.isFinite(flex) || flex < 1) {\n        firstRef.current.style.flex = '1';\n      }\n    }\n  }, []);\n\n  const show = useCallback(\n    (resizableElement: ResizableElement) => {\n      const element =\n        resizableElement === 'first' ? firstRef.current : secondRef.current;\n      if (!element) {\n        return;\n      }\n\n      element.style.width = '';\n      element.style.height = '';\n      element.style.opacity = '';\n      element.style.position = '';\n      element.style.left = '';\n\n      if (storage && storageKey) {\n        const storedValue = storage.get(storageKey);\n        if (\n          firstRef.current &&\n          storedValue !== HIDE_FIRST &&\n          storedValue !== HIDE_SECOND\n        ) {\n          firstRef.current.style.flex = storedValue || defaultFlexRef.current;\n        }\n      }\n    },\n    [storage, storageKey],\n  );\n\n  /**\n   * Hide and show items when state changes\n   */\n  useLayoutEffect(() => {\n    if (hiddenElement === 'first') {\n      hide('first');\n    } else {\n      show('first');\n    }\n    if (hiddenElement === 'second') {\n      hide('second');\n    } else {\n      show('second');\n    }\n  }, [hiddenElement, hide, show]);\n\n  useEffect(() => {\n    if (!dragBarRef.current || !firstRef.current || !secondRef.current) {\n      return;\n    }\n    const dragBarContainer = dragBarRef.current;\n    const firstContainer = firstRef.current;\n    const wrapper = firstContainer.parentElement!;\n\n    const eventProperty = direction === 'horizontal' ? 'clientX' : 'clientY';\n    const rectProperty = direction === 'horizontal' ? 'left' : 'top';\n    const adjacentRectProperty =\n      direction === 'horizontal' ? 'right' : 'bottom';\n    const sizeProperty =\n      direction === 'horizontal' ? 'clientWidth' : 'clientHeight';\n\n    function handleMouseDown(downEvent: MouseEvent) {\n      downEvent.preventDefault();\n\n      // Distance between the start of the drag bar and the exact point where\n      // the user clicked on the drag bar.\n      const offset =\n        downEvent[eventProperty] -\n        dragBarContainer.getBoundingClientRect()[rectProperty];\n\n      function handleMouseMove(moveEvent: MouseEvent) {\n        if (moveEvent.buttons === 0) {\n          return handleMouseUp();\n        }\n\n        const firstSize =\n          moveEvent[eventProperty] -\n          wrapper.getBoundingClientRect()[rectProperty] -\n          offset;\n        const secondSize =\n          wrapper.getBoundingClientRect()[adjacentRectProperty] -\n          moveEvent[eventProperty] +\n          offset -\n          dragBarContainer[sizeProperty];\n\n        if (firstSize < sizeThresholdFirst) {\n          // Hide the first display\n          setHiddenElementWithCallback('first');\n          store(HIDE_FIRST);\n        } else if (secondSize < sizeThresholdSecond) {\n          // Hide the second display\n          setHiddenElementWithCallback('second');\n          store(HIDE_SECOND);\n        } else {\n          // Show both and adjust the flex value of the first one (the flex\n          // value for the second one is always `1`)\n          setHiddenElementWithCallback(null);\n          const newFlex = `${firstSize / secondSize}`;\n          firstContainer.style.flex = newFlex;\n          store(newFlex);\n        }\n      }\n\n      function handleMouseUp() {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      }\n\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n\n    dragBarContainer.addEventListener('mousedown', handleMouseDown);\n\n    function reset() {\n      if (firstRef.current) {\n        firstRef.current.style.flex = defaultFlexRef.current;\n      }\n      store(defaultFlexRef.current);\n      setHiddenElementWithCallback(null);\n    }\n\n    dragBarContainer.addEventListener('dblclick', reset);\n\n    return () => {\n      dragBarContainer.removeEventListener('mousedown', handleMouseDown);\n      dragBarContainer.removeEventListener('dblclick', reset);\n    };\n  }, [\n    direction,\n    setHiddenElementWithCallback,\n    sizeThresholdFirst,\n    sizeThresholdSecond,\n    store,\n  ]);\n\n  return useMemo(\n    () => ({\n      dragBarRef,\n      hiddenElement,\n      firstRef,\n      setHiddenElement,\n      secondRef,\n    }),\n    [hiddenElement, setHiddenElement],\n  );\n}\n\nconst DEFAULT_FLEX = 1;\nconst HIDE_FIRST = 'hide-first';\nconst HIDE_SECOND = 'hide-second';\n","import { forwardRef, MouseEventHandler, useCallback, useState } from 'react';\nimport { clsx } from 'clsx';\nimport { Tooltip, UnStyledButton } from '../ui';\n\nimport './button.css';\n\ntype ToolbarButtonProps = {\n  label: string;\n};\n\nexport const ToolbarButton = forwardRef<\n  HTMLButtonElement,\n  ToolbarButtonProps & JSX.IntrinsicElements['button']\n>(({ label, onClick, ...props }, ref) => {\n  const [error, setError] = useState<Error | null>(null);\n  const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\n    event => {\n      try {\n        onClick?.(event);\n        setError(null);\n      } catch (err) {\n        setError(\n          err instanceof Error\n            ? err\n            : new Error(`Toolbar button click failed: ${err}`),\n        );\n      }\n    },\n    [onClick],\n  );\n\n  return (\n    <Tooltip label={label}>\n      <UnStyledButton\n        {...props}\n        ref={ref}\n        type=\"button\"\n        className={clsx(\n          'graphiql-toolbar-button',\n          error && 'error',\n          props.className,\n        )}\n        onClick={handleClick}\n        aria-label={error ? error.message : label}\n        aria-invalid={error ? 'true' : props['aria-invalid']}\n      />\n    </Tooltip>\n  );\n});\nToolbarButton.displayName = 'ToolbarButton';\n","import { useEditorContext } from '../editor';\nimport { useExecutionContext } from '../execution';\nimport { PlayIcon, StopIcon } from '../icons';\nimport { DropdownMenu, Tooltip } from '../ui';\n\nimport './execute.css';\n\nexport function ExecuteButton() {\n  const { queryEditor, setOperationName } = useEditorContext({\n    nonNull: true,\n    caller: ExecuteButton,\n  });\n  const { isFetching, isSubscribed, operationName, run, stop } =\n    useExecutionContext({\n      nonNull: true,\n      caller: ExecuteButton,\n    });\n\n  const operations = queryEditor?.operations || [];\n  const hasOptions = operations.length > 1 && typeof operationName !== 'string';\n  const isRunning = isFetching || isSubscribed;\n\n  const label = `${isRunning ? 'Stop' : 'Execute'} query (Ctrl-Enter)`;\n  const buttonProps = {\n    type: 'button' as const,\n    className: 'graphiql-execute-button',\n    children: isRunning ? <StopIcon /> : <PlayIcon />,\n    'aria-label': label,\n  };\n\n  return hasOptions && !isRunning ? (\n    <DropdownMenu>\n      <Tooltip label={label}>\n        <DropdownMenu.Button {...buttonProps} />\n      </Tooltip>\n\n      <DropdownMenu.Content>\n        {operations.map((operation, i) => {\n          const opName = operation.name\n            ? operation.name.value\n            : `<Unnamed ${operation.operation}>`;\n          return (\n            <DropdownMenu.Item\n              key={`${opName}-${i}`}\n              onSelect={() => {\n                const selectedOperationName = operation.name?.value;\n                if (\n                  queryEditor &&\n                  selectedOperationName &&\n                  selectedOperationName !== queryEditor.operationName\n                ) {\n                  setOperationName(selectedOperationName);\n                }\n                run();\n              }}\n            >\n              {opName}\n            </DropdownMenu.Item>\n          );\n        })}\n      </DropdownMenu.Content>\n    </DropdownMenu>\n  ) : (\n    <Tooltip label={label}>\n      <button\n        {...buttonProps}\n        onClick={() => {\n          if (isRunning) {\n            stop();\n          } else {\n            run();\n          }\n        }}\n      />\n    </Tooltip>\n  );\n}\n","import { ReactNode } from 'react';\nimport { clsx } from 'clsx';\nimport { DropdownMenu, Tooltip } from '../ui';\nimport { createComponentGroup } from '../utility/component-group';\n\nimport './menu.css';\nimport { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\n\ntype ToolbarMenuProps = {\n  button: ReactNode;\n  label: string;\n};\n\nconst ToolbarMenuRoot = ({\n  button,\n  children,\n  label,\n  ...props\n}: ToolbarMenuProps & {\n  children: ReactNode;\n  className?: string;\n} & DropdownMenuProps) => (\n  <DropdownMenu {...props}>\n    <Tooltip label={label}>\n      <DropdownMenu.Button\n        className={clsx(\n          'graphiql-un-styled graphiql-toolbar-menu',\n          props.className,\n        )}\n        aria-label={label}\n      >\n        {button}\n      </DropdownMenu.Button>\n    </Tooltip>\n    <DropdownMenu.Content>{children}</DropdownMenu.Content>\n  </DropdownMenu>\n);\n\nexport const ToolbarMenu = createComponentGroup(ToolbarMenuRoot, {\n  Item: DropdownMenu.Item,\n});\n"],"names":["createContext","useContext","useRef","useState","StorageAPI","useEffect","React","_ArgumentIcon","_ChevronDownIcon","_ChevronLeftIcon","_ChevronUpIcon","_CloseIcon","_CopyIcon","_DeprecatedArgumentIcon","_DeprecatedEnumValueIcon","_DeprecatedFieldIcon","_DirectiveIcon","_DocsFilledIcon","_DocsIcon","_EnumValueIcon","_FieldIcon","_HistoryIcon","_ImplementsIcon","_KeyboardShortcutIcon","_MagnifyingGlassIcon","_MergeIcon","_PenIcon","_PlayIcon","_PlusIcon","_PrettifyIcon","_ReloadIcon","_RootTypeIcon","_SettingsIcon","_StarFilledIcon","_StarIcon","_StopIcon","_TrashIcon","_TypeIcon","jsx","forwardRef","clsx","Button","D","jsxs","VisuallyHidden","Trigger","Portal","RadixContent","RadixItem","Root","T","Reorder","HistoryStore","useCallback","_a","useMemo","Fragment","value","getFragmentDependenciesForAST","print","formatResult","fetch","isObservable","formatError","isAsyncIterable","astFromValue","isSchema","fetcherReturnToPromise","isPromise","fetch2","buildClientSchema","validateSchema","getIntrospectionQuery","isNamedType","isObjectType","isInputObjectType","isScalarType","isEnumType","isInterfaceType","isUnionType","isNonNullType","isListType","Icon","Combobox","Field","isAbstractType","isType","STORAGE_KEY","renderType","mergeAst","parse","fillLeafs","GraphQLDocumentMode","getOperationFacts","getSelectedOperationName","STORAGE_KEY_VARIABLES","STORAGE_KEY_HEADERS","tabState","STORAGE_KEY_TABS","visit","useLayoutEffect"],"mappings":"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"}